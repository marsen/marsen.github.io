<!DOCTYPE html>
<html>
<head>
  
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NTDGNJZ');</script>
<!-- End Google Tag Manager -->

  
<!-- Google Analytics -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RF47NNRE5G"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RF47NNRE5G');
</script>
<!-- End Google Analytics -->

  
<!-- Google AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1885096025224905"
     crossorigin="anonymous"></script>
<!-- End Google AdSense -->



  <meta charset="utf-8">
  
  <title>Marsen&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Marsen&#39;s Blog">
<meta property="og:url" content="https://blog.marsen.me/page/10/index.html">
<meta property="og:site_name" content="Marsen&#39;s Blog">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="Marsen L.">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Marsen&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
      
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300&display=swap" rel="stylesheet">
  
  
<link rel="stylesheet" href="/css/style.css">

  <meta property ="og:image" content="https://avatars1.githubusercontent.com/u/4269720?s=460&v=4" /> 
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="blog-banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Marsen&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle"></a>
          <div>
          <span style="width: 20px; height: 10px; background: linear-gradient(to bottom, #005BBB 50%, #FFD700 50%); text-align: center; color: white; font-size: 6px; font-weight: bold; line-height: 100px;">
            #StandWithUkraine
          </span>
          </div>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="æœå°‹"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.marsen.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-2022/the_gcp_auth_plugin_is_deprecated" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/06/08/2022/the_gcp_auth_plugin_is_deprecated/" class="article-date">
  <time datetime="2022-06-08T07:53:51.000Z" itemprop="datePublished">2022-06-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/06/08/2022/the_gcp_auth_plugin_is_deprecated/"> [å¯¦ä½œç­†è¨˜] éŒ¯èª¤è™•ç† the gcp auth plugin is deprecated </a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="å‰æƒ…æè¦"></a>å‰æƒ…æè¦</h2><p>ç’°å¢ƒ Mac OSï¼Œ<br>å®‰è£äº†<br>Docker daemon ç‰ˆæœ¬ 4.8.2(79419)<br>gcloud<br>ç‰ˆæœ¬è³‡è¨Šå¦‚ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gcloud --version</span><br><span class="line">Google Cloud SDK 389.0.0</span><br><span class="line">beta 2022.06.03</span><br><span class="line">bq 2.0.74</span><br><span class="line">core 2022.06.03</span><br></pre></td></tr></table></figure>

<p>åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤æ™‚</p>
<blockquote>
<p>â¯ kubectl -n qa get secret deposit-secret -o json</p>
</blockquote>
<p>æœƒå‡ºç¾ä»¥ä¸‹çš„è­¦å‘Šè¨Šæ¯</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">W0608 15:50:50.291340   13396 gcp.go:120] WARNING: the gcp auth plugin is deprecated in v1.22+, unavailable in v1.25+; use gcloud instead.</span><br><span class="line">To learn more, consult https://cloud.google.com/blog/products/containers-kubernetes/kubectl-auth-changes-in-gke</span><br></pre></td></tr></table></figure>

<h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>åœ¨å®‰è£ Docker æ™‚ï¼ŒæœƒåŒæ™‚å®‰è£ä¸Š <code>kubectl</code>ï¼Œ<br>æˆ‘å€‘å¯ä»¥ç”¨ä»¥ä¸‹çš„æŒ‡ä»¤ä½œæŸ¥è©¢ï¼Œ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â¯ where kubectl</span><br><span class="line">/usr/local/bin/kubectl</span><br></pre></td></tr></table></figure>

<p>é€™å€‹æ™‚å€™æˆ‘å€‘å¯ä»¥çœ‹çœ‹<a target="_blank" rel="noopener" href="https://cloud.google.com/blog/products/containers-kubernetes/kubectl-auth-changes-in-gke">é€™ç¯‡</a>,<br>ç°¡è€Œè¨€ä¹‹ï¼Œå°±æ˜¯åœ¨ kubectl v1.25 ç‰ˆæœ¬å¾Œï¼Œ<br>å°æˆæ¬Šçš„è™•ç†ä½œäº†ä¸€é»è®ŠåŒ–ï¼Œæ”¹ç”¨ plugin è™•ç†ã€‚<br>æ‰€ä»¥ç•¶ä½¿ç”¨èˆŠç‰ˆæœ¬( &lt; v1.25 ç‰ˆ)æ™‚æœƒå‡ºç¤ºè­¦å‘Š</p>
<h2 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h2><p>å…©å€‹æ­¥é©Ÿ<br>ç§»é™¤åŸæœ‰çš„ kubectl ä¸¦é€é gcloud å®‰è£æ–°ç‰ˆæœ¬çš„ kubectl</p>
<h3 id="ç§»é™¤-kubectl-çš„-link"><a href="#ç§»é™¤-kubectl-çš„-link" class="headerlink" title="ç§»é™¤ kubectl çš„ link"></a>ç§»é™¤ kubectl çš„ link</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm kubectl</span><br></pre></td></tr></table></figure>

<p>é€™æ˜¯åœ¨å®‰è£ Docker æ™‚ç”¢ç”Ÿçš„ã€‚<br>å¦‚æœä½ æƒ³æŸ¥çœ‹ link çš„è³‡è¨Šï¼Œå¯ä»¥åœ¨ç§»é™¤å‰ç”¨ä»¥ä¸‹æŒ‡ä»¤åˆ‡æ›åˆ°ç³»çµ±ç›®éŒ„</p>
<blockquote>
<p>â¯ cd &#x2F;usr&#x2F;local&#x2F;bin</p>
</blockquote>
<p>å†é€é <code>ll</code> æª¢è¦–ç´°ç¯€ï¼Œå¤§æ¦‚çš„å›æ‡‰å¦‚ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">â¯ ll</span><br><span class="line">total 412936</span><br><span class="line">...ç•¥</span><br><span class="line">lrwxr-xr-x  1 root  wheel    55B  6  8 15:45 kubectl -&gt; /Applications/Docker.app/Contents/</span><br><span class="line">...ç•¥</span><br></pre></td></tr></table></figure>

<h2 id="gcloud-å®‰è£-kubectl"><a href="#gcloud-å®‰è£-kubectl" class="headerlink" title="gcloud å®‰è£ kubectl"></a>gcloud å®‰è£ kubectl</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud components install kubectl</span><br></pre></td></tr></table></figure>

<p>å‡ºç¾ä»¥ä¸‹è¨Šæ¯å†æŒ‰ y</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Your current Google Cloud CLI version is: 389.0.0</span><br><span class="line">Installing components from version: 389.0.0</span><br><span class="line"></span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚               These components will be installed.                â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚         Name        â”‚       Version       â”‚         Size         â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚ kubectl             â”‚              1.22.9 â”‚             65.2 MiB â”‚</span><br><span class="line">â”‚ kubectl             â”‚              1.22.9 â”‚              &lt; 1 MiB â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line"></span><br><span class="line">For the latest full release notes, please visit:</span><br><span class="line">  https://cloud.google.com/sdk/release_notes</span><br><span class="line"></span><br><span class="line">Do you want to continue (Y/n)?  y</span><br></pre></td></tr></table></figure>

<p>å†æ¬¡åŸ·è¡Œ kubectl ç›¸é—œçš„æŒ‡ä»¤å°±ä¸æœƒå™´éŒ¯äº†</p>
<h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ul>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/53597361/there-are-older-versions-of-google-cloud-platform-tools-docker">There are older versions of Google Cloud Platform tools: Docker</a></li>
<li><a target="_blank" rel="noopener" href="https://cloud.google.com/blog/products/containers-kubernetes/kubectl-auth-changes-in-gke">Hereâ€™s what to know about changes to kubectl authentication coming in GKE v1.25</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/06/08/2022/the_gcp_auth_plugin_is_deprecated/" data-id="cm3rn6z9d00bq2so613am7yhx" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/06/08/2022/the_gcp_auth_plugin_is_deprecated/#disqus_thread" class="article-comment-link">ç•™è¨€</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">å¯¦ä½œç­†è¨˜</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/contributed_MSDN" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/26/2022/contributed_MSDN/" class="article-date">
  <time datetime="2022-05-26T12:51:33.000Z" itemprop="datePublished">2022-05-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/05/26/2022/contributed_MSDN/"> [å¯¦ä½œç­†è¨˜] è²¢ç»å¾®è»Ÿæ–‡ä»¶ MSDN è¨˜éŒ„</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h2><p>å°ˆæ¡ˆä¸Šæˆ‘ä½¿ç”¨ .net core ä¸¦ä¸”æœ‰éœ€è¦ä½¿ç”¨åˆ° Config ç›¸é—œçš„è¨­å®šï¼Œ<br>åœ¨çœ‹æ–‡ä»¶æ™‚ä¸å°å¿ƒï¼ŒæŸ¥éŒ¯äº†æ–‡ä»¶(æŸ¥åˆ°äº†<a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/api/system.configuration.contextinformation.getsection?view=dotnet-plat-ext-6.0">é€™ä¸€ç¯‡ ContextInformation.GetSection(String) Method</a>)ã€‚</p>
<p>é€™è£¡å¯«åˆ° configuration section æ˜¯å€åˆ†å¤§å°å¯«çš„(case-sensitive)</p>
<blockquote>
<h2 id="Remarks"><a href="#Remarks" class="headerlink" title="Remarks"></a>Remarks</h2><p>When specifying a section within the configuration,<br>note that the name of the configuration section is <strong>case-sensitive</strong>.</p>
</blockquote>
<p>è€Œæˆ‘å¯¦æ¸¬æ™‚ï¼Œæ‰ç™¼ç¾ä¸¦æ²’æœ‰å€åˆ†å¤§å°å¯«ï¼Œæ‰æ³¨æ„åˆ°æˆ‘<strong>æŸ¥éŒ¯äº†æ–‡ä»¶</strong>ã€‚</p>
<h2 id="èµ·å¿µ"><a href="#èµ·å¿µ" class="headerlink" title="èµ·å¿µ"></a>èµ·å¿µ</h2><p>é€²ä¸€æ­¥æˆ‘å»å¾®è»Ÿ MSDN æ‰¾åˆ°æ­£ç¢ºçš„æ–‡ä»¶æŸ¥è©¢ <a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.extensions.configuration.configurationmanager.getsection?view=dotnet-plat-ext-6.0"><code>ConfigurationManager.GetSection</code></a>ï¼Œç™¼ç¾ä¸¦æ²’æœ‰è¨»æ˜æ˜¯å¦å€åˆ†å¤§å°å¯«ã€‚</p>
<p>æ‰€ä»¥æˆ‘å°±æƒ³<del>è§£</del>è²¢ç»ä¸€ä¸‹<del>æˆå°±</del>ä¸€ä¹‹å·²åŠ›ï¼Œ<br>å¹«å¾®è»ŸåŠ ä¸Šèªªæ˜ï¼Œä¸¦å¥½å¥‡å¤šä¹…å¯ä»¥å°‡ä¿®æ”¹çš„æ–‡ä»¶ä¸Šç·š</p>
<h2 id="æ­·ç¨‹"><a href="#æ­·ç¨‹" class="headerlink" title="æ­·ç¨‹"></a>æ­·ç¨‹</h2><p>é¦–å…ˆåªè¦é»é¸å³ä¸Šè§’çš„é‰›ç­†åœ–ç¤ºï¼Œå°±å¯ä»¥é€£ç·šè‡³ <a target="_blank" rel="noopener" href="https://github.com/dotnet/dotnet-api-docs/blob/main/xml/Microsoft.Extensions.Configuration/ConfigurationManager.xml">Github</a> é é¢ï¼Œ<br>å¾ˆå¿«çš„æˆ‘å®Œæˆäº†ä¿®æ”¹ä¸¦ä¸”ç™¼å‡ºäº† <a target="_blank" rel="noopener" href="https://github.com/dotnet/dotnet-api-docs/pull/8064">Pull Request</a> ã€‚<br>ç™¼å‡ºå¾Œå¾ˆå¿«å°±æœ‰è‡ªå‹•åŒ–çš„æ©Ÿå™¨äºº dotnet-issue-labeler èˆ‡ opbld33 é€²è¡Œå¯©æŸ¥ã€‚</p>
<p>æ¥ä¸‹ä¾†æœ‰äººå·¥å¯©æ ¸ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/gewarren">Gewarren</a> å¾ˆå‹å–„çš„çµ¦æˆ‘ä¸€äº›å»ºè­°ï¼Œ<br>å¤§æ¦‚å°±åœ¨æˆ‘ç™¼å‡º PR çš„å¹¾å€‹å°æ™‚å…§ï¼Œä¸éæˆ‘è‡ªå·²çš„å‹•ä½œæ²’é‚£éº¼å¿«ï¼Œ<br>æˆ‘éäº† 5 å¤©æ‰ç™¼ç¾ï¼Œä¸¦ä¾ç…§å»ºè­°å®Œæˆäº†ä¿®æ”¹(æˆ‘æƒ³ä»–å€‘æ‡‰è©²æœ‰ä¸€äº›æ–‡ä»¶ä¿®æ”¹çš„ Guide Line)ï¼Œ<br>ä¿®æ”¹å®Œå¾Œé€å‡ºï¼Œä¸€æ¨£æœƒæœ‰è‡ªå‹•åŒ–å¯©æ ¸ï¼ŒGewarren approve å¾Œï¼Œå†æœ‰ 3 å€‹è‡ªå‹•åŒ–çš„æª¢æŸ¥ï¼Œ</p>
<ul>
<li>snippets-build</li>
<li>OpenPublishing.Build Validation status: passed</li>
<li>license&#x2F;cla All CLA requirements met.</li>
</ul>
<p>æ¥ä¸‹ä¾†å°± mergedï¼Œé€™æ˜¯ 2022&#x2F;05&#x2F;17 ï¼Œä¸çŸ¥é“å¤šä¹…æ‰æœƒæ›´æ–°æ–‡ä»¶ã€‚</p>
<h2 id="çµå°¾"><a href="#çµå°¾" class="headerlink" title="çµå°¾"></a>çµå°¾</h2><p>2022&#x2F;05&#x2F;23 æˆ‘å·²ç¶“åœ¨å¾®è»Ÿå®˜æ–¹æ–‡ä»¶è¦‹åˆ°æ›´æ–°ï¼Œå°å°æˆå°±é”æˆ ğŸ‰</p>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/05/26/2022/contributed_MSDN/" data-id="cm3rn6z8y00a72so6cubs6tck" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/05/26/2022/contributed_MSDN/#disqus_thread" class="article-comment-link">ç•™è¨€</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">å¯¦ä½œç­†è¨˜</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/penetration_test" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/24/2022/penetration_test/" class="article-date">
  <time datetime="2022-05-24T03:33:04.000Z" itemprop="datePublished">2022-05-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/05/24/2022/penetration_test/"> [å¯¦ä½œç­†è¨˜] æ»²é€æ¸¬è©¦å ±å‘Šã€åŸå› èˆ‡èª¿æ•´æ–¹é‡</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å‰æƒ…æè¦ï¼Œæ¸¬è©¦å ±å‘Š"><a href="#å‰æƒ…æè¦ï¼Œæ¸¬è©¦å ±å‘Š" class="headerlink" title="å‰æƒ…æè¦ï¼Œæ¸¬è©¦å ±å‘Š"></a>å‰æƒ…æè¦ï¼Œæ¸¬è©¦å ±å‘Š</h2><p>æ¸¬è©¦å» å•†ä½¿ç”¨ Acunetix æƒæèˆ‡ Burp Suite æ””æˆªå°åŒ…é€²è¡Œæ¸¬è©¦:<br>å ±å‘Šç‚ºä»¥ä¸‹å¹¾å€‹ Header æœªåŠ è€Œä½¿ç¶²ç«™å­˜åœ¨é¢¨éšª</p>
<ol>
<li>X-Frame-Options</li>
<li>X-XSS-Protection</li>
<li>X-Content-Type-Options</li>
<li>Strict-Transport-Security</li>
<li>Content-Security-Policy</li>
</ol>
<p>é™¤äº†ç¬¬äº”é …ï¼Œä»¥ä¸‹å°‡æœƒä»‹ç´¹å„å€‹ Header è³¦æ–¼ç€è¦½å™¨çš„è¡Œç‚ºï¼Œä»¥åŠé˜²ç¯„ä½•ç¨®å¯èƒ½çš„æ”»æ“Š</p>
<h2 id="Header-çš„ç”¨æ„"><a href="#Header-çš„ç”¨æ„" class="headerlink" title="Header çš„ç”¨æ„"></a>Header çš„ç”¨æ„</h2><h3 id="X-Frame-Options"><a href="#X-Frame-Options" class="headerlink" title="X-Frame-Options"></a>X-Frame-Options</h3><ul>
<li>æ–°ç‰ˆçš„ç€è¦½å™¨ä½¿ç”¨ <code>frame-ancestors</code></li>
<li>ç”¨æ„ï¼šé˜²ç¯„ <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/Security/Types_of_attacks#click-jacking">ClickJack</a> æ”»æ“Š<blockquote>
<p>Click Jacking ç›´è­¯ç‚ºé»æ“ŠåŠ«æŒï¼Œå¸¸è¦‹çš„æ”»æ“Šæ‰‹æ®µç‚ºï¼Œ<br>æ”»æ“Šè€…é€é frame åµŒå…¥å—å®³ç¶²ç«™;ç•¶å—å®³è€…èª¤å…¥æ”»æ“Šè€…ç¶²ç«™æ™‚(å¸¸ç”¨ç¤¾äº¤æ”»æ“Š)ï¼Œ<br>æœƒèª¤ä»¥ç‚ºæ˜¯æ­£å¸¸ç¶²ç«™ã€‚<br>æ¥ä¸‹ä¾†å°±å¯ä»¥èª˜é¨™å—å®³è€…ï¼Œex:è¼¸å…¥å¸³å¯†ï¼Œæˆ–æ˜¯é»æ“Šç‰¹å®šé€£çµæˆ–ä¸‹è¼‰æƒ¡æ„è»Ÿé«”ã€‚</p>
</blockquote>
</li>
</ul>
<h4 id="é¸é …"><a href="#é¸é …" class="headerlink" title="é¸é …"></a>é¸é …</h4><ul>
<li><code>DENY</code></li>
<li><code>SAMEORIGIN</code></li>
<li><code>ALLOW-FROM &lt;uri&gt;</code></li>
</ul>
<h3 id="X-XSS-Protection"><a href="#X-XSS-Protection" class="headerlink" title="X-XSS-Protection"></a>X-XSS-Protection</h3><ul>
<li>æ–°ç‰ˆçš„ç€è¦½å™¨é€é <code>CSP (Content-Security-Policy)</code> ä¾†é˜²æ­¢ XSS æ”»æ“Š</li>
<li>ç”¨æ„:ç‚ºæä¾›èˆŠç‰ˆçš„ç€è¦½å™¨é˜²ç¯„ XSS ç¶²ç«™æ”»æ“Šï¼Œé€™ä¸å±¬æ–¼ä»»ä½•æ­£å¼çš„è¦æ ¼æ›¸æˆ–è‰æ¡ˆä¹‹ä¸­<blockquote>
<p>XSS(Cross-Site Scripting)ï¼Œç›´æ¥è·¨ç«™è…³æœ¬æ”»æ“Šï¼Œæ‰‹æ®µéå¸¸çš„å¤šæ¨£ï¼Œ<br>å¤§å¤šæ˜¯åœ¨å—å®³ç¶²ç«™æ³¨å…¥è…³æœ¬èªæ³•(javascript)ï¼Œä½¿ç”¨è€…ç€è¦½æ™‚å°±æœƒé­å—æ”»æ“Šã€‚</p>
<p>ex:åœ¨ç•™è¨€å€ç•™ä¸‹ç„¡é™ loop çš„ alert ï¼Œå¦‚æœå°æ–¹çš„ç¶²ç«™æ²’æœ‰é˜²ç¯„ï¼Œ<br>ä½¿ç”¨è€…ç€è¦½ç•™è¨€å€çš„æ™‚å€™ï¼Œå°±æœƒå½ˆå‡ºé—œä¸å®Œçš„ alter è¦–çª—ã€‚<br>(çœŸæ­£æƒ¡æ„çš„æ”»æ“Šæœƒæ›´ç¥ä¸çŸ¥é¬¼ä¸è¦º)<br>åƒè€ƒ</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://tech-blog.cymetrics.io/posts/huli/xss-attack-and-defense/">1</a></li>
<li><a target="_blank" rel="noopener" href="https://tech-blog.cymetrics.io/posts/jo/zerobased-cross-site-scripting/">2</a></li>
</ul>
</blockquote>
</li>
</ul>
<h4 id="é¸é …-1"><a href="#é¸é …-1" class="headerlink" title="é¸é …"></a>é¸é …</h4><ul>
<li><code>0</code><br>ç¦æ­¢ XSS éæ¿¾ã€‚</li>
<li><code>1</code><br>å•Ÿç”¨ XSS éæ¿¾ï¼ˆé€šå¸¸ç€è¦½å™¨æ˜¯é»˜èªçš„ï¼‰ã€‚å¦‚æœæª¢æ¸¬åˆ°è·¨ç«™è…³æœ¬æ”»æ“Šï¼Œç€è¦½å™¨å°‡æ¸…é™¤é é¢ï¼ˆåˆªé™¤ä¸å®‰å…¨çš„éƒ¨åˆ†ï¼‰ã€‚</li>
<li><code>1;mode=block</code><br>å•Ÿç”¨ XSS éæ¿¾ã€‚å¦‚æœæª¢æ¸¬åˆ°æ”»æ“Šï¼Œç€è¦½å™¨å°‡ä¸æœƒæ¸…é™¤é é¢ï¼Œè€Œæ˜¯é˜»æ­¢é é¢åŠ è¼‰ã€‚</li>
<li><code>1; report=&lt;reporting-URI&gt;</code> (Chromium only)<br>å•Ÿç”¨ XSS éæ¿¾ã€‚å¦‚æœæª¢æ¸¬åˆ°è·¨ç«™è…³æœ¬æ”»æ“Šï¼Œç€è¦½å™¨å°‡æ¸…é™¤é é¢ä¸¦ä½¿ç”¨ CSP report-uri (en-US)æŒ‡ä»¤çš„åŠŸèƒ½ç™¼é€é•è¦å ±å‘Šã€‚</li>
</ul>
<h3 id="X-Content-Type-Options"><a href="#X-Content-Type-Options" class="headerlink" title="X-Content-Type-Options"></a>X-Content-Type-Options</h3><ul>
<li>é€šçŸ¥ç€è¦½å™¨ï¼Œä¸è¦è‡ªè¡ŒçŒœæ¸¬(MIME type sniffing)Content Type</li>
</ul>
<blockquote>
<p>åŸå…ˆ MIME type sniffing æ˜¯ä¸Šå¤æ™‚ä»£è¢«è¨­è¨ˆä¾†é¿å…é–‹ç™¼äººå“¡èª¤è¨­ Content Typeï¼Œ<br>æ¯”å¦‚èªªæ˜æ˜æ˜¯ javascript æª”ï¼Œ content Type å»è¢«è¨­å®š text&#x2F;plainï¼Œ<br>é€™æ™‚ç€è¦½å™¨ sniff åˆ¤æ–·ç‚º javascript å¾Œï¼Œå¯ä»¥åŸ·è¡Œè©² js æª”<br>ä½†æ˜¯è¢«ç”¨ä¾†æƒ¡æ„æ”»æ“Šï¼Œæ¯”å¦‚èªªé€£çµ <code>src/fake.jpg</code> çœ‹èµ·ä¾†åƒä¸€å¼µåœ–ç‰‡<br>å¯¦éš›ä¸Š Response å»å›å‚³å¯åŸ·è¡Œçš„ javascript (å…§å«æƒ¡æ„çš„ç¨‹å¼)ï¼Œ<br>ç€è¦½å™¨çš„ sniffing è¡Œç‚ºæœƒè‡ªè¡Œè§£æç‚ºè…³æœ¬(javascript)ä¸¦åŸ·è¡Œæ”»æ“Š</p>
</blockquote>
<h4 id="é¸é …-2"><a href="#é¸é …-2" class="headerlink" title="é¸é …"></a>é¸é …</h4><ul>
<li><code>nosniff</code></li>
</ul>
<h3 id="Strict-Transport-Security"><a href="#Strict-Transport-Security" class="headerlink" title="Strict-Transport-Security"></a>Strict-Transport-Security</h3><p><code>HTTP Strict-Transport-Security</code> å›æ‡‰æ¨™é ­ï¼ˆç°¡ç¨±ç‚º HSTS (en-US)ï¼‰å‘ŠçŸ¥ç€è¦½å™¨æ‡‰å¼·åˆ¶ä½¿ç”¨ HTTPS ä»¥å–ä»£ HTTPã€‚<br>ç¾ä»£çš„ç€è¦½å™¨å„ªå…ˆä½¿ç”¨ HTTPS å·²æ˜¯å…±è­˜ï¼Œä¸åŠ é€™å€‹ Header ä¹Ÿæœƒå‡ºç¾ä¸å®‰å…¨çš„è­¦å‘Š</p>
<h4 id="é¸é …-3"><a href="#é¸é …-3" class="headerlink" title="é¸é …"></a>é¸é …</h4><ul>
<li><code>max-age</code> æŒ‡å®šç§’æ•¸</li>
<li><code>includeSubDomains</code> åŒ…å«å­ç¶²åŸŸ</li>
</ul>
<h3 id="Content-Security-Policy"><a href="#Content-Security-Policy" class="headerlink" title="Content-Security-Policy"></a>Content-Security-Policy</h3><p>é€™å€‹å‘å¾ˆæ·±ï¼Œæˆ‘å¦å¤–å†æ’°æ–‡èªªæ˜ï¼Œ<br>å¯ä»¥é€éå¦ä¸€å€‹ Header <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only">Content-Security-Policy-Report-Only</a>ï¼Œ<br>ç”¢ç”Ÿå ±å‘Šé€ä¸€ä¿®æ­£ Policyã€‚</p>
<h2 id="è£œå……"><a href="#è£œå……" class="headerlink" title="è£œå……"></a>è£œå……</h2><h3 id="å¦‚ä½•ä½¿ç”¨-How-to-use-testssl"><a href="#å¦‚ä½•ä½¿ç”¨-How-to-use-testssl" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ How to use testssl"></a>å¦‚ä½•ä½¿ç”¨ How to use testssl</h3><p>testssl.sh æ˜¯ä¸€å€‹å…è²»çš„ command toolï¼Œ<br>å®ƒæª¢æŸ¥ä»»ä½•ç«¯å£ä¸Šçš„æœå‹™å™¨æœå‹™æ˜¯å¦æ”¯æŒ TLS&#x2F;SSL ã€<br>å”è­°ä»¥åŠæœ€è¿‘çš„å¯†ç¢¼ç¼ºé™·ç­‰ã€‚</p>
<p>å®‰è£</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install testssl</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">testssl.sh &#123;uri&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¦‚ä½•åœ¨-GCP-Bucket-åŠ ä¸Š-header"><a href="#å¦‚ä½•åœ¨-GCP-Bucket-åŠ ä¸Š-header" class="headerlink" title="å¦‚ä½•åœ¨ GCP Bucket åŠ ä¸Š header"></a>å¦‚ä½•åœ¨ GCP Bucket åŠ ä¸Š header</h3><p>GCP &gt; Network Services &gt; Load Balancing</p>
<ul>
<li>Edit</li>
<li>Backend Configuration</li>
<li>æ‰¾åˆ°ç‰¹å®šçš„ Bucket é»æ“Šé‰›ç­†ç¬¦è™Ÿ</li>
<li>Edit backend bucket</li>
<li>å±•é–‹ ADVANCED CONFIGURATIONS (RESPONSE HEADERS)</li>
<li>Custom response headers &gt; ADD HEADER</li>
<li>è¼¸å…¥ Header Key èˆ‡ Value<ul>
<li>X-Frame-Options: DENY</li>
<li>X-XSS-Protection: 1;mode&#x3D;block</li>
<li>X-Content-Type-Options: nosniff</li>
</ul>
</li>
</ul>
<h2 id="è£œå……-å¦‚ä½•ä½¿ç”¨-Burp-Suite-è§€å¯Ÿ"><a href="#è£œå……-å¦‚ä½•ä½¿ç”¨-Burp-Suite-è§€å¯Ÿ" class="headerlink" title="è£œå……: å¦‚ä½•ä½¿ç”¨ Burp Suite è§€å¯Ÿ"></a>è£œå……: å¦‚ä½•ä½¿ç”¨ Burp Suite è§€å¯Ÿ</h2><p>æ¦‚å¿µèªªæ˜ï¼š<br>Burp å¯ä»¥åœ¨ä½ çš„æœ¬æ©Ÿå»ºç«‹ä¸€å€‹ Proxy Server,<br>ä¸¦é€éå®ƒæä¾›çš„ç€è¦½å™¨(Chromium)é€£ç·šåˆ°ä½ æŒ‡å®šçš„ uri ä¸¦é€²è¡Œæ¬„æˆªã€‚</p>
<blockquote>
<p>You â†â†’ Burp(Proxy) â†â†’ Internetã€‚</p>
</blockquote>
<p><strong>æ³¨æ„</strong>: ç¶²è·¯ä¸Šå¤§å¤šæ•¸çš„æ–‡ç« éƒ½æœƒæœ‰ Proxy çš„è¨­å®šï¼Œå…¶å¯¦é€™æ˜¯å¯ä»¥çœç•¥çš„ï¼Œ<br>æ–°ç‰ˆæœ¬çš„ Burp ç”¨æä¾›çš„ç€è¦½å™¨å°±æœƒé€£çµ Burp Proxyã€‚</p>
<ol>
<li>ä¸‹è¼‰ä¸¦å®‰è£ <a target="_blank" rel="noopener" href="https://portswigger.net/burp/communitydownload">Burp Suite</a>ï¼ŒBurp Suite Community Edition ç‰ˆæœ¬å³å¯</li>
<li>é¸æ“‡ Temporary project &gt; Next</li>
<li>é¸æ“‡ Use Burp defaults &gt; Start Burp</li>
<li>é–‹å•Ÿæ””æˆªå™¨: Proxy &gt; Intercept is on</li>
<li>é–‹å•Ÿç¶²ç«™: Proxy &gt; Open Browser(Chromium) &gt; Key In &lt;target site URL&gt;</li>
<li>æ±ºå®šæ¬„æˆªæˆ–ä¸Ÿæ£„ Proxy &gt; Forward &#x2F; Drop</li>
<li>æŸ¥çœ‹æ­·å²è¨˜éŒ„ Proxy &gt; HTTP &#x2F; WebSockets history</li>
</ol>
<h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ul>
<li><p>CSP ç›¸é—œ(ç•™ä½œä¸‹ç¯‡æ–‡ç« çš„é¤Šä»½)</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP">https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP</a></li>
<li><a target="_blank" rel="noopener" href="https://csper.io/blog/csp-report-filtering">https://csper.io/blog/csp-report-filtering</a></li>
<li><a target="_blank" rel="noopener" href="https://content-security-policy.com/">https://content-security-policy.com/</a></li>
<li><a target="_blank" rel="noopener" href="https://devco.re/blog/2014/04/08/security-issues-of-http-headers-2-content-security-policy/">https://devco.re/blog/2014/04/08/security-issues-of-http-headers-2-content-security-policy/</a></li>
<li><a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10272394">https://ithelp.ithome.com.tw/articles/10272394</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/WebAssembly/content-security-policy/blob/main/proposals/CSP.md">https://github.com/WebAssembly/content-security-policy/blob/main/proposals/CSP.md</a></li>
<li><a target="_blank" rel="noopener" href="https://hackmd.io/@Eotones/BkOX6u5kX">https://hackmd.io/@Eotones/BkOX6u5kX</a></li>
<li><a target="_blank" rel="noopener" href="https://runebook.dev/zh-CN/docs/http/headers/content-security-policy">https://runebook.dev/zh-CN/docs/http/headers/content-security-policy</a></li>
<li><a target="_blank" rel="noopener" href="https://mmazzarolo.com/blog/2021-12-14-lessons-learned-publishing-a-content-security-policy/">https://mmazzarolo.com/blog/2021-12-14-lessons-learned-publishing-a-content-security-policy/</a></li>
<li><a target="_blank" rel="noopener" href="https://www.appsecmonkey.com/blog/content-security-policy">https://www.appsecmonkey.com/blog/content-security-policy</a></li>
<li><a target="_blank" rel="noopener" href="https://bugs.chromium.org/p/chromium/issues/detail?id=915648">https://bugs.chromium.org/p/chromium/issues/detail?id=915648</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy">https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy</a></li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://hackercat.org/burp-suite-tutorial/web-pentesting-burp-suite-total-tutorial">https://hackercat.org/burp-suite-tutorial/web-pentesting-burp-suite-total-tutorial</a></p>
</li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/05/24/2022/penetration_test/" data-id="cm3rn6z9a00bg2so67jhch25a" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/05/24/2022/penetration_test/#disqus_thread" class="article-comment-link">ç•™è¨€</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">å¯¦ä½œç­†è¨˜</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/about_covid_19_in_taiwan" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/20/2022/about_covid_19_in_taiwan/" class="article-date">
  <time datetime="2022-05-20T06:04:08.000Z" itemprop="datePublished">2022-05-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/05/20/2022/about_covid_19_in_taiwan/"> [ç”Ÿæ´»ç­†è¨˜] 2022 æ–°å† (æ­¦æ¼¢)è‚ºç‚ç–«æƒ…</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="é€²æ³"><a href="#é€²æ³" class="headerlink" title="é€²æ³"></a>é€²æ³</h2><p>2021 å¹´ 5 æœˆ ~ 7 æœˆé€²å…¥ 3 ç´šå¾Œï¼Œç†è«–ä¸Šéƒ½æ˜¯åœ¨ 2 ç´šçš„ç‹€æ…‹ï¼Œ<br>å…¥å¢ƒäººæ•¸æ¯æ—¥ç´„æœ‰ 50~100 åç¢ºè¨ºè€…å…¥å¢ƒï¼Œ<br>åˆ°äº† 2022 å¹´ 4 æœˆä»¥ä¾†ï¼Œç–«æƒ…æŒ‡æ•¸æˆé•·<br><img src="/../../images/2022/covid-19-1.png" alt="çˆ†"><br>è¿‘æ—¥å–®æ—¥ç¢ºè¨ºå·²ç ´ 90000 ä¾‹ã€‚</p>
<h3 id="é‡è¤‡ç™¼ç”Ÿçš„äº‹"><a href="#é‡è¤‡ç™¼ç”Ÿçš„äº‹" class="headerlink" title="é‡è¤‡ç™¼ç”Ÿçš„äº‹"></a>é‡è¤‡ç™¼ç”Ÿçš„äº‹</h3><ul>
<li>2020 æ¶&#x2F;åµå£ç½©</li>
<li>2021 æ¶&#x2F;åµç–«è‹—</li>
<li>2022 æ¶&#x2F;åµå¿«ç¯©</li>
</ul>
<h3 id="è©²ä½œçš„äº‹"><a href="#è©²ä½œçš„äº‹" class="headerlink" title="è©²ä½œçš„äº‹"></a>è©²ä½œçš„äº‹</h3><ul>
<li>è¼‰å£ç½©</li>
<li>å‹¤æ´—æ‰‹</li>
<li>å°‘å»äººå¤šçš„åœ°æ–¹</li>
<li>æ³¨æ„è‡ªèº«ç”Ÿå¿ƒç†çš„è®ŠåŒ–</li>
</ul>
<h3 id="ç¾æ³çš„å› æ‡‰æ–¹é‡"><a href="#ç¾æ³çš„å› æ‡‰æ–¹é‡" class="headerlink" title="ç¾æ³çš„å› æ‡‰æ–¹é‡"></a>ç¾æ³çš„å› æ‡‰æ–¹é‡</h3><p>æº–å‚™é©é‡çš„å¿«ç¯©ï¼Œä»¥ 2 äººçš„å°å®¶åº­å…¶å¯¦ 1 ç›’(5 åŠ‘)å·²ç¶“å¤ ç”¨ï¼Œ<br>è²·ä¸åˆ°å°±ä½œå¥½è©²ä½œçš„äº‹ï¼Œå°ç£çš„ç‹€æ³æ˜¯å¯ä»¥åœ¨å¹¾å‘¨åˆ°å¹¾å€‹æœˆå…§èª¿æ•´åˆ°ä½çš„ã€‚<br>(åƒè€ƒå£ç½©ã€ç–«è‹—èˆ‡é›è›‹çš„ç‹€æ³)<br>ç„¡ç—‡ç‹€å°±æ­£å¸¸ç”Ÿæ´»ï¼Œä¿æŒæ¨‚è§€ï¼Œä¸è¦éåº¦è¢«æ§å‹•æ€§çš„<code>å½æ–°è</code>ã€<code>ç¶²è»</code>ã€<code>è«‡è©±ç¯€ç›®</code>å½±éŸ¿ï¼Œ<br>å¦‚æœçœŸçš„è¦çœ‹ï¼Œè«‹æ·±å…¥ç ”ç©¶å„æ–¹çš„èªªè©ï¼Œä¸è¦å› å–œå¥½è€Œåé‡æŸäº›ç¯€ç›®ã€‚</p>
<p>è‡ªè¦ºæœ‰ç—‡ç‹€å…ˆå¿«ç¯©ï¼Œ<br>é™°æ€§å°±ä¿æŒæ­£å¸¸ç”Ÿæ´»ï¼Œæ“”å¿ƒçš„è©±è«‹å°±é†«ã€‚<br>é™½æ€§åƒè€ƒ CDC æŒ‡ç¤ºï¼Œè‡ªæˆ‘éš”é›¢æˆ–å°±é†«ï¼Œä¸¦è½å¾é†«å›‘ã€‚</p>
<p>æœ‰ç—‡ç‹€è€Œç„¡æ³•ç¯©æª¢çš„å°±å¯ä»¥å…ˆè‡ªæˆ‘éš”é›¢ï¼Œ<br>æ‰€å¹¸æˆ‘çš„å·¥ä½œæ¨¡å¼å¯ä»¥é ç«¯è™•ç†å¤§éƒ¨ä»½äº‹å®œï¼Œ<br>å®¶ä¸­ä¹Ÿæ²’æœ‰è€å°ï¼Œä¸¦ä¸”éƒ½æ¥ç¨®éä¸‰åŠ‘ç–«è‹—ã€‚<br>æ­£é¢é¢å°ç›®å‰çš„ç–«æƒ…ï¼Œä¸¦ä¸æƒ³ä»‹å…¥éå¤šçš„å£æ°´ï¼Œ<br>çœ‹æ•¸æ“šä½œäº‹ï¼Œæˆ–è¨±æœ‰é»ç„¡æƒ…ä½†æ˜¯å¤§å±€ä¾†èªªæ‰æ˜¯æ­£ç¢ºçš„æ–¹å‘ã€‚</p>
<h3 id="åˆ†ä¸æ¸…çš„åè©"><a href="#åˆ†ä¸æ¸…çš„åè©" class="headerlink" title="åˆ†ä¸æ¸…çš„åè©"></a>åˆ†ä¸æ¸…çš„åè©</h3><p>è§’è‰²æœ‰ç¢ºè¨ºè€…ã€å¯†åˆ‡æ¥è§¸è€…ã€å…¶å®ƒ<br>æ–¹é‡å±…å®¶æª¢ç–«ã€å±…å®¶éš”é›¢&#96;ã€å±…å®¶ç…§è­·ã€<br>éš”é›¢ã€è‡ªä¸»å¥åº·ç®¡ç†ã€è‡ªä¸»é˜²ç–«ã€<br>è‡ªæˆ‘å¥åº·ç›£æ¸¬ ??ã€è‡ªä¸»æ‡‰è®Š ??</p>
<p>ç¸½è¦ºå¾—æ¯å¤©éƒ½åœ¨ç”¢ç”Ÿæ–°åè©å‘¢</p>
<h3 id="è³‡è¨Šçš„å–å¾—"><a href="#è³‡è¨Šçš„å–å¾—" class="headerlink" title="è³‡è¨Šçš„å–å¾—"></a>è³‡è¨Šçš„å–å¾—</h3><ul>
<li>åƒè€ƒåœ‹å¤–æ•¸æ“š</li>
<li>è½å– CDC&#x2F;(æ‰€åœ¨)ç¸£å¸‚è¨˜è€…æœƒ</li>
<li>å¤šæ–¹åƒè€ƒæµ·å¤–æ–°èã€æ•¸æ“šå ±è¡¨</li>
<li>ç›¡å¯èƒ½ç²å–ä¸€äº›ç§‘æ™®ã€é†«ç™‚ç›¸é—œçš„çŸ¥è­˜ï¼Œä½†æ˜¯è¦æ³¨æ„èƒŒå¾Œçš„ç§‘å­¸æ”¯æŒæ˜¯å¦å¯ä¿¡</li>
</ul>
<p>å¿ƒæ…‹ä¸Šä¸è¦ç›²ä¿¡ï¼Œä¹Ÿä¸éœ€è¦è¢«é¢¨å‘å¸¶åˆ°å½¼æ­¤æ•µè¦–</p>
<h2 id="æœªä¾†çš„æ–¹å‘"><a href="#æœªä¾†çš„æ–¹å‘" class="headerlink" title="æœªä¾†çš„æ–¹å‘"></a>æœªä¾†çš„æ–¹å‘</h2><p>é•·æœŸä¾†èªªï¼Œåªèƒ½è©¦è‘—èˆ‡ç—…æ¯’å…±å­˜ï¼Œ<br>è®“æ•´é«”çš„ç”Ÿæ´»æ¢å¾©æ­£å¸¸ï¼Œå•é¡Œæ˜¯é€™å€‹éç¨‹æ˜¯è¦ä»˜å‡ºå¤šå°‘çš„ä»£åƒ¹ ?</p>
<p>ç¬¬ä¸€å€‹å…¨é¢æ¥ç¨®ç–«è‹—ï¼Œ<br>æˆ‘å€‘çš„ç¬¬ä¸€åŠ‘è¦†è“‹ç‡åªæœ‰ 85% ï¼Œç¬¬äºŒåŠ‘ 80% ï¼Œç¬¬ä¸‰åŠ‘  69%ï¼ˆè³‡æ–™ä¾†æº <a target="_blank" rel="noopener" href="https://support.google.com/websearch/answer/10339795?hl=zh-Hant&visit_id=637887157557033154-233604798&p=cvd19_vaccine_stats&rd=1">202205021ï¼ŒGOOGLE</a>ï¼‰<br>å°æ¯”ä¸–ç•Œå…¶å®ƒåœ‹å®¶ä¸ç®—ä½ï¼Œä½†æ˜¯ç–«è‹—çš„æ•ˆåŠ›æœƒéš¨æ™‚é–“ä¸‹æ»‘ï¼Œæ‰€ä»¥å®šæœŸè¦æ‰“åŠ å¼·åŠ‘ï¼Œ<br>æ­¤å¤–ä»æœ‰ç‰¹å®šæ—ç¾¤ç„¡æ³•æ¥ç¨®ç–«è‹—ï¼Œç‰¹åˆ¥ç‚ºå°å­©èˆ‡æ…¢æ€§ç—…è€…ï¼Œæ‡‰å„˜å¿«åŠ é€Ÿå­©ç«¥ç–«è‹—çš„é€²å£èˆ‡æ¥ç¨®.<br>è€Œä¹‹å‰æ‰“æ°£ä¸‹æ»‘å°è‡´ç–«è‹—éæœŸè€Œè¢«ä¸Ÿæ£„ï¼Œå¯¦åœ¨ååˆ†æµªè²»ã€‚</p>
<blockquote>
<p>æŒ‡æ®ä¸­å¿ƒç™¼è¨€äººèŠäººç¥¥ 3 æœˆåº•æ›¾è¡¨ç¤ºï¼Œè«å¾·ç´åŠ BNT ç´„æœ‰ 26.4 è¬åŠ‘ã€AZ å‰‡ç´„ 30 è¬åŠ‘ï¼Œ<br>å…±è¨ˆ 56.4 è¬åŠ‘ç–«è‹—å› åˆ°æœŸå¾—éŠ·æ¯€ã€‚æ ¹æ“šç–¾ç®¡ç½²æœ€æ–°çµ±è¨ˆï¼Œ<br>å°ç£ COVID-19 ç–«è‹—æ¥ç¨®äººå£æ¶µè“‹ç‡ç¬¬ 1 åŠ‘ 84.57%ã€ç¬¬ 2 åŠ‘ 79.84%ã€è¿½åŠ åŠ‘æ¥ç¨®ç‡ 58.24%ã€‚</p>
<p>ETtoday &lt;&lt;3 å¤© 1.6 è¬ä¾‹ï¼ç˜‹æ¶ç–«è‹— é†«å˜†ï¼šä¸Ÿæ‰ä½ ç½µæµªè²»ï¼Œç¾åœ¨ç½µæ‰“ä¸åˆ°ï¼Ÿ&gt;&gt; è¨˜è€…é™³ä¿Šå®ï¼ç¶œåˆå ±å°</p>
</blockquote>
<p>ç¬¬äºŒå€‹ï¼Œåœ¨ä¸ç ´å£é†«ç™‚é‡èƒ½å‰æä¸‹ï¼Œå„˜å¯èƒ½è®“æŠµæŠ—åŠ›é«˜çš„äººæ„ŸæŸ“è€Œé”æˆè‡ªç„¶å…ç–«ã€‚<br>ä¸è«–å¦‚ä½•æœƒæœ‰äººå› æ­¤æ­»äº¡ï¼Œç‰¹åˆ¥æ˜¯æœªæ¥ç¨®è€…ï¼Œ<br>é›–ç„¶æ¥ç¨®ç–«è‹—ä¸­å£¯å¹´åœ¨æ•¸æ“šä¸Šä¸­é‡ç‡ä¸é«˜ï¼Œ<br>ä½†æ˜¯å°æ–¼å€‹é«”è€Œè¨€ï¼Œä»£è¡¨çš„æ˜¯ä¸€å€‹æ´»ç”Ÿç”Ÿçš„ç”Ÿå‘½ã€‚<br>æ²’æœ‰äººæƒ³ç•¶é‚£å€‹ 0.03 %ã€‚<br>ä¸è¦éæ¸¡æ¶ˆè€—é†«ç™‚é‡èƒ½ï¼Œ<br>ç›®å‰å¿«ç¯©çš„æ’éšŠæˆ–æ˜¯ PCR çš„æ’éšŠï¼Œæœ‰äº›äººæ˜¯ç‚ºäº†é ˜å–ä¿éšªé‡‘ï¼Œå–å¾—ç¢ºè¨ºè¨¼æ˜ã€‚<br>ç„¡ç—‡æˆ–è¼•ç—‡è€…ï¼Œå…¶å¯¦æ­£åœ¨å£“ç¸®çœŸæ­£éœ€è¦å°±é†«çš„äººçš„ç”Ÿå‘½ï¼Œ<br>è®“é†«è­·äººå“¡èŠ±è²»å¤§é‡æ™‚é–“åœ¨ä½œæ–‡æ›¸èˆ‡æª¢é©—ä½œæ¥­ã€‚</p>
<p>ç„¡ç—‡æˆ–è¼•ç—‡è€…ï¼Œé›–æ˜¯ä¸‹ç­–ï¼Œå¯ä»¥é€éç·šä¸Šæˆ–æ˜¯è³¼è²·æˆè—¥ç­‰æ–¹å¼ä¾†æ’éç–«æƒ…ã€‚<br>å¦‚æœè—¥ç‰©è¶³å¤ çš„è©±ï¼Œå¿«ç¯©é™½ä¸”æœ‰è¨ºç‹€ï¼Œé†«å¸«å°±è©²åˆ¤æ–·æ˜¯å¦é€²è¡ŒæŠ•è—¥ï¼Œé¿å…å¾ŒçºŒé‡ç—‡çš„ç™¼ç”Ÿã€‚</p>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/05/20/2022/about_covid_19_in_taiwan/" data-id="cm3rn6z8x00a22so6ehv2alrz" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/05/20/2022/about_covid_19_in_taiwan/#disqus_thread" class="article-comment-link">ç•™è¨€</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2022/typescript_tips" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/15/2022/typescript_tips/" class="article-date">
  <time datetime="2022-05-15T02:00:57.000Z" itemprop="datePublished">2022-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/05/15/2022/typescript_tips/"> [æ´»å‹•ç­†è¨˜] ç·šä¸Šæ´»å‹• TypeScript tips and Tricks with Matt</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="å‰æƒ…æè¦"></a>å‰æƒ…æè¦</h2><p>YouTube é »é“<a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCs5Y5_7XK8HLDX0SLNwkd3w">Visual Studio Code</a><br>å‰é™£å­æ¨å‡ºäº†ç”±å¤§ç¥ Matt æ‰€ä»‹ç´¹æœ‰é—œ TypeScript å¥‡æŠ€æ·«å·§<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=hBk4nV7q6-w">å½±ç‰‡</a><br>ç›¸ç•¶ç‡’è…¦ï¼Œç‰¹åˆ¥ä½œæ­¤è¨˜éŒ„ã€‚</p>
<h2 id="5-06-generic-table-component"><a href="#5-06-generic-table-component" class="headerlink" title="5:06 generic-table-component"></a>5:06 <a target="_blank" rel="noopener" href="https://aka.ms/typescript/1">generic-table-component</a></h2><p>é›£åº¦:â˜…â˜…â˜†â˜†â˜†</p>
<p>é€™é¡Œéœ€è¦æœ‰ä¸€äº› React çš„åŸºç¤æ¦‚å¿µï¼Œ<br>é¦–å…ˆæˆ‘å€‘æœ‰ä¸€äº› React Component(ä»¥ä¸‹ç°¡ç¨± RC)ï¼Œ<br>ä¸¦ä¸”ç”¨ interface å»ºç«‹ç›¸å°æ‡‰ propsã€‚</p>
<p>å•é¡Œæ˜¯å¦‚æœè¦è®“æˆ‘å€‘çš„ RC æ›´æ³›ç”¨æ‡‰è©²æ€éº¼ä½œï¼Œ<br>åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å»ºç«‹äº†ä¸€å€‹ Table RC(ä»¥ä¸‹ç°¡ç¨± Table) ï¼Œä¸¦ä¸”åœ¨ props ä¸­å‚³å…¥ä¸€äº›åƒæ•¸ï¼Œ<br>é€™å€‹åƒæ•¸çš„å‹åˆ¥ï¼Œç›´æ¥èˆ‡ Table ç”¢ç”Ÿäº†è€¦åˆï¼Œæˆ‘å€‘å¯ç”¨æ³›å‹(Generic)è™•ç†ã€‚</p>
<h3 id="Before"><a href="#Before" class="headerlink" title="Before"></a>Before</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">TableProps</span> &#123;</span><br><span class="line">  <span class="attr">items</span>: &#123; <span class="attr">id</span>: string &#125;[];</span><br><span class="line">  <span class="attr">renderItem</span>: <span class="function">(<span class="params">item: &#123; id: string &#125;</span>) =&gt;</span> <span class="title class_">React</span>.<span class="property">ReactNode</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">Table</span> = (<span class="params">props: TableProps</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="After"><a href="#After" class="headerlink" title="After"></a>After</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">TableProps</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="attr">items</span>: T[];</span><br><span class="line">  <span class="attr">renderItem</span>: <span class="function">(<span class="params">item: T</span>) =&gt;</span> <span class="title class_">React</span>.<span class="property">ReactNode</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Table</span> = &lt;T,&gt;<span class="function">(<span class="params">props: TableProps&lt;T&gt;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é€™è£¡æ˜¯å¾ˆç°¡å–®çš„æ³›å‹è§€å¿µï¼Œå¦‚æœæœ‰å¯«éå…·å‚™æ³›å‹çš„èªè¨€(ex:C#)æ‡‰è©²ä¸é›£ç†è§£ï¼Œ<br>å¦å¤–éœ€è¦æ³¨æ„çš„ä¸€å€‹æœ‰é—œ React çš„å°å° Tricky<br>æ³¨æ„åˆ° <code>&lt;T,&gt;</code> é€™è£¡æœ‰ä¸€å€‹å°å°çš„é€—è™Ÿï¼Œå…¶å¯¦æ˜¯ä¸å¿…è¦çš„ï¼Œ<br>ä½†æ˜¯åœ¨ React çš„é–‹ç™¼ç’°å¢ƒä¹‹ä¸­ï¼Œè§’æ‹¬è™Ÿ<code>&lt;&gt;</code>æœƒè¢«è¦–ç‚ºæœªå°é–‰çš„ RC;<br>å°é–‰çš„ä¾‹å­ï¼Œex:<code>&lt;myComponent&gt;&lt;/myComponent&gt;</code> æˆ–æ˜¯ <code>&lt;myComponent /&gt;</code><br>æœªäº†å¿…å…ç·¨è¼¯å™¨çš„è­¦å‘Šï¼Œéœ€è¦åŠ ä¸Šä¸€å€‹é€—è™Ÿ<code>,</code></p>
<p>å¦å¤–é€™è£¡åœ¨å¯« React Component æ™‚ï¼Œä½¿ç”¨äº† arrow functionï¼Œ<br>æˆ‘å€‘ä¹Ÿå¯ä»¥æ›æˆä¸€èˆ¬çš„ function å¯«æ³•,é€™ç¨®å¯«æ³•å°±å¯ä»¥çœç•¥ <code>&lt;T,&gt;</code> é€™æ¨£ tricky çš„å¯«æ³•</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Table</span> = <span class="keyword">function</span> &lt;T&gt;(<span class="attr">props</span>: <span class="title class_">TableProps</span>&lt;T&gt;) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>æ³›å‹ä¸é›£ç†è§£ï¼Œä½†æ˜¯è€ƒé‡åˆ°éœ€è¦å…·å‚™çš„ React çŸ¥è­˜ï¼Œé›£åº¦æˆ‘çµ¦ä»–å…©é¡†æ˜Ÿ</p>
<h2 id="11-19-get-deep-value"><a href="#11-19-get-deep-value" class="headerlink" title="11:19 get-deep-value"></a>11:19 <a target="_blank" rel="noopener" href="https://aka.ms/typescript/2">get-deep-value</a></h2><p>é›£åº¦:â˜…â˜…â˜…â˜†â˜†</p>
<p>é€™é¡Œè¦å‹•æ…‹çš„å–å‡ºç‰©ä»¶æ·±å±¤çš„å±¬æ€§çš„å‹åˆ¥ï¼Œ<br>å…·é«”å¥½è™•æ˜¯å¯ä»¥è®“ç·¨è¼¯å‹åˆ¥æª¢æŸ¥</p>
<p>çœ‹ä¸€ä¸‹å½±ç‰‡ä¸­çš„ç¯„ä¾‹ <code>getDeepValue</code> æ˜¯ä¸€å€‹å‡½æ•¸ï¼Œå¯ä»¥ç”¨ä¾†å–ç‰©ä»¶æ·±å±¤å±¬æ€§çš„å€¼<br>é€™è£¡æˆ‘å€‘çœ‹åˆ° <code>obj:any</code> Matt èªªé“å¯ä»¥è¦–ä½œä¸€å€‹å£å‘³é“(ä¸çŸ¥é“ä»–å° unknown çš„çœ‹æ³•)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getDeepValue</span> = (<span class="params">obj: any, firstKey: string, secondKey: string</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> obj[firstKey][secondKey];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>çœ‹ä¸€ä¸‹åŸå§‹ç¯„ä¾‹å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">foo</span>: &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">b</span>: <span class="number">2</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">bar</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="string">&quot;12&quot;</span>,</span><br><span class="line">    <span class="attr">d</span>: <span class="number">18</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="æˆ‘çš„ä½œæ³•"><a href="#æˆ‘çš„ä½œæ³•" class="headerlink" title="æˆ‘çš„ä½œæ³•"></a>æˆ‘çš„ä½œæ³•</h3><p>å¦‚æœæ¯”è¼ƒç›´è§€çš„å¯«æ³•å¯ä»¥è€ƒæ…®å¯«å€‹ ObjectType,</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this one is NOT from the sample</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: <span class="title class_">ObjType</span> = &#123;</span><br><span class="line">  <span class="attr">foo</span>: &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">b</span>: <span class="number">2</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">bar</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="string">&quot;12&quot;</span>,</span><br><span class="line">    <span class="attr">d</span>: <span class="number">18</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">FirstKeyType</span> = <span class="string">&quot;foo&quot;</span> | <span class="string">&quot;bar&quot;</span>;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SecondKeyType</span> = <span class="string">&quot;a&quot;</span> | <span class="string">&quot;b&quot;</span> | <span class="string">&quot;c&quot;</span> | <span class="string">&quot;d&quot;</span>;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ObjType</span> = &#123;</span><br><span class="line">  [key <span class="keyword">in</span> <span class="title class_">FirstKeyType</span>]: &#123; <span class="attr">a</span>: <span class="built_in">boolean</span>; <span class="attr">b</span>: <span class="built_in">number</span> &#125; | &#123; <span class="attr">c</span>: <span class="built_in">string</span>; <span class="attr">d</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getDeepValue = (<span class="attr">obj</span>: <span class="title class_">ObjType</span> <span class="comment">//...</span></span><br></pre></td></tr></table></figure>

<p>è¨»:é€™è£¡æœ‰ç”¨åˆ° <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/2/objects.html#index-signatures">index-signatures</a> çš„æ¦‚å¿µ<br>çœ‹çœ‹å®˜æ–¹æ–‡ä»¶çš„èªªæ³•:</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Sometimes you donâ€™t know all the names of a typeâ€™s properties ahead of time, but you do know the shape of the values.</span><br><span class="line"></span><br><span class="line">In those cases you can use an index signature to describe the types of possible values</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> value = <span class="title function_">getDeepValue</span>(obj, <span class="string">&quot;foo&quot;</span>, <span class="string">&quot;a&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Matt-åœ¨å½±ç‰‡ä¸­çš„ä½œæ³•"><a href="#Matt-åœ¨å½±ç‰‡ä¸­çš„ä½œæ³•" class="headerlink" title="Matt åœ¨å½±ç‰‡ä¸­çš„ä½œæ³•"></a>Matt åœ¨å½±ç‰‡ä¸­çš„ä½œæ³•</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getDeepValue = &lt;</span><br><span class="line">  <span class="title class_">TObj</span>,</span><br><span class="line">  <span class="title class_">TFirstKey</span> <span class="keyword">extends</span> keyof <span class="title class_">TObj</span>,</span><br><span class="line">  <span class="title class_">TSecondKey</span> <span class="keyword">extends</span> keyof <span class="title class_">TObj</span>[<span class="title class_">TFirstKey</span>]</span><br><span class="line">&gt;<span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  obj: TObj,</span></span></span><br><span class="line"><span class="params"><span class="function">  firstKey: TFirstKey,</span></span></span><br><span class="line"><span class="params"><span class="function">  secondKey: TSecondKey</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> obj[firstKey][secondKey];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/2/keyof-types.html#handbook-content">keyof é—œéµå­—å¯ä»¥ç›´æ¥åƒè€ƒå®˜æ–¹æ–‡ä»¶</a></p>
<h3 id="æ¯”è¼ƒå…©è€…çš„ä½œæ³•"><a href="#æ¯”è¼ƒå…©è€…çš„ä½œæ³•" class="headerlink" title="æ¯”è¼ƒå…©è€…çš„ä½œæ³•"></a>æ¯”è¼ƒå…©è€…çš„ä½œæ³•</h3><p>æˆ‘å€‘åŠ ä¸Šäº† Typeï¼Œå°±æ˜¯è¦ç‚ºç¨‹å¼ç¢¼åŠ ä¸Šä¿è­·<br>æˆ‘è·Ÿ Matt çš„ä½œæ³•ï¼Œä¸‹é¢çš„ç¨‹å¼ç¢¼éƒ½æœƒæå‡ºè­¦å‘Š</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> error_value = <span class="title function_">getDeepValue</span>(obj, <span class="string">&quot;error&quot;</span>, <span class="string">&quot;wrong&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ç„¡æ³•é¿å…ä»¥ä¸‹çš„éŒ¯èª¤</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> error_value = <span class="title function_">getDeepValue</span>(obj, <span class="string">&quot;foo&quot;</span>, <span class="string">&quot;c&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><code>obj.foo</code> æ˜¯ä¸å­˜åœ¨ <code>c</code> å±¬æ€§ï¼Œé€™æ¨£æˆ‘å€‘å°±éœ€è¦å‹•æ…‹åˆ¤æ–·å‹åˆ¥<br>çœ‹çœ‹ Matt ä½¿ç”¨ <code>keyof</code> ä½œæ³•ã€‚</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getDeepValue = &lt;<span class="title class_">TObj</span>, <span class="title class_">TFirstKey</span> <span class="keyword">extends</span> keyof <span class="title class_">TObj</span>&gt;<span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  obj: TObj,</span></span></span><br><span class="line"><span class="params"><span class="function">  firstKey: TFirstKey,</span></span></span><br><span class="line"><span class="params"><span class="function">  secondKey: keyof TObj[TFirstKey]</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> obj[firstKey][secondKey];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é€™è£¡æœ‰é»ä¸å¯æ€è­°ï¼Œé¦–å…ˆæ˜¯ ts çš„å‹•æ…‹å‹åˆ¥æ¨å°ï¼Œ<br>åœ¨å‘¼å«æ–¹æ³• getDeepValue çš„ç¬¬ 1 å€‹åƒæ•¸æœƒå‹•æ…‹æ¨å°å‡º TObj çš„å‹åˆ¥<br>å¤§æ¦‚ç­‰åƒ¹ä»¥ä¸‹çš„å‹åˆ¥</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">TObj</span> = &#123;</span><br><span class="line">  <span class="attr">foo</span>: &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="built_in">boolean</span>;</span><br><span class="line">    <span class="attr">b</span>: <span class="built_in">number</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="attr">bar</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">d</span>: <span class="built_in">number</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>keyof TObj</code> çš„å€¼æœƒæ˜¯ <code>foo | bar</code><br>è€Œ TFirstKey çš„å‹åˆ¥ï¼Œåœ¨ç¬¬ 2 å€‹åƒæ•¸å‚³å…¥ä¹‹æ™‚æ±ºå®šæ˜¯ <code>foo</code> æˆ– <code>bar</code>ï¼Œ<br>ä¸æ˜¯ä¸Šè¿°å…©ç¨®çš„åƒæ•¸å‚³å…¥æ™‚ï¼Œç·¨è¼¯æœƒæ‹‹å‡ºéŒ¯èª¤è­¦å‘Šï¼Œéå¸¸å¥½ç”¨ã€‚<br>ä¸‹ä¸€å€‹ç‡’è…¦çš„éƒ¨ä»½ï¼Œç¬¬ 3 å€‹åƒæ•¸ <code>secondKey: keyof TObj[TFirstKey]</code>ï¼Œ<br>é€éé¡ä¼¼é™£åˆ—å–å€¼çš„æ‰‹æ³•ï¼Œæˆ‘å€‘å¯ä»¥åœ¨å‚³å…¥ç¬¬ 2 å€‹åƒæ•¸æ™‚æ±ºå®šç¬¬ 3 å€‹åƒæ•¸çš„å€¼ï¼Œä¸¦ä¸”è®“ç·¨è¼¯å™¨æä¾›ä¿è­·ã€‚<br>ä¾‹å¦‚ï¼Œç¬¬ 2 å€‹åƒæ•¸ç‚º <code>foo</code> æ™‚ï¼Œç¬¬ 3 å€‹åƒæ•¸æœƒé™å®šåªèƒ½å‚³å…¥ <code>&quot;a&quot;|&quot;b&quot;</code></p>
<p>é€™è£¡éœ€è¦æ€è€ƒä¸€ä¸‹ï¼Œä¸¦ä¸é›£ç†è§£ï¼Œæ‰€ä»¥çµ¦ 3 é¡†æ˜Ÿã€‚</p>
<p>å¦‚æœèƒ½æ‡‰ç”¨å¾—å¥½çš„è©±ï¼Œå°æ–¼é–‹ç™¼ ts Library æœƒç›¸ç•¶æœ‰å¹«åŠ©<br>ä¸éæˆ‘è¦ºå¾—è‡ªå·²ç„¡æ³•ç”¨å¾—å¾ˆå¾—å¿ƒæ‡‰æ‰‹ï¼Œæ¯”å¦‚èªªï¼Œå¦‚æœç‰©ä»¶æ·±åº¦ä¸å›ºå®šï¼Œæ‡‰è©²å¦‚è™•ç†ï¼Ÿ<br>åˆæˆ–è€…å¦‚æœä¸ç”¨ <code>keyof</code> çš„æŠ€å·§ï¼Œå°ä¸€å€‹å·²çŸ¥çš„ç‰©ä»¶ï¼Œæˆ‘èƒ½ä¸èƒ½ä½œåˆ°é¡ä¼¼çš„æ•ˆæœ(ç·¨è¼¯å™¨å‹•æ…‹æª¢æŸ¥)?</p>
<h2 id="28-54-conditional-types"><a href="#28-54-conditional-types" class="headerlink" title="28:54 conditional-types"></a>28:54 <a target="_blank" rel="noopener" href="https://aka.ms/typescript/3">conditional-types</a></h2><p>é›£åº¦:â˜…â˜…â˜…â˜†â˜†</p>
<p>é€™å…¶å¯¦æ˜¯ TypeScript ä¸€å€‹åŸºæœ¬çš„æ¦‚å¿µèˆ‡æŠ€å·§ï¼Œ<br>å¯ä»¥åœ¨<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/2/conditional-types.html">å®˜æ–¹æ–‡ä»¶</a>çœ‹åˆ°æ›´å¤šè³‡è¨Š</p>
<p>ä¸€å€‹æ¨™æº–çš„å¯«æ³•å¦‚ä¸‹</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">SomeType</span> <span class="keyword">extends</span> <span class="title class_">OtherType</span> ? <span class="title class_">TrueType</span> : <span class="title class_">FalseType</span>;</span><br></pre></td></tr></table></figure>

<p>è¨˜å¾—é€™è£¡æœ€çµ‚åªæœƒå›å‚³ TrueType æˆ–æ˜¯ FalseTypeï¼Œè€Œ SomeType åªæ˜¯ä½œç‚ºæ¢ä»¶æª¢æŸ¥ã€‚<br>ç•¶ç„¶ä¹Ÿå¯ä»¥ä½œå¤šé‡çš„æ¢ä»¶æª¢æŸ¥</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">SomeType</span> <span class="keyword">extends</span> <span class="title class_">OtherType</span> ?</span><br><span class="line">  <span class="title class_">TrueType</span> :</span><br><span class="line">  <span class="title class_">SomeType</span> <span class="keyword">extends</span> <span class="title class_">OtherConditionType</span>?</span><br><span class="line">  <span class="title class_">OtherThing</span> :</span><br><span class="line">  <span class="title class_">FalseType</span>;</span><br></pre></td></tr></table></figure>

<h3 id="35-20-æ›´é€²ä¸€æ­¥"><a href="#35-20-æ›´é€²ä¸€æ­¥" class="headerlink" title="35:20 æ›´é€²ä¸€æ­¥"></a>35:20 æ›´é€²ä¸€æ­¥</h3><p>æˆ‘å€‘çœ‹ä¸€ä¸‹æ€éº¼æ‡‰ç”¨ Condition Type é€™å€‹æŠ€å·§?<br>åƒè€ƒ<a target="_blank" rel="noopener" href="https://aka.ms/typescript/9">error-messages-in-ts</a>é€™å€‹æ•™æ¡ˆ<br>åœ¨ deepEqualCompare é€™å€‹æ–¹æ³•ä¹‹ä¸­ï¼Œé™£åˆ—æ¯”è¼ƒéœ€è¦ä¾‹å¤–è™•ç†ï¼Œ<br>å› ç‚ºé™£åˆ—æ¯”è¼ƒæ°¸é æœƒå›å‚³ false<br>åŸæœ¬çš„ä½œæ³•ï¼Œæœƒåœ¨ç¨‹å¼çš„ runtime ä½œå‹åˆ¥æª¢æŸ¥ä¸¦æ‹‹å‡ºä¾‹å¤–</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> deepEqualCompare = &lt;<span class="title class_">Arg</span>&gt;(<span class="attr">a</span>: <span class="title class_">Arg</span>, <span class="attr">b</span>: <span class="title class_">Arg</span>): <span class="function"><span class="params">boolean</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// runtime handle</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(a) || <span class="title class_">Array</span>.<span class="title function_">isArray</span>(b)) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;You cannot compare two arrays using deepEqualCompare&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> a === b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è€Œé€é condition typeï¼Œå¯ä»¥è®“ç·¨è¼¯å™¨åœ¨é–‹ç™¼æ™‚ç›´æ¥æª¢æŸ¥ï¼Œçœ‹èµ·ä¾†æ›´åŠ çš„å„ªé›…</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> deepEqualCompare = &lt;<span class="title class_">Arg</span>&gt;(</span><br><span class="line">  <span class="attr">a</span>: <span class="title class_">Arg</span> <span class="keyword">extends</span> <span class="built_in">any</span>[] ? <span class="string">&quot;not allow array&quot;</span> : <span class="title class_">Arg</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="title class_">Arg</span> <span class="keyword">extends</span> <span class="built_in">any</span>[] ? <span class="string">&quot;not allow array&quot;</span> : <span class="title class_">Arg</span></span><br><span class="line">): <span class="function"><span class="params">boolean</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a === b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é€™æ‡‰è©²ç®—æ˜¯ TypeScript çš„åŸºæœ¬å·¥ï¼Œä¹Ÿæœ‰åœ¨å®˜æ–¹æ–‡ä»¶ä¸Šæœ‰å¾ˆæ¸…æ¥šçš„è¬›è§£ï¼Œ<br>å°æˆ‘ä¾†èªªï¼Œç¬¬ä¸€æ¬¡çœ‹åˆ°ä»ç„¶ç›¸ç•¶é©šè¨ï¼Œæˆ‘çµ¦ä»–ä¸‰é¡†æ˜Ÿ<br>å¦å¤–ï¼Œæˆ‘æœ‰å…©å€‹å»¶ç”³å•é¡Œï¼Œ</p>
<ol>
<li>ç¨‹å¼ç¢¼ä¸­æœ‰ any ç®—ä¸ç®—å£å‘³é“? æˆ‘æ˜¯ä¸æ˜¯æ‡‰è©²ç”¨ <code>unknown[]</code> å–ä»£ <code>any[]</code></li>
<li><code>Arg extends any[] ? &quot;not allow array&quot; : Arg</code> æ˜é¡¯å‡ºç¾äº†é‡è¤‡ï¼Œæˆ‘æœ‰æ²’æœ‰ä»€éº¼æŠ€å·§å¯ä»¥æ¶ˆé™¤é€™æ¨£çš„é‡è¤‡?</li>
</ol>
<h2 id="å…¶å®ƒ"><a href="#å…¶å®ƒ" class="headerlink" title="å…¶å®ƒ"></a>å…¶å®ƒ</h2><p>æ•´å€‹å½±ç‰‡é‚„æœ‰è¨±å¤šç‡’è…¦çš„éƒ¨åˆ†ï¼Œ<br>Q&amp;A æˆ–æ˜¯æœ€å¾Œçš„æŒ‘æˆ°éƒ½æœ‰ç›¸ç•¶å¤šæœ‰è¶£çš„æ±è¥¿çš„å¯æŒ–æ˜ï¼Œ<br>æœ‰æ©Ÿæœƒæˆ‘å†è£œä¸Šã€‚</p>
<h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/type-challenges/type-challenges/tree/main/questions">Type-Challenges</a></li>
<li>Mattâ€™s Tips &amp; Tricks<ul>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/1">generic-table-component</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/2">get-deep-value</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/3">conditional-types</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/4">loose-autocomplete</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/5">compose</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/6">conditional-function-args</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/7">distributive-conditional-types</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/8">object-values</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/9">error-messages-in-ts</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/10">search-params-decoding</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://dev.to/samwightt/today-in-typescript-the-keyof-operator-445b">Today in TypeScript: the keyof operator</a></li>
<li><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/zod">zod</a></li>
<li><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/ts-toolbelt">ts-toolbelt</a></li>
<li><a target="_blank" rel="noopener" href="https://stately.ai/">Matt ç›®å‰çš„å°ˆæ¡ˆ stately</a></li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/mpocock1">Matt çš„æ¨ç‰¹</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/05/15/2022/typescript_tips/" data-id="cm3rn6z9d00bs2so60c5x980r" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/05/15/2022/typescript_tips/#disqus_thread" class="article-comment-link">ç•™è¨€</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/hexo_customerize_helper" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/10/2022/hexo_customerize_helper/" class="article-date">
  <time datetime="2022-05-10T02:17:05.000Z" itemprop="datePublished">2022-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/05/10/2022/hexo_customerize_helper/"> [å¯¦ä½œç­†è¨˜] è‡ªå®šç¾© Hexo Helper</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="å‰æƒ…æè¦"></a>å‰æƒ…æè¦</h2><p>æˆ‘çš„ Blog ç›®å‰æ˜¯ä½¿ç”¨ Hexo æ­å»ºçš„,<br>ä½¿ç”¨çš„ä¸»é¡Œæ˜¯ <code>landscape</code> ã€‚<br>éš¨è‘—æ™‚å…‰æ¨ç§», Hexo æ¼¸æ¼¸å¾äººå€‘çš„ç›®å…‰æ·¡å‡º,<br>ä¸»åŠŸèƒ½ã€æ–‡ä»¶ã€ç¿»è­¯æˆ–æ˜¯å¤–æ›ã€ä¸»é¡Œç­‰â€¦, æ›´æ–°é€Ÿåº¦è®Šæ…¢å¾ˆå¤š</p>
<p>æˆ‘æƒ³æ”¹å¯«ä¸»é¡Œç•¶ä¸­çš„æŸå€‹è¼”åŠ©å‡½æ•¸ï¼ˆHelper), ç¨å¾®è¨˜éŒ„ä¸€ä¸‹ä½œæ³•ã€‚</p>
<h2 id="å¯¦ä½œ"><a href="#å¯¦ä½œ" class="headerlink" title="å¯¦ä½œ"></a>å¯¦ä½œ</h2><p>é¦–å…ˆæ˜¯æª”æ¡ˆä½ç½®ï¼Œä¸€å€‹æ˜¯åœ¨æ ¹ç›®éŒ„åº•ä¸‹å»ºç«‹ <code>scripts</code> è³‡æ–™å¤¾ï¼Œ<br>æˆ–è€…ä½ æ­£åœ¨ä½¿ç”¨ä¸»é¡Œ(Theme)åº•ä¸‹ã€‚<br>ä»¥æˆ‘çš„ä¾‹å­ä¾†èªªï¼Œæˆ‘æœƒæ”¾åœ¨ <code>themes/landscape/scripts</code> åº•ä¸‹</p>
<p>åƒè€ƒä¸‹é¢çš„åœ–ç¤º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ scripts</span><br><span class="line">â”‚   â”œâ”€â”€ index.js</span><br><span class="line">â”‚   â””â”€â”€ your_helper_here.js</span><br><span class="line">â”œâ”€â”€ themes</span><br><span class="line">â”‚   â””â”€â”€ the_theme_you_are_using</span><br><span class="line">â”‚       â””â”€â”€ scripts</span><br><span class="line">â”‚           â”œâ”€â”€ index.js</span><br><span class="line">â”‚           â””â”€â”€ your_helper_here.js</span><br></pre></td></tr></table></figure>

<p>ä¸‹ä¸€æ­¥ï¼Œä½ éœ€è¦å»ºç«‹ <code>index.js</code>,ä¸¦åœ¨å…¶å…¥è¨»å†Šä½ çš„å‡½æ•¸,</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//hexo.extend.helper.register(name, function)</span></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">helper</span>.<span class="title function_">register</span>(<span class="string">&quot;helper_name&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;&lt;div&gt;your helper function &lt;/div&gt;&quot;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>é€šå¸¸ helper ä¸æœƒæ˜¯ä¸€å€‹ç°¡å–®çš„å‡½æ•¸ï¼Œä¸”æœƒæœ‰ UI ç›¸é—œçš„ç¨‹å¼ï¼Œ<br>æœ‰ç‚ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œæˆ‘æœƒæ‹†æª”ï¼Œå†ç”¨ <code>require</code> ä¾†å¼•å…¥å‡½æ•¸</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo.<span class="property">extend</span>.<span class="property">helper</span>.<span class="title function_">register</span>(<span class="string">&quot;helper_name&quot;</span>, <span class="built_in">require</span>(<span class="string">&quot;./helper_file_name&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>æœ€å¾Œï¼Œåœ¨ *.ejs æª”æ¡ˆä¸­ä½¿ç”¨ helper</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- <span class="title function_">helper_name</span>() %&gt;</span><br></pre></td></tr></table></figure>

<h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ul>
<li><a target="_blank" rel="noopener" href="https://hexo.bootcss.com/api/helper.html">Hexo è¼”åŠ©å‡½æ•¸</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.haysc.tech/custom-helper-hexo/">è©³è§£ Hexo è¼”åŠ©å‡½æ•¸</a></li>
<li><a target="_blank" rel="noopener" href="https://titangene.github.io/article/hexo-markdown-it.html">å°‡ Hexo çš„ Markdown æ¸²æŸ“å¼•æ“æ›æˆ markdown-it</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/05/10/2022/hexo_customerize_helper/" data-id="cm3rn6z9400au2so649wh55dj" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/05/10/2022/hexo_customerize_helper/#disqus_thread" class="article-comment-link">ç•™è¨€</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">å¯¦ä½œç­†è¨˜</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/dotnet_namespace" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/03/2022/dotnet_namespace/" class="article-date">
  <time datetime="2022-05-03T07:13:12.000Z" itemprop="datePublished">2022-05-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/05/03/2022/dotnet_namespace/"> [å¯¦ä½œç­†è¨˜] Dotnet Core å¯¦ä½œéš¨ç­†</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Web-Api-å°ˆæ¡ˆçµ±ä¸€éŒ¯èª¤è™•ç†"><a href="#Web-Api-å°ˆæ¡ˆçµ±ä¸€éŒ¯èª¤è™•ç†" class="headerlink" title="Web&#x2F;Api å°ˆæ¡ˆçµ±ä¸€éŒ¯èª¤è™•ç†"></a>Web&#x2F;Api å°ˆæ¡ˆçµ±ä¸€éŒ¯èª¤è™•ç†</h2><p>é¦–å…ˆå»ºç«‹ä¸€å€‹æ–°çš„é¡åˆ¥ <code>ErrorHandlingFilter</code><br>ç¹¼æ‰¿ <code>ExceptionFilterAttribute</code> ä¸¦è¤‡å¯« <code>OnException</code> å‡½æ•¸</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ErrorHandlingFilter</span> : <span class="title">ExceptionFilterAttribute</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnException</span>(<span class="params">ExceptionContext context</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//do your logical here</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ Program.cs ä¸­æ³¨å…¥</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">builder.Services.AddControllers(options =&gt; &#123; options.Filters.Add(<span class="keyword">new</span> ErrorHandlingFilter()); &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="å°ˆæ¡ˆæ›´æ”¹-Root-Namespace"><a href="#å°ˆæ¡ˆæ›´æ”¹-Root-Namespace" class="headerlink" title="å°ˆæ¡ˆæ›´æ”¹ Root Namespace"></a>å°ˆæ¡ˆæ›´æ”¹ Root Namespace</h2><p>é è¨­æœƒä½¿ç”¨å°ˆæ¡ˆåç¨±ä½œç‚ºæ•´å€‹å°ˆæ¡ˆçš„ Root Namespaceï¼Œ<br>ä½†æ˜¯æˆ‘å€‘å¯ä»¥åœ¨ csproj æª”ä¸­è¨­å®š <code>RootNamespace</code> è®“å®ƒèˆ‡å°ˆæ¡ˆåç¨±æœ‰æ‰€å·®ç•°</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Project Sdk=<span class="string">&quot;Microsoft.NET.Sdk.Web&quot;</span>&gt;</span><br><span class="line">  &lt;PropertyGroup&gt;</span><br><span class="line">    &lt;TargetFramework&gt;net6<span class="number">.0</span>&lt;/TargetFramework&gt;</span><br><span class="line">    &lt;RootNamespace&gt;MyNameSpace&lt;/RootNamespace&gt;</span><br><span class="line">  &lt;/PropertyGroup&gt;</span><br><span class="line">&lt;/Project&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Nuget"><a href="#Nuget" class="headerlink" title="Nuget"></a>Nuget</h2><h3 id="add-nuget-registry"><a href="#add-nuget-registry" class="headerlink" title="add nuget registry"></a>add nuget registry</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dotnet nuget add <span class="built_in">source</span> &lt;registry url&gt; -n SourceName -u UserName -p Password --store-password-in-clear-text</span><br></pre></td></tr></table></figure>

<h3 id="pack"><a href="#pack" class="headerlink" title="pack"></a>pack</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dotnet pack -o &lt;output folder&gt; -c NUGET --no-dependencies --force  -p:PackageVersion=&lt;version&gt;</span><br></pre></td></tr></table></figure>

<h3 id="push"><a href="#push" class="headerlink" title="push"></a>push</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dotnet nuget push -s SourceName &lt;Packed Version&gt;</span><br></pre></td></tr></table></figure>

<h2 id="å»ºç«‹å…±ç”¨çš„-HttpClient"><a href="#å»ºç«‹å…±ç”¨çš„-HttpClient" class="headerlink" title="å»ºç«‹å…±ç”¨çš„ HttpClient"></a>å»ºç«‹å…±ç”¨çš„ HttpClient</h2><p>åœ¨ Program.cs ä¸­è¨»å†Š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">builder.Services.AddHttpClient(<span class="string">&quot;ThirdService&quot;</span>, (provider, client) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> o = provider.GetRequiredService&lt;IOptions&lt;ThirdServiceOptions&gt;&gt;();</span><br><span class="line">    client.BaseAddress = <span class="keyword">new</span> Uri(<span class="string">$&quot;<span class="subst">&#123;o.Value.Url&#125;</span>/&quot;</span>);</span><br><span class="line">    client.DefaultRequestHeaders.Accept.Add(<span class="keyword">new</span> MediaTypeWithQualityHeaderValue(<span class="string">&quot;application/json&quot;</span>));</span><br><span class="line">    client.DefaultRequestHeaders.Authorization = <span class="keyword">new</span> AuthenticationHeaderValue(<span class="string">&quot;Bearer&quot;</span>, o.Value.Token);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å†é€é HttpClientFactory å…·åå–ç”¨</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyService</span>(<span class="params">IHttpClientFactory httpClientFactory</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">  HttpClient _httpClient = httpClientFactory.CreateClient(<span class="string">&quot;ThirdService&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æœ€å°åŒ–-Docker-Image"><a href="#æœ€å°åŒ–-Docker-Image" class="headerlink" title="æœ€å°åŒ– Docker Image"></a>æœ€å°åŒ– Docker Image</h2><p>é€™ä¸€ç¨®è¢«ç¨±ç‚º Multiple Stage Builds çš„ Docker æŠ€å·§ï¼Œ<br>ä¸»è¦çš„æ¦‚å¿µæ˜¯å°‡å»ºç½®(Build)èˆ‡éƒ¨ç½²(Deploy)çš„æ­¥é©Ÿåˆ†é–‹ï¼Œ<br>æœ€çµ‚åªéƒ¨ç½²å‡ºç‡Ÿé‹æ‰€éœ€çš„æ˜ è±¡æª”(Image)ã€‚</p>
<p>æ¯”å¦‚èªªä¸‹é¢çš„ <code>Docker File</code> å°±æ˜¯å°‡ dotnet å°ˆæ¡ˆä½œäº†å…©æ­¥é©Ÿçš„è™•ç†</p>
<p>æ­¤å¤–ï¼Œå¦‚æœæˆ‘å€‘æ›´æ›é©ç•¶çš„ Imageï¼Œ<br>æ¯”å¦‚èªªï¼Œåœ¨ Create Runtime Image Stepï¼Œ<br>å°‡ <code>mcr.microsoft.com/dotnet/aspnet:6.0</code> æ”¹ç‚º <code>mcr.microsoft.com/dotnet/aspnet:6.0-alpine</code><br>æ˜ è±¡æª”çš„ Size å°‡æ¸›å°‘ 46.6% (216.11 MB â†’ 115.4 MB)</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Build Step</span></span><br><span class="line"><span class="keyword">FROM</span> mcr.microsoft.com/dotnet/sdk:<span class="number">6.0</span> AS build</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /source</span></span><br><span class="line"><span class="comment"># copy everything else and build app</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> /src/WebAPI/. ./WebApi/</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /source/WebApi</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> dotnet restore <span class="string">&#x27;WebApi.csproj&#x27;</span></span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> dotnet build <span class="string">&#x27;WebApi.csproj&#x27;</span> -c release -o /app --no-restore</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> dotnet publish <span class="string">&#x27;WebApi.csproj&#x27;</span> -c release -o /app --no-restore</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create Runtime Image Step</span></span><br><span class="line"><span class="keyword">FROM</span> mcr.microsoft.com/dotnet/aspnet:<span class="number">6.0</span>-alpine</span><br><span class="line"><span class="keyword">ENV</span> ASPNETCORE_URLS=http://+:<span class="number">5110</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> --from=build /app ./</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">5110</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;dotnet&quot;</span>, <span class="string">&quot;WebApi.dll&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ul>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/aspnet/core/fundamentals/http-requests?view=aspnetcore-6.0">åœ¨ ASP.NET Core ä¸­ä½¿ç”¨ IHttpClientFactory ç™¼å‡º HTTP è¦æ±‚</a></li>
<li><a target="_blank" rel="noopener" href="https://jiepeng.me/2018/06/09/use-docker-multiple-stage-builds">é€é Multiple Stage Builds ç·¨è­¯å‡ºæœ€å°çš„ Docker Image</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/05/03/2022/dotnet_namespace/" data-id="cm3rn6z8z00ac2so61okma0ay" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/05/03/2022/dotnet_namespace/#disqus_thread" class="article-comment-link">ç•™è¨€</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">å¯¦ä½œç­†è¨˜</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/dotnet_configuration" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/01/2022/dotnet_configuration/" class="article-date">
  <time datetime="2022-05-01T18:05:12.000Z" itemprop="datePublished">2022-05-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/05/01/2022/dotnet_configuration/"> [å¯¦ä½œç­†è¨˜] ASP.Net Core Config çš„éš¨ç­†</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="æè¦"><a href="#æè¦" class="headerlink" title="æè¦"></a>æè¦</h2><ul>
<li>DI Configuration</li>
<li>çµ„æ…‹çš„å±¤æ¬¡</li>
<li>Options Pattern</li>
</ul>
<h3 id="DI-Configuration"><a href="#DI-Configuration" class="headerlink" title="DI Configuration"></a>DI Configuration</h3><p>dotnet webapi å°ˆæ¡ˆé è¨­æœƒæ³¨å…¥ IConfiguration ï¼Œ<br>åœ¨å°ˆæ¡ˆä¸­çš„ç¨‹å¼å»ºæ§‹å­æ”¾å…¥ <code>IConfiguration</code> å°±å¯ä»¥ç›´æ¥å–å¾—çµ„æ…‹è¨­å®š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">readonly</span> IConfiguration _config;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">WeatherForecastController</span>(<span class="params">IConfiguration config</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    _config = config;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="meta">HttpGet(Name = <span class="string">&quot;GetWeatherForecast&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">Get</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> _config[<span class="string">&quot;ASPNETCORE_ENVIRONMENT&quot;</span>]!;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥å°‡çµ„æ…‹è¨­å®šåœ¨ <code>appsettings.json</code> ä¹‹ä¸­<br>æˆ–æ˜¯é€éç’°å¢ƒè®Šæ•¸ï¼Œä½¿ç”¨ç’°å¢ƒè®Šæ•¸æœ‰å¹¾ç¨®ä½œæ³•</p>
<ul>
<li>è¨­å®šåœ¨æ©Ÿå™¨ä¸Š</li>
<li>è¨­å®šåœ¨ Cloud Service æ‰€æä¾›çš„çµ„æ…‹ç®¡ç†å·¥å…·ä¹‹ä¸­</li>
<li>ä½¿ç”¨ <code>launchSettings.json</code></li>
</ul>
<p>åœ¨é–‹ç™¼ç’°å¢ƒæˆ‘æœƒä½¿ç”¨ <code>launchSettings</code> å¥½è™•æ˜¯å¯ä»¥ä¸éœ€è¦çœŸçš„åœ¨é–‹ç™¼æ©Ÿçš„ç’°å¢ƒä¸­è¨­å®šç’°å¢ƒè®Šæ•¸ï¼Œ<br>å°åŒæ™‚æ“æœ‰å¤šå€‹å°ˆæ¡ˆçš„é–‹ç™¼è€…è€Œè¨€ï¼Œå¯ä»¥æœ‰æ•ˆéš”é›¢ä¸åŒçš„å°ˆæ¡ˆè®Šæ•¸ï¼Œé¿å…å½¼æ­¤å½±éŸ¿æ±¡æŸ“</p>
<h3 id="çµ„æ…‹çš„å±¤æ¬¡"><a href="#çµ„æ…‹çš„å±¤æ¬¡" class="headerlink" title="çµ„æ…‹çš„å±¤æ¬¡"></a>çµ„æ…‹çš„å±¤æ¬¡</h3><p>ç‚ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œæˆ‘å€‘å¯ä»¥é€éçµ„æ…‹çš„å±¤æ¬¡ä¾†åŠ ä»¥åˆ†é–€åˆ¥é¡ã€‚<br>æ¯”å¦‚èªª:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;Level&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;First&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;Key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1st Value&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Second&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;Key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2nd Value&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p>ä¸€èˆ¬çš„ JSON æˆ– XML è¦ä½œåˆ°é€™æ¨£çš„å±¤æ¬¡çµæ§‹éƒ½ç›¸ç•¶çš„ç°¡å–®ï¼Œ<br>è€Œè¦å–ç”¨çµ„æ…‹çš„æ–¹å¼å¦‚ä¸‹:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> key = _config[<span class="string">&quot;Level:First:Key&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>ä¸éæˆ‘å€‘è¦æ³¨æ„ç’°å¢ƒè®Šæ•¸ä¸¦ç„¡æ³•ä½¿ç”¨<code>:</code>å­—ç¬¦ï¼Œä¹Ÿæ²’æœ‰ JSON æˆ–æ˜¯ XML æ‰€èƒ½æä¾›çš„çµæ§‹ï¼Œ<br>é€™è£¡è¦æ³¨æ„å¯ä»¥ç”¨ __(é›™åº•ç·š(Double underscore))ä¾†å»ºç«‹å±¤æ¬¡ã€‚</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$Level__First__Key</span><br><span class="line">$Level__Second__Key</span><br></pre></td></tr></table></figure>

<h3 id="Options-Pattern"><a href="#Options-Pattern" class="headerlink" title="Options Pattern"></a><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/aspnet/core/fundamentals/configuration/options?view=aspnetcore-6.0">Options Pattern</a></h3><p>Options Pattern å¯ä»¥æä¾›ä¸€ç¨®æ›´ç‰©ä»¶å°å‘çš„çµ„æ…‹é…ç½®è§£æ±ºæ–¹æ¡ˆï¼Œ<br>ä½ åªéœ€è¦å…©å€‹æ­¥é©Ÿï¼Œå³å¯å¯¦ä½œ Options Pattern</p>
<ol>
<li><p>å»ºç«‹ Option ç‰©ä»¶<br>æˆ‘åœ¨é€™è£¡æä¾›äºŒç¨®ä¸åŒçš„æ–¹æ³•ï¼Œå¾Œé¢æœƒå†èªªæ˜</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹æ³•ä¸€ Dictionary</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LevelOptions</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">const</span> <span class="built_in">string</span> Level = <span class="string">&quot;Level&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Dictionary&lt;<span class="built_in">string</span>,<span class="built_in">string</span>&gt; First &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹æ³•äºŒ Object</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LevelOption</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">const</span> <span class="built_in">string</span> Level = <span class="string">&quot;Level&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> FirstOptions First &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FirstOptions</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Key &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="built_in">string</span>.Empty;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¨»å†Š Option ç‰©ä»¶</p>
</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">builder.Services.Configure&lt;LevelOptions&gt;(LevelOption.Level)</span><br></pre></td></tr></table></figure>

<p>æœ€å¾Œæ˜¯è®€å–çµ„æ…‹ï¼Œåœ¨æ–¹æ³•ä¸€(ä½¿ç”¨ Dictionary)çš„æ–¹æ³•è®€å–</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> key = _options.Value.First[<span class="string">&quot;Key&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>æˆ–æ˜¯æ–¹æ³•äºŒ(ä½¿ç”¨ Object)çš„æ–¹æ³•è®€å–</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> key = _options.Value.First.Key;</span><br></pre></td></tr></table></figure>

<p>å…©ç¨®æ–¹æ³•éƒ½å¯ä»¥ï¼Œç‰©ä»¶åŒ–çš„æ–¹æ³•éœ€è¦å»ºç«‹å¤šå€‹ç‰©ä»¶ï¼Œ<br>ä½†æ˜¯åœ¨å–ç”¨çµ„æ…‹çš„éç¨‹å°±ä¸æœƒæœ‰ hard coding string;<br>åä¹‹ Dictionary çš„æ–¹æ³•å¯ä»¥å°‘å¯«å¾ˆå¤šç‰©ä»¶ã€‚</p>
<p>å°æˆ‘è€Œè¨€æˆ‘æ¯”è¼ƒåå‘ä½¿ç”¨ Object çš„æ–¹æ³•å»è™•ç†ï¼Œåªè¦é©ç•¶çš„åˆ†é¡ï¼Œ<br>ç‰©ä»¶å¤šä¸¦ä¸æ˜¯å•é¡Œï¼Œè€Œä¸”é€šå¸¸ä¸€æ¬¡ä¸æœƒå¢åŠ å¤ªå¤šçš„çµ„æ…‹ï¼Œå¯ä»¥è¿­ä»£å¢é‡ã€‚</p>
<p>é †ä»£ä¸€æï¼Œå¦‚æœçµ„æ…‹æª”å±¤æ¬¡å¤ªå¤šï¼Œæœƒæ˜¯å¦ä¸€å€‹å›°æ“¾ ? æˆ‘çš„å»ºè­°æ˜¯ï¼Œå¦‚æœçµ„æ…‹çš„æ·±åº¦åˆ°é” 3 æ™‚ï¼Œ<br>éœ€è¦è€ƒæ…®é€™æ˜¯ä¸æ˜¯ä¸€å€‹å£å‘³é“ï¼Œæ˜¯ä¸æ˜¯éåº¦å„ªåŒ–äº† ?<br>å¯¦å‹™ä¸Šä¾†èªªï¼Œæˆ‘æœƒé¿å…å»ºç«‹è¶…é 3 å±¤ï¼Œä¹Ÿå¾ˆé›£æœƒæœ‰ä¸€å®šè¦è¶…é 3 å±¤çš„æƒ…å¢ƒï¼Œ<br>å¦‚æœä½ æœ‰ä»€éº¼æƒ…å¢ƒä¸Šéœ€è¦è¶…é 3 å±¤ï¼Œå¯ä»¥ç•™è¨€çµ¦æˆ‘ï¼Œæˆ‘å€‘å¯ä»¥ä¸€èµ·è¨è«–ã€‚</p>
<h3 id="åœ¨-Program-cs-ä½¿ç”¨"><a href="#åœ¨-Program-cs-ä½¿ç”¨" class="headerlink" title="åœ¨ Program.cs ä½¿ç”¨"></a>åœ¨ Program.cs ä½¿ç”¨</h3><p>å¦‚æœåœ¨ <code>Program.cs</code> çš„æ³¨å…¥éšæ®µï¼Œå¦‚æœè¦å–å¾—çµ„æ…‹ï¼Œ<br>å¯ä»¥ç”¨<br><code>(new ConfigurationManager()).GetSection(&quot;First&quot;)[&quot;Key&quot;]</code><br>æˆ–æ˜¯ <code>Environment.GetEnvironmentVariable(&quot;Level__First__Key&quot;);</code> ç­‰æ–¹æ³•å–å¾—çµ„æ…‹ã€‚<br>ä½†æ˜¯æˆ‘æ›´æ¨è–¦ ServiceProvider çš„ GetRequiredService å–å¾— Options</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ³¨å…¥åœ¨å‰</span></span><br><span class="line">builder.Services.Configure&lt;LevelOption&gt;(builder.Configuration.GetSection(LevelOption.Level));</span><br><span class="line">builder.Services.AddHttpClient(<span class="string">&quot;OtherService&quot;</span>, (provider, client) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//é€é provider å–å¾— config</span></span><br><span class="line">    <span class="keyword">var</span> o = provider.GetRequiredService&lt;IOptions&lt;LevelOptions&gt;&gt;();</span><br><span class="line">    client.BaseAddress = <span class="keyword">new</span> Uri(<span class="string">$&quot;<span class="subst">&#123;o.Value.Url&#125;</span>/&quot;</span>);</span><br><span class="line">    client.DefaultRequestHeaders.Accept.Add(<span class="keyword">new</span> MediaTypeWithQualityHeaderValue(<span class="string">&quot;application/json&quot;</span>));</span><br><span class="line">    client.DefaultRequestHeaders.Authorization = <span class="keyword">new</span> AuthenticationHeaderValue(<span class="string">&quot;Bearer&quot;</span>, o.Value.Token);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>é€™æ¨£å°±å¯ä»¥ç”¨ä¸€è‡´çš„æ–¹æ³•å–å¾—çµ„æ…‹äº†ã€‚</p>
<h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ul>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/aspnet/core/fundamentals/configuration/?view=aspnetcore-6.0">ASP.NET Core çš„è¨­å®š</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/aspnet/core/fundamentals/configuration/options?view=aspnetcore-6.0">ASP.NET Core ä¸­çš„é¸é …æ¨¡å¼</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/dotnet/core/extensions/options">.NET ä¸­çš„é¸é …æ¨¡å¼</a></li>
<li><a target="_blank" rel="noopener" href="https://andrewlock.net/exploring-dotnet-6-part-1-looking-inside-configurationmanager-in-dotnet-6/">Looking inside ConfigurationManager in .NET 6</a></li>
<li><a target="_blank" rel="noopener" href="https://www.evernote.com/shard/s36/sh/20abd4ce-f7e2-47ef-9bc6-36971709348a/d0d0525f9b4b7e5dcf1493eca0b8c232">ä½ å¯èƒ½ä¸çŸ¥é“çš„.Net Core Configuration(Evernote å‚™ä»½)</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/05/01/2022/dotnet_configuration/" data-id="cm3rn6z8z00aa2so600iuc3eh" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/05/01/2022/dotnet_configuration/#disqus_thread" class="article-comment-link">ç•™è¨€</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">å¯¦ä½œç­†è¨˜</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/google_analytics" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/04/26/2022/google_analytics/" class="article-date">
  <time datetime="2022-04-26T12:12:53.000Z" itemprop="datePublished">2022-04-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/04/26/2022/google_analytics/"> [å¯¦ä½œç­†è¨˜] Hexo æ›´æ–° Google Analytics 4</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="å‰æƒ…æè¦"></a>å‰æƒ…æè¦</h2><p>å¹¾å¤©å‰æ”¶åˆ°ä¾†è‡ª Google Analytics çš„é€™æ¨£ä¸€å°ä¿¡</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Google Analytics (åˆ†æ) 4 å³å°‡å–ä»£é€šç”¨ Analytics (åˆ†æ)</span><br><span class="line"></span><br><span class="line">æˆ‘å€‘å³å°‡ä»¥æ–°ä¸€ä»£çš„æˆæ•ˆè©•ä¼°è§£æ±ºæ–¹æ¡ˆ Google Analytics (åˆ†æ) 4ï¼Œ</span><br><span class="line">å–ä»£é€šç”¨ Analytics (åˆ†æ)ã€‚å¾ 2023 å¹´ 7 æœˆ 1 æ—¥èµ·ï¼Œé€šç”¨ Analytics (åˆ†æ) è³‡æºå°‡åœæ­¢è™•ç†æ–°çš„å‘½ä¸­è³‡æ–™ï¼›</span><br><span class="line">å¦‚æœé€šç”¨ Analytics (åˆ†æ) ä»æ˜¯æ‚¨å¸¸ç”¨çš„å·¥å…·ï¼Œå»ºè­°æ‚¨æ¡è¡Œç›¸æ‡‰æªæ–½ï¼Œæº–å‚™å¥½æ”¹ç”¨ Google Analytics (åˆ†æ) 4</span><br></pre></td></tr></table></figure>

<h2 id="å¯¦ä½œæ­¥é©Ÿ"><a href="#å¯¦ä½œæ­¥é©Ÿ" class="headerlink" title="å¯¦ä½œæ­¥é©Ÿ"></a>å¯¦ä½œæ­¥é©Ÿ</h2><p>åƒè€ƒä»¥å‰æˆ‘å¯«çš„é€™ç¯‡â€“<a href="https://blog.marsen.me/2016/08/25/2016/add_google_analytics_to_hexo_blog_1/">å¦‚ä½•è®“ Google Analytics è¿½è¸ªä½ çš„ Hexo Blog</a>ï¼Œ<br>æˆ‘å€‘çŸ¥é“åœ¨ hexo çš„ä½ˆæ™¯ä¸»é¡Œ <code>landscape</code> æœ‰æä¾›èˆŠç‰ˆ GA çš„è¨­å®šï¼Œ<br>æˆ‘å€‘åªéœ€è¦ä¿®æ”¹ <code>theme/layout/_partial/google-analytics.ejs</code> å³å¯<br>ç¨‹å¼åƒè€ƒå¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (theme.<span class="property">google_analytics</span>)&#123; %&gt;</span><br><span class="line">&lt;!-- <span class="title class_">Google</span> <span class="title class_">Analytics</span> --&gt;</span><br><span class="line">&lt;!-- <span class="title class_">Global</span> site tag (gtag.<span class="property">js</span>) - <span class="title class_">Google</span> <span class="title class_">Analytics</span> --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;https://www.googletagmanager.com/gtag/js?id=&lt;%= theme.google_analytics %&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="variable language_">window</span>.<span class="property">dataLayer</span> = <span class="variable language_">window</span>.<span class="property">dataLayer</span> || [];</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">function</span> <span class="title function_">gtag</span>(<span class="params"></span>)&#123;dataLayer.<span class="title function_">push</span>(<span class="variable language_">arguments</span>);&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">gtag</span>(<span class="string">&#x27;js&#x27;</span>, <span class="keyword">new</span> <span class="title class_">Date</span>());</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">gtag</span>(<span class="string">&#x27;config&#x27;</span>, <span class="string">&#x27;&lt;%= theme.google_analytics %&gt;&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;!-- <span class="title class_">End</span> <span class="title class_">Google</span> <span class="title class_">Analytics</span> --&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>

<p>ç”±æ–¼é€šç”¨ GA åœ¨ 2023 å¹´å¾Œå°±ä¸å†æ”¯æ´ï¼Œæ‰€ä»¥æˆ‘å°±ä¸ç‰¹åœ°è™•ç†ç›¸å®¹ï¼Œç›´æ¥åˆ‡æ›åˆ° GA4</p>
<h2 id="åƒè€ƒ"><a href="#åƒè€ƒ" class="headerlink" title="åƒè€ƒ"></a>åƒè€ƒ</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-theme-landscape">Hexo Theme Landscape</a></li>
<li><a href="https://blog.marsen.me/2016/08/25/2016/add_google_analytics_to_hexo_blog_1/">å¦‚ä½•è®“ Google Analytics è¿½è¸ªä½ çš„ Hexo Blog</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/04/26/2022/google_analytics/" data-id="cm3rn6z9300ar2so696ec5vzk" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/04/26/2022/google_analytics/#disqus_thread" class="article-comment-link">ç•™è¨€</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">å¯¦ä½œç­†è¨˜</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/mock_typescript_interface" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/04/07/2022/mock_typescript_interface/" class="article-date">
  <time datetime="2022-04-07T18:20:08.000Z" itemprop="datePublished">2022-04-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/04/07/2022/mock_typescript_interface/"> [å¯¦ä½œç­†è¨˜] ç°¡å–®çš„æ–¹æ³• Mock TypeScript Interface</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å‰æƒ…æè¦"><a href="#å‰æƒ…æè¦" class="headerlink" title="å‰æƒ…æè¦"></a>å‰æƒ…æè¦</h2><p>æˆ‘ç›®å‰åœ¨å¯¦ä½œä¸€å€‹ React çš„å°ˆæ¡ˆï¼Œä¸¦çµåˆ Storybook ä¾†å¯¦ç¾ CDD(component driven development)ï¼Œ<br>æˆ‘å¾ˆå–œæ­¡ CDD çš„æ¦‚å¿µï¼Œé€™è£¡è§£æ±º TDD å° View é›£ä»¥è¶¨å‹•é–‹ç™¼çš„ç—›é»ï¼Œ<br>ä½†æ˜¯åˆç¶­æŒäº† Unit Test çš„åŸºæœ¬ç²¾ç¥ï¼Œé€²ä¸€æ­¥çµåˆ Chromatic å¯ä»¥æä¾›è¦–è¦ºåŒ–çš„æª¢æ ¸é é¢ï¼Œ<br>ä½œç‚ºèˆ‡ PO&#x2F;PM&#x2F;UX&#x2F;UI&#x2F;DESIGNER ä¹‹é–“çš„æºé€šå·¥å…·éå¸¸å¥½ç”¨ã€‚</p>
<h2 id="å•é¡Œ"><a href="#å•é¡Œ" class="headerlink" title="å•é¡Œ"></a>å•é¡Œ</h2><p>æˆ‘ä½œäº†ä¸€å€‹ç°¡å–®çš„ Header çµ„ä»¶ï¼Œ<br>é€™é€šå¸¸æ˜¯ç¶²ç«™æˆ– APP ä¸Šæ–¹çš„å€å¡Šï¼Œé€šå¸¸æœƒæä¾›ä¸€äº›é¡å¤–çš„è³‡è¨Šæˆ–åŠŸèƒ½ï¼Œ<br>ä¾‹å¦‚: ç™»å…¥&#x2F;ç™»å‡ºï¼Œè€Œé€™è£¡æˆ‘ä½¿ç”¨ Firebase ä½œç‚ºå¯¦ä½œç™»å…¥&#x2F;ç™»å‡ºçš„åŠŸèƒ½ï¼Œ<br>ä½œç‚ºä¸»è¦çš„é‚è¼¯åˆ¤æ–·ï¼Œfirebase çš„ Auth ç‰©ä»¶æœƒè¢«å‚³å…¥</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Header</span> = <span class="function">(<span class="params">props: &#123; sighOut: () =&gt; <span class="built_in">void</span>; auth?: Auth &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é€™è£¡æˆ‘å€‘å…ˆä¸è¨è«– Auth çš„é‚è¼¯æ˜¯å¦æ‡‰è©²èˆ‡ Header ç›¸ä¾(å—¯ï¼Œé€™è£¡çœ‹èµ·ä¾†æ˜¯å€‹å£å‘³é“)ï¼Œ<br><strong>è€Œæ˜¯åœ¨æˆ‘å€‘çš„ Storybook æ’°å¯«æ¸¬è©¦æ¡ˆä¾‹æ™‚ï¼Œæ‡‰è©²å¦‚ä½• mock Auth ç‰©ä»¶ã€‚</strong><br>æˆ‘çš„ç¨‹å¼éƒ½æ˜¯ç”¨ TypeScript èˆ‡ tsx å¯«çš„ï¼Œ<br>æ‰€ä»¥å¦‚æœä¸ç¬¦åˆå‹åˆ¥ï¼ŒIDE æœƒç›´æ¥å ±éŒ¯ï¼Œç¨‹å¼è·Ÿæœ¬ç„¡æ³•åŸ·è¡Œ</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">Template</span>: <span class="title class_">ComponentStory</span>&lt;<span class="keyword">typeof</span> <span class="title class_">Header</span>&gt; = <span class="function">() =&gt;</span> (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Header</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">sighOut</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">      alert(&quot;mocked Signout&quot;);</span></span><br><span class="line"><span class="language-xml">    &#125;&#125;</span></span><br><span class="line"><span class="language-xml">    auth=&#123;mockAuth&#125;</span></span><br><span class="line"><span class="language-xml">  /&gt;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="è©¦éçš„æ–¹æ³•"><a href="#è©¦éçš„æ–¹æ³•" class="headerlink" title="è©¦éçš„æ–¹æ³•"></a>è©¦éçš„æ–¹æ³•</h3><ul>
<li>jest Mock</li>
<li>ts-mockito</li>
<li>ts-auto-mock</li>
</ul>
<p>ä»¥ä¸Šçš„æ–¹æ³•æœ‰çš„æˆåŠŸï¼Œæœ‰çš„å¤±æ•—ï¼Œæœ€å¤§çš„å•é¡Œæ˜¯åœ¨é…ç½®èˆ‡æ’°å¯«å…¶å¯¦å¾ˆéº»ç…©ï¼Œ<br>ç”šè‡³æœƒæœ‰åŒäº‹èªªç‚ºä»€éº¼è¦ç”¨ TypeScript è‡ªæ‰¾éº»ç…©å‘¢ ?</p>
<p>é€ä¸€ mock æ‰€æœ‰ interface çš„å±¬æ€§ï¼Œå°æ–¼ä¸€å€‹åƒ Auth é€™æ¨£è¤‡é›œçš„ä»‹é¢å¯¦ä½œä¸Šç›¸ç•¶éº»ç…©ï¼Œ<br>è€Œä¸”å¤§å¤š mock çš„å±¬æ€§éƒ½ç”¨ä¸åˆ°</p>
<p>æˆ‘çš„æƒ³æ³•æ˜¯ï¼Œæ‡‰è©²æ˜¯æˆ‘å° TypeScript èˆ‡å…¶ç”Ÿæ…‹åœˆä¸å¤ äº†è§£ï¼Œå¯«èµ·ä¾†æ‰æœƒè¦ºå¾—ç¶æ‰‹ç¶è…³çš„ï¼Œ<br>ä¸èƒ½æ¨ç¼·çµ¦ç¨‹å¼èªè¨€ï¼ŒåŒæ™‚ TypeScript å¼·å‹åˆ¥çš„å¥½è™•ï¼Œå…¶å¯¦ä¹Ÿå¹«äº†æˆ‘ä¸å°‘ã€‚<br>ä»”ç´°ç ”ç©¶å¾Œï¼Œæˆ‘æ‰¾åˆ°ä¸€å€‹ç°¡å–®æ–¹æ³•å¦‚ä¸‹:</p>
<h2 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h2><p>ä¸éœ€è¦ mock Library ï¼Œ ä¸éœ€è¦éº»ç…©çš„è¨­å®šæˆ–æ˜¯ç¬¬ä¸‰æ–¹å¥—ä»¶ï¼Œ<br>æœ€ç°¡å–®çš„å¯«æ³• <code>as</code> å°±å¯ä»¥å°‡ç‰©ä»¶ mock æˆç‚ºä½ æƒ³è¦çš„ Interface</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mockAuth = &#123;</span><br><span class="line">  <span class="attr">currentUser</span>: &#123; <span class="attr">email</span>: <span class="string">&quot;marsen@test.me&quot;</span> &#125;,</span><br><span class="line">&#125; <span class="keyword">as</span> <span class="title class_">Auth</span>;</span><br></pre></td></tr></table></figure>

<p>é€™æ¨£çš„å¯«æ³•é™¤äº†å¯ä»¥åª mock å¿…è¦çš„å±¬æ€§å¤–ï¼Œ<br>å¦‚æœä½ ç‰©ä»¶ä¸­åŒ…å«äº†ä¸å±¬æ–¼ä»‹é¢æ‡‰æœ‰çš„å±¬æ€§ï¼Œ<br>TypeScript å°‡æœƒæå‡ºè­¦å‘Šï¼Œéå¸¸å¥½ç”¨ã€‚</p>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/04/07/2022/mock_typescript_interface/" data-id="cm3rn6z9800bb2so6bsa86qdr" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/04/07/2022/mock_typescript_interface/#disqus_thread" class="article-comment-link">ç•™è¨€</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">å¯¦ä½œç­†è¨˜</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/9/">â† ä¸Šä¸€é </a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/11/">ä¸‹ä¸€é  â†’</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/11/14/2024/mac_dotnet_8_update_9/"> [å¯¦ä½œç­†è¨˜] Macbook dotnet 8 å‡ç´š dotnet 9</a>
          </li>
        
          <li>
            <a href="/2024/11/04/2024/star_career_feedback/"> [å¯¦ä½œç­†è¨˜] å€‹äººç¶“æ­· STAR è©¦å¯«</a>
          </li>
        
          <li>
            <a href="/2024/10/08/2024/typescript_tsconfig_cheat_sheet/"> [å­¸ç¿’ç­†è¨˜] TypeScript tsconfig è¨­å®šå‚™å¿˜éŒ„</a>
          </li>
        
          <li>
            <a href="/2024/10/05/2024/typescript_omit_pick_distributive_union_issue/"> [å­¸ç¿’ç­†è¨˜] Omit èˆ‡ Pick çš„ Distributive ç‰ˆæœ¬ï¼šè§£æ±º TypeScript Utility Types çš„é™·é˜±</a>
          </li>
        
          <li>
            <a href="/2024/10/04/2024/typescript_type_narrowing_example/"> [å­¸ç¿’ç­†è¨˜] TypeScript çš„ Narrowing Types èˆ‡ Boolean çš„ä¾‹å¤–</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½™æ•´</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">åä¸€æœˆ 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">åæœˆ 2024</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">ä¹æœˆ 2024</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">å…«æœˆ 2024</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">ä¸ƒæœˆ 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">å…­æœˆ 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">äº”æœˆ 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">å››æœˆ 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">ä¸‰æœˆ 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">äºŒæœˆ 2024</a><span class="archive-list-count">2</span></li><span id='list_archives2' style='display:none'><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">ä¸€æœˆ 2024</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">åäºŒæœˆ 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">åä¸€æœˆ 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">åæœˆ 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">ä¹æœˆ 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">å…«æœˆ 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">ä¸ƒæœˆ 2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">å…­æœˆ 2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">äº”æœˆ 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">å››æœˆ 2023</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">ä¸‰æœˆ 2023</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">äºŒæœˆ 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">ä¸€æœˆ 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">åäºŒæœˆ 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">åæœˆ 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">ä¹æœˆ 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">å…«æœˆ 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">ä¸ƒæœˆ 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">å…­æœˆ 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">äº”æœˆ 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">å››æœˆ 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">ä¸‰æœˆ 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">äºŒæœˆ 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">ä¸€æœˆ 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">åäºŒæœˆ 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">åä¸€æœˆ 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">åæœˆ 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">ä¹æœˆ 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">å…«æœˆ 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">ä¸ƒæœˆ 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">å…­æœˆ 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">äº”æœˆ 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">å››æœˆ 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">ä¸‰æœˆ 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">äºŒæœˆ 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">ä¸€æœˆ 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">åäºŒæœˆ 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">åä¸€æœˆ 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">åæœˆ 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">ä¹æœˆ 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">å…«æœˆ 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">ä¸ƒæœˆ 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">å…­æœˆ 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">äº”æœˆ 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">å››æœˆ 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">ä¸‰æœˆ 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">äºŒæœˆ 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">ä¸€æœˆ 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">åäºŒæœˆ 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">åä¸€æœˆ 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">åæœˆ 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">ä¹æœˆ 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">å…«æœˆ 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">ä¸ƒæœˆ 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">å…­æœˆ 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">äº”æœˆ 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">å››æœˆ 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">ä¸‰æœˆ 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">äºŒæœˆ 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">ä¸€æœˆ 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">åäºŒæœˆ 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">åä¸€æœˆ 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">åæœˆ 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">ä¹æœˆ 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">å…«æœˆ 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">ä¸ƒæœˆ 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">å…­æœˆ 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">äº”æœˆ 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">å››æœˆ 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">ä¸‰æœˆ 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">äºŒæœˆ 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">ä¸€æœˆ 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">åäºŒæœˆ 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">åæœˆ 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">ä¹æœˆ 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">å…«æœˆ 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">ä¸ƒæœˆ 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">äº”æœˆ 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">å››æœˆ 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">ä¸‰æœˆ 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">äºŒæœˆ 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">ä¸€æœˆ 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">åäºŒæœˆ 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">åä¸€æœˆ 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">åæœˆ 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">ä¹æœˆ 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">å…«æœˆ 2016</a><span class="archive-list-count">6</span></li></span><span id=''></span><span onclick="var d=document.getElementById('list_archives2'); d.style.display===''?d.style='display:none':d.style=''">toggle...</span></ul>
    </div>
  </div>


  
    <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/3.0/tw/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/3.0/tw/88x31.png" />
</a>
  <br />
This work is licensed under a 
<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/3.0/tw/">Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Taiwan License</a>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ¨™ç±¤é›²</h3>
    <div class="widget tagcloud">
      <a href="/tags/Net-Framework/" style="font-size: 14.67px;">.Net Framework</a> <a href="/tags/API/" style="font-size: 11.33px;">API</a> <a href="/tags/AWS/" style="font-size: 13.33px;">AWS</a> <a href="/tags/Agile/" style="font-size: 17.33px;">Agile</a> <a href="/tags/CI-CD/" style="font-size: 19.33px;">CI/CD</a> <a href="/tags/Cache/" style="font-size: 10px;">Cache</a> <a href="/tags/Coding-Standard/" style="font-size: 10px;">Coding Standard</a> <a href="/tags/Container/" style="font-size: 12px;">Container</a> <a href="/tags/Database/" style="font-size: 12.67px;">Database</a> <a href="/tags/Design-Pattern/" style="font-size: 10.67px;">Design Pattern</a> <a href="/tags/Docker/" style="font-size: 12px;">Docker</a> <a href="/tags/Entity-Framework/" style="font-size: 10.67px;">Entity Framework</a> <a href="/tags/Firebase/" style="font-size: 10px;">Firebase</a> <a href="/tags/Git/" style="font-size: 10.67px;">Git</a> <a href="/tags/Golang/" style="font-size: 11.33px;">Golang</a> <a href="/tags/Google/" style="font-size: 11.33px;">Google</a> <a href="/tags/GulpJs/" style="font-size: 10.67px;">GulpJs</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/Hexo/" style="font-size: 15.33px;">Hexo</a> <a href="/tags/IIS/" style="font-size: 10px;">IIS</a> <a href="/tags/IO/" style="font-size: 10px;">IO</a> <a href="/tags/Integrated-Testing/" style="font-size: 10px;">Integrated Testing</a> <a href="/tags/Jenkins/" style="font-size: 12px;">Jenkins</a> <a href="/tags/Kubernetes/" style="font-size: 10px;">Kubernetes</a> <a href="/tags/Linux/" style="font-size: 10.67px;">Linux</a> <a href="/tags/Mongodb/" style="font-size: 10px;">Mongodb</a> <a href="/tags/MsSQL/" style="font-size: 11.33px;">MsSQL</a> <a href="/tags/MsTest/" style="font-size: 10px;">MsTest</a> <a href="/tags/Mutation-Testing/" style="font-size: 10px;">Mutation Testing</a> <a href="/tags/Nodejs/" style="font-size: 15.33px;">Nodejs</a> <a href="/tags/OAuth/" style="font-size: 10px;">OAuth</a> <a href="/tags/OOP/" style="font-size: 11.33px;">OOP</a> <a href="/tags/Openshift/" style="font-size: 10.67px;">Openshift</a> <a href="/tags/PowerShell/" style="font-size: 11.33px;">PowerShell</a> <a href="/tags/React/" style="font-size: 12px;">React</a> <a href="/tags/Redis/" style="font-size: 10.67px;">Redis</a> <a href="/tags/SQL/" style="font-size: 12px;">SQL</a> <a href="/tags/Scrum/" style="font-size: 16.67px;">Scrum</a> <a href="/tags/Shell/" style="font-size: 10.67px;">Shell</a> <a href="/tags/Specflow/" style="font-size: 10px;">Specflow</a> <a href="/tags/StyleCop/" style="font-size: 10px;">StyleCop</a> <a href="/tags/TDD/" style="font-size: 16px;">TDD</a> <a href="/tags/Testing/" style="font-size: 14px;">Testing</a> <a href="/tags/Thread/" style="font-size: 10.67px;">Thread</a> <a href="/tags/Trello/" style="font-size: 10px;">Trello</a> <a href="/tags/TypeScript/" style="font-size: 13.33px;">TypeScript</a> <a href="/tags/Unit-Testing/" style="font-size: 18.67px;">Unit Testing</a> <a href="/tags/Unix/" style="font-size: 10.67px;">Unix</a> <a href="/tags/Vim/" style="font-size: 10px;">Vim</a> <a href="/tags/Visual-Studio/" style="font-size: 10px;">Visual Studio</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/post/" style="font-size: 10px;">post</a> <a href="/tags/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/" style="font-size: 13.33px;">å­¸ç¿’ç­†è¨˜</a> <a href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" style="font-size: 20px;">å¯¦ä½œç­†è¨˜</a> <a href="/tags/%E6%99%82%E9%96%93%E7%AE%A1%E7%90%86/" style="font-size: 10.67px;">æ™‚é–“ç®¡ç†</a> <a href="/tags/%E6%B4%BB%E5%8B%95%E7%AD%86%E8%A8%98/" style="font-size: 12.67px;">æ´»å‹•ç­†è¨˜</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E7%AD%86%E8%A8%98/" style="font-size: 16px;">ç”Ÿæ´»ç­†è¨˜</a> <a href="/tags/%E8%A8%98%E9%8C%84/" style="font-size: 11.33px;">è¨˜éŒ„</a> <a href="/tags/%E8%B8%A9%E9%9B%B7%E7%AD%86%E8%A8%98/" style="font-size: 14.67px;">è¸©é›·ç­†è¨˜</a> <a href="/tags/%E9%87%8D%E6%A7%8B/" style="font-size: 12px;">é‡æ§‹</a> <a href="/tags/%E9%96%B1%E8%AE%80%E7%AD%86%E8%A8%98/" style="font-size: 18px;">é–±è®€ç­†è¨˜</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ¨™ç±¤</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Net-Framework/" rel="tag">.Net Framework</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/" rel="tag">API</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AWS/" rel="tag">AWS</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Agile/" rel="tag">Agile</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CI-CD/" rel="tag">CI&#x2F;CD</a><span class="tag-list-count">24</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cache/" rel="tag">Cache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Coding-Standard/" rel="tag">Coding Standard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Container/" rel="tag">Container</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Database/" rel="tag">Database</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-Pattern/" rel="tag">Design Pattern</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Entity-Framework/" rel="tag">Entity Framework</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Firebase/" rel="tag">Firebase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang/" rel="tag">Golang</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google/" rel="tag">Google</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GulpJs/" rel="tag">GulpJs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IIS/" rel="tag">IIS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO/" rel="tag">IO</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Integrated-Testing/" rel="tag">Integrated Testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/" rel="tag">Jenkins</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kubernetes/" rel="tag">Kubernetes</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mongodb/" rel="tag">Mongodb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MsSQL/" rel="tag">MsSQL</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MsTest/" rel="tag">MsTest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mutation-Testing/" rel="tag">Mutation Testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OAuth/" rel="tag">OAuth</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OOP/" rel="tag">OOP</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Openshift/" rel="tag">Openshift</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PowerShell/" rel="tag">PowerShell</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scrum/" rel="tag">Scrum</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/" rel="tag">Shell</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Specflow/" rel="tag">Specflow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/StyleCop/" rel="tag">StyleCop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TDD/" rel="tag">TDD</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Testing/" rel="tag">Testing</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thread/" rel="tag">Thread</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Trello/" rel="tag">Trello</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unit-Testing/" rel="tag">Unit Testing</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unix/" rel="tag">Unix</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vim/" rel="tag">Vim</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Visual-Studio/" rel="tag">Visual Studio</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/" rel="tag">html</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/post/" rel="tag">post</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/" rel="tag">å­¸ç¿’ç­†è¨˜</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">å¯¦ä½œç­†è¨˜</a><span class="tag-list-count">114</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%99%82%E9%96%93%E7%AE%A1%E7%90%86/" rel="tag">æ™‚é–“ç®¡ç†</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B4%BB%E5%8B%95%E7%AD%86%E8%A8%98/" rel="tag">æ´»å‹•ç­†è¨˜</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E7%AD%86%E8%A8%98/" rel="tag">ç”Ÿæ´»ç­†è¨˜</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A8%98%E9%8C%84/" rel="tag">è¨˜éŒ„</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B8%A9%E9%9B%B7%E7%AD%86%E8%A8%98/" rel="tag">è¸©é›·ç­†è¨˜</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%8D%E6%A7%8B/" rel="tag">é‡æ§‹</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%96%B1%E8%AE%80%E7%AD%86%E8%A8%98/" rel="tag">é–±è®€ç­†è¨˜</a><span class="tag-list-count">15</span></li></ul>
    </div>
  </div>


  
    

  
    <div class="widget-wrap">
    <h3 class="widget-title">å¤šèªç³»</h3>
    <div class="widget">
        <div id="ytWidget"></div>
    </div>
</div>
<script src="https://translate.yandex.net/website-widget/v1/widget.js?widgetId=ytWidget&pageLang=zh&widgetTheme=dark&autoMode=false" type="text/javascript"></script>
  
    <div class="widget-wrap">
    <h3 class="widget-title">BADGES</h3>
    <div class="widget">
        <a target="_blank" rel="noopener" href="https://bcert.me/bc/html/show-badge.html?b=uufxvngl">
            <img src="/images/2018/csm/seal-csm.png" alt="Certified ScrumMasterÂ®">
        </a>
    </div>
</div>
  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 Marsen L.<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

  
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>



<script src="/js/sayings.js?v=0.js"></script>
  

<script src="/js/script.js?v=0.js"></script>

<div id="likecoin">
Please enable JavaScript to view the LikeCoin. :P
</div>
<script>

  (function(){
    var ifrm = document.createElement("iframe");
    ifrm.setAttribute("src", "https://button.like.co/in/embed/marsenlin/button?referrer=undefined");      
    ifrm.setAttribute("sandbox","allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox");
    ifrm.frameborder = "0";
    ifrm.scrolling = "no";
    (document.getElementById("likecoin").replaceChild(ifrm, document.getElementById("likecoin").childNodes[0]));
  })();

</script>
<script>

  var disqus_shortname = 'marsenlin';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();

</script>

  </div>
    
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NTDGNJZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

</body>
</html>