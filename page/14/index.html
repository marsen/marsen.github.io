<!DOCTYPE html>
<html>
<head>
  
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NTDGNJZ');</script>
<!-- End Google Tag Manager -->

  
<!-- Google Analytics -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RF47NNRE5G"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RF47NNRE5G');
</script>
<!-- End Google Analytics -->

  
<!-- Google AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1885096025224905"
     crossorigin="anonymous"></script>
<!-- End Google AdSense -->



  <meta charset="utf-8">
  
  <title>Marsen&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Marsen&#39;s Blog">
<meta property="og:url" content="https://blog.marsen.me/page/14/index.html">
<meta property="og:site_name" content="Marsen&#39;s Blog">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="Marsen L.">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Marsen&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
      
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300&display=swap" rel="stylesheet">
  
  
<link rel="stylesheet" href="/css/style.css">

  <meta property ="og:image" content="https://avatars1.githubusercontent.com/u/4269720?s=460&v=4" /> 
<meta name="generator" content="Hexo 8.1.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="blog-banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Marsen&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle"></a>
          <div>
          <span style="width: 20px; height: 10px; background: linear-gradient(to bottom, #005BBB 50%, #FFD700 50%); text-align: center; color: white; font-size: 6px; font-weight: bold; line-height: 100px;">
            #StandWithUkraine
          </span>
          </div>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜尋"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.marsen.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-2022/typescript_tips" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/15/2022/typescript_tips/" class="article-date">
  <time datetime="2022-05-15T02:00:57.000Z" itemprop="datePublished">2022-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/05/15/2022/typescript_tips/"> [活動筆記] 線上活動 TypeScript tips and Tricks with Matt</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>YouTube 頻道<a target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCs5Y5_7XK8HLDX0SLNwkd3w">Visual Studio Code</a><br>前陣子推出了由大神 Matt 所介紹有關 TypeScript 奇技淫巧<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=hBk4nV7q6-w">影片</a><br>相當燒腦，特別作此記錄。</p>
<h2 id="5-06-generic-table-component"><a href="#5-06-generic-table-component" class="headerlink" title="5:06 generic-table-component"></a>5:06 <a target="_blank" rel="noopener" href="https://aka.ms/typescript/1">generic-table-component</a></h2><p>難度:★★☆☆☆</p>
<p>這題需要有一些 React 的基礎概念，<br>首先我們有一些 React Component(以下簡稱 RC)，<br>並且用 interface 建立相對應 props。</p>
<p>問題是如果要讓我們的 RC 更泛用應該怎麼作，<br>在這個例子中，我們建立了一個 Table RC(以下簡稱 Table) ，並且在 props 中傳入一些參數，<br>這個參數的型別，直接與 Table 產生了耦合，我們可用泛型(Generic)處理。</p>
<h3 id="Before"><a href="#Before" class="headerlink" title="Before"></a>Before</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">interface <span class="title class_">TableProps</span> &#123;</span><br><span class="line">  <span class="attr">items</span>: &#123; <span class="attr">id</span>: string &#125;[];</span><br><span class="line">  <span class="attr">renderItem</span>: <span class="function">(<span class="params">item: &#123; id: string &#125;</span>) =&gt;</span> <span class="title class_">React</span>.<span class="property">ReactNode</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">Table</span> = (<span class="params">props: TableProps</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="After"><a href="#After" class="headerlink" title="After"></a>After</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">TableProps</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="attr">items</span>: T[];</span><br><span class="line">  <span class="attr">renderItem</span>: <span class="function">(<span class="params">item: T</span>) =&gt;</span> <span class="title class_">React</span>.<span class="property">ReactNode</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Table</span> = &lt;T,&gt;<span class="function">(<span class="params">props: TableProps&lt;T&gt;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>這裡是很簡單的泛型觀念，如果有寫過具備泛型的語言(ex:C#)應該不難理解，<br>另外需要注意的一個有關 React 的小小 Tricky<br>注意到 <code>&lt;T,&gt;</code> 這裡有一個小小的逗號，其實是不必要的，<br>但是在 React 的開發環境之中，角括號<code>&lt;&gt;</code>會被視為未封閉的 RC;<br>封閉的例子，ex:<code>&lt;myComponent&gt;&lt;/myComponent&gt;</code> 或是 <code>&lt;myComponent /&gt;</code><br>未了必免編輯器的警告，需要加上一個逗號<code>,</code></p>
<p>另外這裡在寫 React Component 時，使用了 arrow function，<br>我們也可以換成一般的 function 寫法,這種寫法就可以省略 <code>&lt;T,&gt;</code> 這樣 tricky 的寫法</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Table</span> = <span class="keyword">function</span> &lt;T&gt;(<span class="attr">props</span>: <span class="title class_">TableProps</span>&lt;T&gt;) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>泛型不難理解，但是考量到需要具備的 React 知識，難度我給他兩顆星</p>
<h2 id="11-19-get-deep-value"><a href="#11-19-get-deep-value" class="headerlink" title="11:19 get-deep-value"></a>11:19 <a target="_blank" rel="noopener" href="https://aka.ms/typescript/2">get-deep-value</a></h2><p>難度:★★★☆☆</p>
<p>這題要動態的取出物件深層的屬性的型別，<br>具體好處是可以讓編輯型別檢查</p>
<p>看一下影片中的範例 <code>getDeepValue</code> 是一個函數，可以用來取物件深層屬性的值<br>這裡我們看到 <code>obj:any</code> Matt 說道可以視作一個壞味道(不知道他對 unknown 的看法)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getDeepValue</span> = (<span class="params">obj: any, firstKey: string, secondKey: string</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> obj[firstKey][secondKey];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>看一下原始範例如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">foo</span>: &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">b</span>: <span class="number">2</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">bar</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="string">&quot;12&quot;</span>,</span><br><span class="line">    <span class="attr">d</span>: <span class="number">18</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="我的作法"><a href="#我的作法" class="headerlink" title="我的作法"></a>我的作法</h3><p>如果比較直觀的寫法可以考慮寫個 ObjectType,</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// this one is NOT from the sample</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>: <span class="title class_">ObjType</span> = &#123;</span><br><span class="line">  <span class="attr">foo</span>: &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">b</span>: <span class="number">2</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">bar</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="string">&quot;12&quot;</span>,</span><br><span class="line">    <span class="attr">d</span>: <span class="number">18</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">FirstKeyType</span> = <span class="string">&quot;foo&quot;</span> | <span class="string">&quot;bar&quot;</span>;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">SecondKeyType</span> = <span class="string">&quot;a&quot;</span> | <span class="string">&quot;b&quot;</span> | <span class="string">&quot;c&quot;</span> | <span class="string">&quot;d&quot;</span>;</span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ObjType</span> = &#123;</span><br><span class="line">  [key <span class="keyword">in</span> <span class="title class_">FirstKeyType</span>]: &#123; <span class="attr">a</span>: <span class="built_in">boolean</span>; <span class="attr">b</span>: <span class="built_in">number</span> &#125; | &#123; <span class="attr">c</span>: <span class="built_in">string</span>; <span class="attr">d</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getDeepValue = (<span class="attr">obj</span>: <span class="title class_">ObjType</span> <span class="comment">//...</span></span><br></pre></td></tr></table></figure>

<p>註:這裡有用到 <a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/2/objects.html#index-signatures">index-signatures</a> 的概念<br>看看官方文件的說法:</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Sometimes you don’t know all the names of a type’s properties ahead of time, but you do know the shape of the values.</span><br><span class="line"></span><br><span class="line">In those cases you can use an index signature to describe the types of possible values</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> value = <span class="title function_">getDeepValue</span>(obj, <span class="string">&quot;foo&quot;</span>, <span class="string">&quot;a&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Matt-在影片中的作法"><a href="#Matt-在影片中的作法" class="headerlink" title="Matt 在影片中的作法"></a>Matt 在影片中的作法</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getDeepValue = &lt;</span><br><span class="line">  <span class="title class_">TObj</span>,</span><br><span class="line">  <span class="title class_">TFirstKey</span> <span class="keyword">extends</span> keyof <span class="title class_">TObj</span>,</span><br><span class="line">  <span class="title class_">TSecondKey</span> <span class="keyword">extends</span> keyof <span class="title class_">TObj</span>[<span class="title class_">TFirstKey</span>]</span><br><span class="line">&gt;<span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  obj: TObj,</span></span></span><br><span class="line"><span class="params"><span class="function">  firstKey: TFirstKey,</span></span></span><br><span class="line"><span class="params"><span class="function">  secondKey: TSecondKey</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> obj[firstKey][secondKey];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/2/keyof-types.html#handbook-content">keyof 關鍵字可以直接參考官方文件</a></p>
<h3 id="比較兩者的作法"><a href="#比較兩者的作法" class="headerlink" title="比較兩者的作法"></a>比較兩者的作法</h3><p>我們加上了 Type，就是要為程式碼加上保護<br>我跟 Matt 的作法，下面的程式碼都會提出警告</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> error_value = <span class="title function_">getDeepValue</span>(obj, <span class="string">&quot;error&quot;</span>, <span class="string">&quot;wrong&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>但是無法避免以下的錯誤</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> error_value = <span class="title function_">getDeepValue</span>(obj, <span class="string">&quot;foo&quot;</span>, <span class="string">&quot;c&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><code>obj.foo</code> 是不存在 <code>c</code> 屬性，這樣我們就需要動態判斷型別<br>看看 Matt 使用 <code>keyof</code> 作法。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getDeepValue = &lt;<span class="title class_">TObj</span>, <span class="title class_">TFirstKey</span> <span class="keyword">extends</span> keyof <span class="title class_">TObj</span>&gt;<span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  obj: TObj,</span></span></span><br><span class="line"><span class="params"><span class="function">  firstKey: TFirstKey,</span></span></span><br><span class="line"><span class="params"><span class="function">  secondKey: keyof TObj[TFirstKey]</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> obj[firstKey][secondKey];</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>這裡有點不可思議，首先是 ts 的動態型別推導，<br>在呼叫方法 getDeepValue 的第 1 個參數會動態推導出 TObj 的型別<br>大概等價以下的型別</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">TObj</span> = &#123;</span><br><span class="line">  <span class="attr">foo</span>: &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="built_in">boolean</span>;</span><br><span class="line">    <span class="attr">b</span>: <span class="built_in">number</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="attr">bar</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="built_in">string</span>;</span><br><span class="line">    <span class="attr">d</span>: <span class="built_in">number</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><code>keyof TObj</code> 的值會是 <code>foo | bar</code><br>而 TFirstKey 的型別，在第 2 個參數傳入之時決定是 <code>foo</code> 或 <code>bar</code>，<br>不是上述兩種的參數傳入時，編輯會拋出錯誤警告，非常好用。<br>下一個燒腦的部份，第 3 個參數 <code>secondKey: keyof TObj[TFirstKey]</code>，<br>透過類似陣列取值的手法，我們可以在傳入第 2 個參數時決定第 3 個參數的值，並且讓編輯器提供保護。<br>例如，第 2 個參數為 <code>foo</code> 時，第 3 個參數會限定只能傳入 <code>&quot;a&quot;|&quot;b&quot;</code></p>
<p>這裡需要思考一下，並不難理解，所以給 3 顆星。</p>
<p>如果能應用得好的話，對於開發 ts Library 會相當有幫助<br>不過我覺得自已無法用得很得心應手，比如說，如果物件深度不固定，應該如處理？<br>又或者如果不用 <code>keyof</code> 的技巧，對一個已知的物件，我能不能作到類似的效果(編輯器動態檢查)?</p>
<h2 id="28-54-conditional-types"><a href="#28-54-conditional-types" class="headerlink" title="28:54 conditional-types"></a>28:54 <a target="_blank" rel="noopener" href="https://aka.ms/typescript/3">conditional-types</a></h2><p>難度:★★★☆☆</p>
<p>這其實是 TypeScript 一個基本的概念與技巧，<br>可以在<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/2/conditional-types.html">官方文件</a>看到更多資訊</p>
<p>一個標準的寫法如下</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">SomeType</span> <span class="keyword">extends</span> <span class="title class_">OtherType</span> ? <span class="title class_">TrueType</span> : <span class="title class_">FalseType</span>;</span><br></pre></td></tr></table></figure>

<p>記得這裡最終只會回傳 TrueType 或是 FalseType，而 SomeType 只是作為條件檢查。<br>當然也可以作多重的條件檢查</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">SomeType</span> <span class="keyword">extends</span> <span class="title class_">OtherType</span> ?</span><br><span class="line">  <span class="title class_">TrueType</span> :</span><br><span class="line">  <span class="title class_">SomeType</span> <span class="keyword">extends</span> <span class="title class_">OtherConditionType</span>?</span><br><span class="line">  <span class="title class_">OtherThing</span> :</span><br><span class="line">  <span class="title class_">FalseType</span>;</span><br></pre></td></tr></table></figure>

<h3 id="35-20-更進一步"><a href="#35-20-更進一步" class="headerlink" title="35:20 更進一步"></a>35:20 更進一步</h3><p>我們看一下怎麼應用 Condition Type 這個技巧?<br>參考<a target="_blank" rel="noopener" href="https://aka.ms/typescript/9">error-messages-in-ts</a>這個教案<br>在 deepEqualCompare 這個方法之中，陣列比較需要例外處理，<br>因為陣列比較永遠會回傳 false<br>原本的作法，會在程式的 runtime 作型別檢查並拋出例外</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> deepEqualCompare = &lt;<span class="title class_">Arg</span>&gt;(<span class="attr">a</span>: <span class="title class_">Arg</span>, <span class="attr">b</span>: <span class="title class_">Arg</span>): <span class="function"><span class="params">boolean</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// runtime handle</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(a) || <span class="title class_">Array</span>.<span class="title function_">isArray</span>(b)) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;You cannot compare two arrays using deepEqualCompare&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> a === b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>而透過 condition type，可以讓編輯器在開發時直接檢查，看起來更加的優雅</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> deepEqualCompare = &lt;<span class="title class_">Arg</span>&gt;(</span><br><span class="line">  <span class="attr">a</span>: <span class="title class_">Arg</span> <span class="keyword">extends</span> <span class="built_in">any</span>[] ? <span class="string">&quot;not allow array&quot;</span> : <span class="title class_">Arg</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="title class_">Arg</span> <span class="keyword">extends</span> <span class="built_in">any</span>[] ? <span class="string">&quot;not allow array&quot;</span> : <span class="title class_">Arg</span></span><br><span class="line">): <span class="function"><span class="params">boolean</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a === b;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>這應該算是 TypeScript 的基本工，也有在官方文件上有很清楚的講解，<br>對我來說，第一次看到仍然相當驚訝，我給他三顆星<br>另外，我有兩個延申問題，</p>
<ol>
<li>程式碼中有 any 算不算壞味道? 我是不是應該用 <code>unknown[]</code> 取代 <code>any[]</code></li>
<li><code>Arg extends any[] ? &quot;not allow array&quot; : Arg</code> 明顯出現了重複，我有沒有什麼技巧可以消除這樣的重複?</li>
</ol>
<h2 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h2><p>整個影片還有許多燒腦的部分，<br>Q&amp;A 或是最後的挑戰都有相當多有趣的東西的可挖掘，<br>有機會我再補上。</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/type-challenges/type-challenges/tree/main/questions">Type-Challenges</a></li>
<li>Matt’s Tips &amp; Tricks<ul>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/1">generic-table-component</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/2">get-deep-value</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/3">conditional-types</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/4">loose-autocomplete</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/5">compose</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/6">conditional-function-args</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/7">distributive-conditional-types</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/8">object-values</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/9">error-messages-in-ts</a></li>
<li><a target="_blank" rel="noopener" href="https://aka.ms/typescript/10">search-params-decoding</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://dev.to/samwightt/today-in-typescript-the-keyof-operator-445b">Today in TypeScript: the keyof operator</a></li>
<li><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/zod">zod</a></li>
<li><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/ts-toolbelt">ts-toolbelt</a></li>
<li><a target="_blank" rel="noopener" href="https://stately.ai/">Matt 目前的專案 stately</a></li>
<li><a target="_blank" rel="noopener" href="https://twitter.com/mpocock1">Matt 的推特</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/05/15/2022/typescript_tips/" data-id="cuidltn5YKHUOtyXt0ltBA8QZ" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/05/15/2022/typescript_tips/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/hexo_customerize_helper" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/10/2022/hexo_customerize_helper/" class="article-date">
  <time datetime="2022-05-10T02:17:05.000Z" itemprop="datePublished">2022-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/05/10/2022/hexo_customerize_helper/"> [實作筆記] 自定義 Hexo Helper</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>我的 Blog 目前是使用 Hexo 搭建的,<br>使用的主題是 <code>landscape</code> 。<br>隨著時光推移, Hexo 漸漸從人們的目光淡出,<br>主功能、文件、翻譯或是外掛、主題等…, 更新速度變慢很多</p>
<p>我想改寫主題當中的某個輔助函數（Helper), 稍微記錄一下作法。</p>
<h2 id="實作"><a href="#實作" class="headerlink" title="實作"></a>實作</h2><p>首先是檔案位置，一個是在根目錄底下建立 <code>scripts</code> 資料夾，<br>或者你正在使用主題(Theme)底下。<br>以我的例子來說，我會放在 <code>themes/landscape/scripts</code> 底下</p>
<p>參考下面的圖示</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">├── scripts</span><br><span class="line">│   ├── index.js</span><br><span class="line">│   └── your_helper_here.js</span><br><span class="line">├── themes</span><br><span class="line">│   └── the_theme_you_are_using</span><br><span class="line">│       └── scripts</span><br><span class="line">│           ├── index.js</span><br><span class="line">│           └── your_helper_here.js</span><br></pre></td></tr></table></figure>

<p>下一步，你需要建立 <code>index.js</code>,並在其入註冊你的函數,</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//hexo.extend.helper.register(name, function)</span></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">helper</span>.<span class="title function_">register</span>(<span class="string">&quot;helper_name&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;&lt;div&gt;your helper function &lt;/div&gt;&quot;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>通常 helper 不會是一個簡單的函數，且會有 UI 相關的程式，<br>有為了方便管理，我會拆檔，再用 <code>require</code> 來引入函數</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo.<span class="property">extend</span>.<span class="property">helper</span>.<span class="title function_">register</span>(<span class="string">&quot;helper_name&quot;</span>, <span class="built_in">require</span>(<span class="string">&quot;./helper_file_name&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>最後，在 *.ejs 檔案中使用 helper</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- <span class="title function_">helper_name</span>() %&gt;</span><br></pre></td></tr></table></figure>

<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://hexo.bootcss.com/api/helper.html">Hexo 輔助函數</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.haysc.tech/custom-helper-hexo/">詳解 Hexo 輔助函數</a></li>
<li><a target="_blank" rel="noopener" href="https://titangene.github.io/article/hexo-markdown-it.html">將 Hexo 的 Markdown 渲染引擎換成 markdown-it</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/05/10/2022/hexo_customerize_helper/" data-id="cuidkGmtz78ctiiITHAu1KqJw" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/05/10/2022/hexo_customerize_helper/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/dotnet_namespace" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/03/2022/dotnet_namespace/" class="article-date">
  <time datetime="2022-05-03T07:13:12.000Z" itemprop="datePublished">2022-05-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/05/03/2022/dotnet_namespace/"> [實作筆記] Dotnet Core 實作隨筆</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Web-Api-專案統一錯誤處理"><a href="#Web-Api-專案統一錯誤處理" class="headerlink" title="Web&#x2F;Api 專案統一錯誤處理"></a>Web&#x2F;Api 專案統一錯誤處理</h2><p>首先建立一個新的類別 <code>ErrorHandlingFilter</code><br>繼承 <code>ExceptionFilterAttribute</code> 並複寫 <code>OnException</code> 函數</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ErrorHandlingFilter</span> : <span class="title">ExceptionFilterAttribute</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnException</span>(<span class="params">ExceptionContext context</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//do your logical here</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在 Program.cs 中注入</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">builder.Services.AddControllers(options =&gt; &#123; options.Filters.Add(<span class="keyword">new</span> ErrorHandlingFilter()); &#125;);</span><br></pre></td></tr></table></figure>

<h2 id="專案更改-Root-Namespace"><a href="#專案更改-Root-Namespace" class="headerlink" title="專案更改 Root Namespace"></a>專案更改 Root Namespace</h2><p>預設會使用專案名稱作為整個專案的 Root Namespace，<br>但是我們可以在 csproj 檔中設定 <code>RootNamespace</code> 讓它與專案名稱有所差異</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;Project Sdk=<span class="string">&quot;Microsoft.NET.Sdk.Web&quot;</span>&gt;</span><br><span class="line">  &lt;PropertyGroup&gt;</span><br><span class="line">    &lt;TargetFramework&gt;net6<span class="number">.0</span>&lt;/TargetFramework&gt;</span><br><span class="line">    &lt;RootNamespace&gt;MyNameSpace&lt;/RootNamespace&gt;</span><br><span class="line">  &lt;/PropertyGroup&gt;</span><br><span class="line">&lt;/Project&gt;</span><br></pre></td></tr></table></figure>

<h2 id="Nuget"><a href="#Nuget" class="headerlink" title="Nuget"></a>Nuget</h2><h3 id="add-nuget-registry"><a href="#add-nuget-registry" class="headerlink" title="add nuget registry"></a>add nuget registry</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dotnet nuget add <span class="built_in">source</span> &lt;registry url&gt; -n SourceName -u UserName -p Password --store-password-in-clear-text</span><br></pre></td></tr></table></figure>

<h3 id="pack"><a href="#pack" class="headerlink" title="pack"></a>pack</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dotnet pack -o &lt;output folder&gt; -c NUGET --no-dependencies --force  -p:PackageVersion=&lt;version&gt;</span><br></pre></td></tr></table></figure>

<h3 id="push"><a href="#push" class="headerlink" title="push"></a>push</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dotnet nuget push -s SourceName &lt;Packed Version&gt;</span><br></pre></td></tr></table></figure>

<h2 id="建立共用的-HttpClient"><a href="#建立共用的-HttpClient" class="headerlink" title="建立共用的 HttpClient"></a>建立共用的 HttpClient</h2><p>在 Program.cs 中註冊</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">builder.Services.AddHttpClient(<span class="string">&quot;ThirdService&quot;</span>, (provider, client) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> o = provider.GetRequiredService&lt;IOptions&lt;ThirdServiceOptions&gt;&gt;();</span><br><span class="line">    client.BaseAddress = <span class="keyword">new</span> Uri(<span class="string">$&quot;<span class="subst">&#123;o.Value.Url&#125;</span>/&quot;</span>);</span><br><span class="line">    client.DefaultRequestHeaders.Accept.Add(<span class="keyword">new</span> MediaTypeWithQualityHeaderValue(<span class="string">&quot;application/json&quot;</span>));</span><br><span class="line">    client.DefaultRequestHeaders.Authorization = <span class="keyword">new</span> AuthenticationHeaderValue(<span class="string">&quot;Bearer&quot;</span>, o.Value.Token);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>再透過 HttpClientFactory 具名取用</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyService</span>(<span class="params">IHttpClientFactory httpClientFactory</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">  HttpClient _httpClient = httpClientFactory.CreateClient(<span class="string">&quot;ThirdService&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="最小化-Docker-Image"><a href="#最小化-Docker-Image" class="headerlink" title="最小化 Docker Image"></a>最小化 Docker Image</h2><p>這一種被稱為 Multiple Stage Builds 的 Docker 技巧，<br>主要的概念是將建置(Build)與部署(Deploy)的步驟分開，<br>最終只部署出營運所需的映象檔(Image)。</p>
<p>比如說下面的 <code>Docker File</code> 就是將 dotnet 專案作了兩步驟的處理</p>
<p>此外，如果我們更換適當的 Image，<br>比如說，在 Create Runtime Image Step，<br>將 <code>mcr.microsoft.com/dotnet/aspnet:6.0</code> 改為 <code>mcr.microsoft.com/dotnet/aspnet:6.0-alpine</code><br>映象檔的 Size 將減少 46.6% (216.11 MB → 115.4 MB)</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Build Step</span></span><br><span class="line"><span class="keyword">FROM</span> mcr.microsoft.com/dotnet/sdk:<span class="number">6.0</span> AS build</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /source</span></span><br><span class="line"><span class="comment"># copy everything else and build app</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> /src/WebAPI/. ./WebApi/</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /source/WebApi</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> dotnet restore <span class="string">&#x27;WebApi.csproj&#x27;</span></span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> dotnet build <span class="string">&#x27;WebApi.csproj&#x27;</span> -c release -o /app --no-restore</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> dotnet publish <span class="string">&#x27;WebApi.csproj&#x27;</span> -c release -o /app --no-restore</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create Runtime Image Step</span></span><br><span class="line"><span class="keyword">FROM</span> mcr.microsoft.com/dotnet/aspnet:<span class="number">6.0</span>-alpine</span><br><span class="line"><span class="keyword">ENV</span> ASPNETCORE_URLS=http://+:<span class="number">5110</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> /app</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> --from=build /app ./</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">5110</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;dotnet&quot;</span>, <span class="string">&quot;WebApi.dll&quot;</span>]</span></span><br></pre></td></tr></table></figure>

<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/aspnet/core/fundamentals/http-requests?view=aspnetcore-6.0">在 ASP.NET Core 中使用 IHttpClientFactory 發出 HTTP 要求</a></li>
<li><a target="_blank" rel="noopener" href="https://jiepeng.me/2018/06/09/use-docker-multiple-stage-builds">透過 Multiple Stage Builds 編譯出最小的 Docker Image</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/05/03/2022/dotnet_namespace/" data-id="cuid5P-KOMjBDnOV8WM7qVYhG" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/05/03/2022/dotnet_namespace/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/dotnet_configuration" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/05/01/2022/dotnet_configuration/" class="article-date">
  <time datetime="2022-05-01T18:05:12.000Z" itemprop="datePublished">2022-05-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/05/01/2022/dotnet_configuration/"> [實作筆記] ASP.Net Core Config 的隨筆</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="提要"><a href="#提要" class="headerlink" title="提要"></a>提要</h2><ul>
<li>DI Configuration</li>
<li>組態的層次</li>
<li>Options Pattern</li>
</ul>
<h3 id="DI-Configuration"><a href="#DI-Configuration" class="headerlink" title="DI Configuration"></a>DI Configuration</h3><p>dotnet webapi 專案預設會注入 IConfiguration ，<br>在專案中的程式建構子放入 <code>IConfiguration</code> 就可以直接取得組態設定</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">readonly</span> IConfiguration _config;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">WeatherForecastController</span>(<span class="params">IConfiguration config</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    _config = config;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[<span class="meta">HttpGet(Name = <span class="string">&quot;GetWeatherForecast&quot;</span>)</span>]</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">Get</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> _config[<span class="string">&quot;ASPNETCORE_ENVIRONMENT&quot;</span>]!;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>你可以將組態設定在 <code>appsettings.json</code> 之中<br>或是透過環境變數，使用環境變數有幾種作法</p>
<ul>
<li>設定在機器上</li>
<li>設定在 Cloud Service 所提供的組態管理工具之中</li>
<li>使用 <code>launchSettings.json</code></li>
</ul>
<p>在開發環境我會使用 <code>launchSettings</code> 好處是可以不需要真的在開發機的環境中設定環境變數，<br>對同時擁有多個專案的開發者而言，可以有效隔離不同的專案變數，避免彼此影響污染</p>
<h3 id="組態的層次"><a href="#組態的層次" class="headerlink" title="組態的層次"></a>組態的層次</h3><p>為了方便管理，我們可以透過組態的層次來加以分門別類。<br>比如說:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;Level&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;First&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;Key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1st Value&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Second&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;Key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2nd Value&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<p>一般的 JSON 或 XML 要作到這樣的層次結構都相當的簡單，<br>而要取用組態的方式如下:</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> key = _config[<span class="string">&quot;Level:First:Key&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>不過我們要注意環境變數並無法使用<code>:</code>字符，也沒有 JSON 或是 XML 所能提供的結構，<br>這裡要注意可以用 __(雙底線(Double underscore))來建立層次。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$Level__First__Key</span><br><span class="line">$Level__Second__Key</span><br></pre></td></tr></table></figure>

<h3 id="Options-Pattern"><a href="#Options-Pattern" class="headerlink" title="Options Pattern"></a><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/aspnet/core/fundamentals/configuration/options?view=aspnetcore-6.0">Options Pattern</a></h3><p>Options Pattern 可以提供一種更物件導向的組態配置解決方案，<br>你只需要兩個步驟，即可實作 Options Pattern</p>
<ol>
<li><p>建立 Option 物件<br>我在這裡提供二種不同的方法，後面會再說明</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法一 Dictionary</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LevelOptions</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">const</span> <span class="built_in">string</span> Level = <span class="string">&quot;Level&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Dictionary&lt;<span class="built_in">string</span>,<span class="built_in">string</span>&gt; First &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法二 Object</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LevelOption</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">const</span> <span class="built_in">string</span> Level = <span class="string">&quot;Level&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> FirstOptions First &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">FirstOptions</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Key &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125; = <span class="built_in">string</span>.Empty;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>註冊 Option 物件</p>
</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">builder.Services.Configure&lt;LevelOptions&gt;(LevelOption.Level)</span><br></pre></td></tr></table></figure>

<p>最後是讀取組態，在方法一(使用 Dictionary)的方法讀取</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> key = _options.Value.First[<span class="string">&quot;Key&quot;</span>];</span><br></pre></td></tr></table></figure>

<p>或是方法二(使用 Object)的方法讀取</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> key = _options.Value.First.Key;</span><br></pre></td></tr></table></figure>

<p>兩種方法都可以，物件化的方法需要建立多個物件，<br>但是在取用組態的過程就不會有 hard coding string;<br>反之 Dictionary 的方法可以少寫很多物件。</p>
<p>對我而言我比較偏向使用 Object 的方法去處理，只要適當的分類，<br>物件多並不是問題，而且通常一次不會增加太多的組態，可以迭代增量。</p>
<p>順代一提，如果組態檔層次太多，會是另一個困擾 ? 我的建議是，如果組態的深度到達 3 時，<br>需要考慮這是不是一個壞味道，是不是過度優化了 ?<br>實務上來說，我會避免建立超過 3 層，也很難會有一定要超過 3 層的情境，<br>如果你有什麼情境上需要超過 3 層，可以留言給我，我們可以一起討論。</p>
<h3 id="在-Program-cs-使用"><a href="#在-Program-cs-使用" class="headerlink" title="在 Program.cs 使用"></a>在 Program.cs 使用</h3><p>如果在 <code>Program.cs</code> 的注入階段，如果要取得組態，<br>可以用<br><code>(new ConfigurationManager()).GetSection(&quot;First&quot;)[&quot;Key&quot;]</code><br>或是 <code>Environment.GetEnvironmentVariable(&quot;Level__First__Key&quot;);</code> 等方法取得組態。<br>但是我更推薦 ServiceProvider 的 GetRequiredService 取得 Options</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注入在前</span></span><br><span class="line">builder.Services.Configure&lt;LevelOption&gt;(builder.Configuration.GetSection(LevelOption.Level));</span><br><span class="line">builder.Services.AddHttpClient(<span class="string">&quot;OtherService&quot;</span>, (provider, client) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//透過 provider 取得 config</span></span><br><span class="line">    <span class="keyword">var</span> o = provider.GetRequiredService&lt;IOptions&lt;LevelOptions&gt;&gt;();</span><br><span class="line">    client.BaseAddress = <span class="keyword">new</span> Uri(<span class="string">$&quot;<span class="subst">&#123;o.Value.Url&#125;</span>/&quot;</span>);</span><br><span class="line">    client.DefaultRequestHeaders.Accept.Add(<span class="keyword">new</span> MediaTypeWithQualityHeaderValue(<span class="string">&quot;application/json&quot;</span>));</span><br><span class="line">    client.DefaultRequestHeaders.Authorization = <span class="keyword">new</span> AuthenticationHeaderValue(<span class="string">&quot;Bearer&quot;</span>, o.Value.Token);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>這樣就可以用一致的方法取得組態了。</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/aspnet/core/fundamentals/configuration/?view=aspnetcore-6.0">ASP.NET Core 的設定</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/aspnet/core/fundamentals/configuration/options?view=aspnetcore-6.0">ASP.NET Core 中的選項模式</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-tw/dotnet/core/extensions/options">.NET 中的選項模式</a></li>
<li><a target="_blank" rel="noopener" href="https://andrewlock.net/exploring-dotnet-6-part-1-looking-inside-configurationmanager-in-dotnet-6/">Looking inside ConfigurationManager in .NET 6</a></li>
<li><a target="_blank" rel="noopener" href="https://www.evernote.com/shard/s36/sh/20abd4ce-f7e2-47ef-9bc6-36971709348a/d0d0525f9b4b7e5dcf1493eca0b8c232">你可能不知道的.Net Core Configuration(Evernote 備份)</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/05/01/2022/dotnet_configuration/" data-id="cuidZMvyJOOf0hk-FEb7pOx_H" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/05/01/2022/dotnet_configuration/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/google_analytics" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/04/26/2022/google_analytics/" class="article-date">
  <time datetime="2022-04-26T12:12:53.000Z" itemprop="datePublished">2022-04-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/04/26/2022/google_analytics/"> [實作筆記] Hexo 更新 Google Analytics 4</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>幾天前收到來自 Google Analytics 的這樣一封信</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Google Analytics (分析) 4 即將取代通用 Analytics (分析)</span><br><span class="line"></span><br><span class="line">我們即將以新一代的成效評估解決方案 Google Analytics (分析) 4，</span><br><span class="line">取代通用 Analytics (分析)。從 2023 年 7 月 1 日起，通用 Analytics (分析) 資源將停止處理新的命中資料；</span><br><span class="line">如果通用 Analytics (分析) 仍是您常用的工具，建議您採行相應措施，準備好改用 Google Analytics (分析) 4</span><br></pre></td></tr></table></figure>

<h2 id="實作步驟"><a href="#實作步驟" class="headerlink" title="實作步驟"></a>實作步驟</h2><p>參考以前我寫的這篇–<a href="https://blog.marsen.me/2016/08/25/2016/add_google_analytics_to_hexo_blog_1/">如何讓 Google Analytics 追踪你的 Hexo Blog</a>，<br>我們知道在 hexo 的佈景主題 <code>landscape</code> 有提供舊版 GA 的設定，<br>我們只需要修改 <code>theme/layout/_partial/google-analytics.ejs</code> 即可<br>程式參考如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (theme.<span class="property">google_analytics</span>)&#123; %&gt;</span><br><span class="line">&lt;!--comment￼<span class="number">0</span>--&gt;</span><br><span class="line">&lt;!--comment￼<span class="number">1</span>--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">&quot;https://www.googletagmanager.com/gtag/js?id=&lt;%= theme.google_analytics %&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="variable language_">window</span>.<span class="property">dataLayer</span> = <span class="variable language_">window</span>.<span class="property">dataLayer</span> || [];</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">function</span> <span class="title function_">gtag</span>(<span class="params"></span>)&#123;dataLayer.<span class="title function_">push</span>(<span class="variable language_">arguments</span>);&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">gtag</span>(<span class="string">&#x27;js&#x27;</span>, <span class="keyword">new</span> <span class="title class_">Date</span>());</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">gtag</span>(<span class="string">&#x27;config&#x27;</span>, <span class="string">&#x27;&lt;%= theme.google_analytics %&gt;&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;!--comment￼<span class="number">2</span>--&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>

<p>由於通用 GA 在 2023 年後就不再支援，所以我就不特地處理相容，直接切換到 GA4</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-theme-landscape">Hexo Theme Landscape</a></li>
<li><a href="https://blog.marsen.me/2016/08/25/2016/add_google_analytics_to_hexo_blog_1/">如何讓 Google Analytics 追踪你的 Hexo Blog</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/04/26/2022/google_analytics/" data-id="cuidzrTOhi3zQjntRiJ12XV8Q" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/04/26/2022/google_analytics/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/mock_typescript_interface" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/04/07/2022/mock_typescript_interface/" class="article-date">
  <time datetime="2022-04-07T18:20:08.000Z" itemprop="datePublished">2022-04-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/04/07/2022/mock_typescript_interface/"> [實作筆記] 簡單的方法 Mock TypeScript Interface</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>我目前在實作一個 React 的專案，並結合 Storybook 來實現 CDD(component driven development)，<br>我很喜歡 CDD 的概念，這裡解決 TDD 對 View 難以趨動開發的痛點，<br>但是又維持了 Unit Test 的基本精神，進一步結合 Chromatic 可以提供視覺化的檢核頁面，<br>作為與 PO&#x2F;PM&#x2F;UX&#x2F;UI&#x2F;DESIGNER 之間的溝通工具非常好用。</p>
<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><p>我作了一個簡單的 Header 組件，<br>這通常是網站或 APP 上方的區塊，通常會提供一些額外的資訊或功能，<br>例如: 登入&#x2F;登出，而這裡我使用 Firebase 作為實作登入&#x2F;登出的功能，<br>作為主要的邏輯判斷，firebase 的 Auth 物件會被傳入</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Header</span> = <span class="function">(<span class="params">props: &#123; sighOut: () =&gt; <span class="built_in">void</span>; auth?: Auth &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>這裡我們先不討論 Auth 的邏輯是否應該與 Header 相依(嗯，這裡看起來是個壞味道)，<br><strong>而是在我們的 Storybook 撰寫測試案例時，應該如何 mock Auth 物件。</strong><br>我的程式都是用 TypeScript 與 tsx 寫的，<br>所以如果不符合型別，IDE 會直接報錯，程式跟本無法執行</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">Template</span>: <span class="title class_">ComponentStory</span>&lt;<span class="keyword">typeof</span> <span class="title class_">Header</span>&gt; = <span class="function">() =&gt;</span> (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Header</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">sighOut</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">      alert(&quot;mocked Signout&quot;);</span></span><br><span class="line"><span class="language-xml">    &#125;&#125;</span></span><br><span class="line"><span class="language-xml">    auth=&#123;mockAuth&#125;</span></span><br><span class="line"><span class="language-xml">  /&gt;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="試過的方法"><a href="#試過的方法" class="headerlink" title="試過的方法"></a>試過的方法</h3><ul>
<li>jest Mock</li>
<li>ts-mockito</li>
<li>ts-auto-mock</li>
</ul>
<p>以上的方法有的成功，有的失敗，最大的問題是在配置與撰寫其實很麻煩，<br>甚至會有同事說為什麼要用 TypeScript 自找麻煩呢 ?</p>
<p>逐一 mock 所有 interface 的屬性，對於一個像 Auth 這樣複雜的介面實作上相當麻煩，<br>而且大多 mock 的屬性都用不到</p>
<p>我的想法是，應該是我對 TypeScript 與其生態圈不夠了解，寫起來才會覺得綁手綁腳的，<br>不能推缷給程式語言，同時 TypeScript 強型別的好處，其實也幫了我不少。<br>仔細研究後，我找到一個簡單方法如下:</p>
<h2 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h2><p>不需要 mock Library ， 不需要麻煩的設定或是第三方套件，<br>最簡單的寫法 <code>as</code> 就可以將物件 mock 成為你想要的 Interface</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mockAuth = &#123;</span><br><span class="line">  <span class="attr">currentUser</span>: &#123; <span class="attr">email</span>: <span class="string">&quot;marsen@test.me&quot;</span> &#125;,</span><br><span class="line">&#125; <span class="keyword">as</span> <span class="title class_">Auth</span>;</span><br></pre></td></tr></table></figure>

<p>這樣的寫法除了可以只 mock 必要的屬性外，<br>如果你物件中包含了不屬於介面應有的屬性，<br>TypeScript 將會提出警告，非常好用。</p>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/04/07/2022/mock_typescript_interface/" data-id="cuidha48TN01uv-ndpUrRdzEs" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/04/07/2022/mock_typescript_interface/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/update_react_18_with_typescript" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/04/07/2022/update_react_18_with_typescript/" class="article-date">
  <time datetime="2022-04-07T18:20:08.000Z" itemprop="datePublished">2022-04-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/04/07/2022/update_react_18_with_typescript/"> [實作筆記] 升級現有基於 TypeScript 的 React 17 專案到 React 18</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>升級 React 在官方的文件之中，似乎是一件極為簡單的事，<br>但是如果你的專案是基於 TypeScript 開發，<br>在前幾周應該無法順利升級，主要的原因是相對應的 @types 套件並未同時更新，<br>幸運的是，現在看到文章的你，已經可以順利更新了，請參考以下的步驟。</p>
<h2 id="記錄"><a href="#記錄" class="headerlink" title="記錄"></a>記錄</h2><p>安裝 react、react-dom、@types&#x2F;react、＠types&#x2F;react-dom</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i react@18 react-dom@18 @types/react@18 @types/react-dom@18</span><br></pre></td></tr></table></figure>

<p>更改 <code>ReactDOM.render</code> 的寫法</p>
<p>原本的寫法</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&quot;react-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>後來的寫法</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&quot;react-dom/client&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ele = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;root&quot;</span>) <span class="keyword">as</span> <span class="title class_">Element</span>;</span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(ele);</span><br><span class="line">root.<span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">App</span> /&gt;</span></span>);</span><br></pre></td></tr></table></figure>

<p>特別注意要處理 <code>Element</code> 的型別</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=N0DhCV_-Qbg">https://www.youtube.com/watch?v=N0DhCV_-Qbg</a></li>
<li><a target="_blank" rel="noopener" href="https://reactjs.org/blog/2022/03/08/react-18-upgrade-guide.html">How to Upgrade to React 18</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/04/07/2022/update_react_18_with_typescript/" data-id="cuidQHBAVgql8w65_0oil5_Hp" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/04/07/2022/update_react_18_with_typescript/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/https_and_Brave_Browser" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/03/18/2022/https_and_Brave_Browser/" class="article-date">
  <time datetime="2022-03-18T09:24:08.000Z" itemprop="datePublished">2022-03-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/03/18/2022/https_and_Brave_Browser/"> [踩雷筆記] Brave 瀏覽器與本機開發 http</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>Brave 是一款主打安全、注重隱私的瀏覽器，雖然目前仍相當小眾，<br>但在開發者中有一定使用者。</p>
<p>https 通訊協定現在已經是一個 Web 服務、網站、api 的基本安全配備，但是對於開發者來說，<br>在本地開發常常僅使用 http 通訊協定就足以作功能性的驗証。</p>
<h2 id="情境"><a href="#情境" class="headerlink" title="情境"></a>情境</h2><p>使用 dotnet core 建立了一個 web api 的服務，預設的啟動站台 end point 為 <a target="_blank" rel="noopener" href="http://localhost:5000/">http://localhost:5000</a>，<br>而 Brave 作為預設瀏覽器開啟後，會看到 403 的錯誤頁面。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">找不到 localhost</span><br><span class="line">網頁找不到此網址的網頁：http://localhost:5000/</span><br><span class="line">HTTP ERROR 404</span><br></pre></td></tr></table></figure>

<h2 id="解決方法"><a href="#解決方法" class="headerlink" title="解決方法"></a>解決方法</h2><p>正常的思路，應該是讓本地開發環境建立起 https 的連線，這裡又會有相關的憑証問題要處理，<br>應該有蠻多不同的作法，改天我再寫一篇相關的介紹。</p>
<p>短解很簡單，換個瀏覽器就可以了，<br>如果堅持要用 Brave ,可以至設定 &gt; 防護 &gt; 關閉「升級連線至 HTTPS」的開關即可。<br>順代一提，當我使用 hexo、React 等工具建立靜態網站時不會有這個問題。</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://brave.com/">Brave</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/03/18/2022/https_and_Brave_Browser/" data-id="cuidCLfjuBhEuwAFK8OBYOoR8" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/03/18/2022/https_and_Brave_Browser/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2022/gcp_static_site_with_cloud_storage_and_loading_balancing" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/03/09/2022/gcp_static_site_with_cloud_storage_and_loading_balancing/" class="article-date">
  <time datetime="2022-03-09T02:53:48.000Z" itemprop="datePublished">2022-03-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/03/09/2022/gcp_static_site_with_cloud_storage_and_loading_balancing/"> [實作筆記] 靜態網站部署整合 GCP (二) --- Load Balancing &amp; Cloud Storage</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前請提要"><a href="#前請提要" class="headerlink" title="前請提要"></a>前請提要</h2><p>去年有記錄一篇有關 GCP 部署靜態網站時遇到情境與問題，<br>不過比較偏像流水帳，不同的部署策略都在同一篇文章，另外有一些問題也得到解決，<br>除了更新原有文章外，這篇的目的是為了將 Load Balancing 與 Cloud Storage 抽出，<br>並加以潤飾。</p>
<h2 id="概要"><a href="#概要" class="headerlink" title="概要"></a>概要</h2><ul>
<li>在 Cloud Storage 建立一個 Bucket</li>
<li>在 Network Service 建立一個 Load Balancing</li>
<li>設定 Load Balancing 的 Backend 綁定到 Bucket</li>
<li>作為網站，需要允許所有人讀取 Bucket 的內容</li>
</ul>
<h2 id="必要條件"><a href="#必要條件" class="headerlink" title="必要條件"></a>必要條件</h2><p>GCP 平台的帳戶與足夠的權限，並且已建立專案</p>
<h2 id="在-Cloud-Storage-建立一個-Bucket"><a href="#在-Cloud-Storage-建立一個-Bucket" class="headerlink" title="在 Cloud Storage 建立一個 Bucket"></a>在 Cloud Storage 建立一個 Bucket</h2><p>第一步前往<a target="_blank" rel="noopener" href="https://console.cloud.google.com/storage/browser">Cloud Storage</a>，<br>點擊 +CREATE BUCKET，<br>在 Choose where to store your data 的區塊，<br>Location type 有三種</p>
<ul>
<li>multi-region</li>
<li>dual-region</li>
<li>region</li>
</ul>
<p>這是地理位置與高可用性的相關設定，越後面的設定成本越便宜，但是可用性也越低。<br>即使如此 google 仍保証了 SLA: 99.95% 的高可用性。</p>
<p>接下來是 Choose a default storage class for your data 的區塊，有</p>
<ul>
<li>Standard</li>
<li>Nearline</li>
<li>Coldline</li>
<li>Archive</li>
</ul>
<p>等四種不同的設定，<br>與檔案的使用頻率有關，對於網站來說建議使用 Standard 。<br>收費可以參考下表</p>
<table>
<thead>
<tr>
<th></th>
<th>Standard</th>
<th>Nearline</th>
<th>Coldline</th>
<th>Archive</th>
</tr>
</thead>
<tbody><tr>
<td>Storage(per GB-Month)</td>
<td>$0.026</td>
<td>$0.01</td>
<td>$0.007</td>
<td>$0.004</td>
</tr>
<tr>
<td>retrieval(per GB-Month)</td>
<td>Free</td>
<td>$0.01</td>
<td>$0.02</td>
<td>$0.05</td>
</tr>
<tr>
<td>Class A Operations(per 1000ops)</td>
<td>$0.005</td>
<td>$0.01</td>
<td>$0.01</td>
<td>$0.05</td>
</tr>
<tr>
<td>Class B Operations(per 1000 ops)</td>
<td>$0.0004</td>
<td>$0.001</td>
<td>$0.005</td>
<td>$0.05</td>
</tr>
<tr>
<td>SLA</td>
<td>99.95%</td>
<td>99.9%</td>
<td>99.9%</td>
<td>99.9%</td>
</tr>
</tbody></table>
<p>接下來是 Choose how to control access to objects 的設定，<br>不要勾選 Enforce public access prevention on this bucket，<br>Access control 選擇 Uniform ， 這裡的設定是為了避免從 internet 存取 bucket 的資料，<br>但是我們的目的是放置靜態網站的資料，所以不需設定。</p>
<p>再來是 Choose how to protect object data<br>這是保護資料的策略，有版本(versioning)與備份(retention)兩種策略，<br>我們不需要所以選擇 None</p>
<p>按下 Create 以建立 Bucket，<br>接下來為了讓 web 存取我們選擇 more action(3 個點的 Icon ) &gt; Edit Access<br>New Principals &gt; 選擇 allUsers &gt; Storage Object Viewer.<br>接下來可以上傳你的靜態網站的資源了，這裡我們多作一個設定，通常我們要指定網站的首頁為何，<br>約定成俗是 index.html，一樣 more action(3 個點的 Icon ) &gt; edit website configuration<br>將 Index (main) page suffix 設定為 index.html(記得 bucket 裡要有這個檔)</p>
<h2 id="Load-Balancing-相關設定"><a href="#Load-Balancing-相關設定" class="headerlink" title="Load Balancing 相關設定"></a>Load Balancing 相關設定</h2><p>接下來設定 Load Balancing，<br>這只需要設定一次，在目前的實作未涉及 VPC、CDN、Path Rules 等相關議題，<br>實務上需要的話，請再加上去考量。</p>
<ol>
<li>GCP &gt; Network Service &gt; Load Balancing</li>
<li>Create Load Balancer</li>
<li>Backend configuration &gt; Create A Backend Bucket<ul>
<li>自已取一個 Backend Bucket name</li>
<li>Cloud Storage Bucket &gt; Browse &gt; 選取之前所建立的 Bucket</li>
<li>不勾選 Enable Cloud CDN， 相關的設定與應用程式的應用有關， 較為複雜之後再進行處理</li>
</ul>
</li>
<li>Host and path rules &gt; Simple host and path rule</li>
<li>Frontend IP and PORT &gt; Add Frontend IP And Port<ul>
<li>Protocol &gt; HTTP (正常應使用 HTTPS， 這次為了求快而未作相關設定)</li>
<li>Network Service Tier &gt; Premium</li>
</ul>
</li>
</ol>
<p>可以參考 GCP 的教學與我們實作上的細微差異</p>
<ul>
<li>Create a bucket. → 手動建立只需要處理一次</li>
<li>Upload and share your site’s files. → CI 執行</li>
<li>Set up a load balancer and SSL certificate. → 手動建立只需要處理一次</li>
<li>Connect your load balancer to your bucket. → 手動建立只需要處理一次</li>
<li>Point your domain to your load balancer using an A record. → 未處理</li>
<li>Test the website.</li>
</ul>
<h2 id="CI-CD-的相關設定-已過時"><a href="#CI-CD-的相關設定-已過時" class="headerlink" title="CI&#x2F;CD 的相關設定　(已過時)"></a>CI&#x2F;CD 的相關設定　(已過時)</h2><p>參考以下部份的 .gitlab-ci.yml 檔<br>非常簡單，只需要 <code>gsutil rsync -R</code> 將前一個 job 建置的檔案推到 Cloud Storage 即可</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy-job:</span> <span class="comment"># This job runs in the deploy stage.</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">deploy</span> <span class="comment"># It only runs when *both* jobs in the test stage complete successfully.</span></span><br><span class="line">  <span class="attr">image:</span> <span class="string">google/cloud-sdk</span></span><br><span class="line">  <span class="attr">needs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">job:</span> <span class="string">build-job</span></span><br><span class="line">      <span class="attr">artifacts:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="comment"># - gcloud auth list # Show the ACTIVE  ACCOUNT *</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">gsutil</span> <span class="string">rsync</span> <span class="string">-R</span> <span class="string">build</span> <span class="string">gs://your_bucket_name</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">&quot;Application successfully deployed.&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="其它（已過時）"><a href="#其它（已過時）" class="headerlink" title="其它（已過時）"></a>其它（已過時）</h2><p>這裡仍有一個未知的設定，gsutil 命令會需要權限才能對 Cloud Storage 寫入，<br>如何讓 Gitlab-Runner 底下的 Container 擁有指定的 GCP 權限呢 ?<br>試著下 <code>gcloud auth list</code> 會發現確實有一個可工作的 Account 所以一定有相關的設定要處理，<br>因為沒有實作到，故不作記錄，但未來再有機會不要忘了這一段的工程。</p>
<p>大部份的工作只需要設定一次，未來只需要 CI 將新版的靜態網站上傳到 Cloud Storage 網站就會更新。</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://cloud.google.com/storage/docs/hosting-static-website">https://cloud.google.com/storage/docs/hosting-static-website</a></li>
<li><a target="_blank" rel="noopener" href="https://cloud.google.com/load-balancing/docs/https/ext-load-balancer-backend-buckets">https://cloud.google.com/load-balancing/docs/https/ext-load-balancer-backend-buckets</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/03/09/2022/gcp_static_site_with_cloud_storage_and_loading_balancing/" data-id="cuidv-f6hG9MXGHOPO5ta9igM" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/03/09/2022/gcp_static_site_with_cloud_storage_and_loading_balancing/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2022/CATS_at_Weiwuying" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/03/06/2022/CATS_at_Weiwuying/" class="article-date">
  <time datetime="2022-03-06T03:08:53.000Z" itemprop="datePublished">2022-03-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2022/03/06/2022/CATS_at_Weiwuying/"> [生活筆記] 2022 貓劇感想</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>第一次看到貓劇是在高中音樂課上，老師所播放了 DVD 的片段，<br>具體的內容也記不清了——當時的老師常常放影片上課，<br>比如說用廚具演奏的樂團、貓劇等，——<br>當初只覺得特別，甚至有點詭異，並沒有什麼感觸。</p>
<p>大學畢業後，等待當兵的時間，不知道在什麼時間點，我再次接觸了貓劇。<br>這次就陷入狂熱(FEVER)，一開始是在網路上找片段看，後來也買了 DVD，<br>整個部片應該看了不下 30 次，甚至是可以聽著音樂睡覺。<br>我最喜歡的是看每隻貓咪的互動與細節。從那個時候開始，我就希望可以前往看貓劇的演出。</p>
<p>我已經不確定當時有沒有確認過停演資訊，但是我知道倫敦是貓的首演場地，<br>所以我心中一直想去倫敦參觀(更多的部份是阿森納)<br>而目前知道倫敦已經沒有演出了，順代一提，歌詞有偷婊熱刺的部份 XDD</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Grizabella, The Glamour Cat</span><br><span class="line"></span><br><span class="line">She haunted many a low resort</span><br><span class="line">Near the grimy road of Tottenham Court</span><br></pre></td></tr></table></figure>

<p>2018 年我開始學習 Lindy Dance 與聽爵士樂，2020 在課堂上認識了一些朋友有在看音樂劇，<br>聊天過後，再次激起心中的火花。2021 雖然歷經疫情，但是台灣國內的狀況一直相對穩定，<br>所以開售當天馬上買了票，在朋友的推薦下，大手筆直接買了衛武營 5800 的票，<br>結果疫情爆發，就拖到了 2022 年。<br>雖然票價不便宜，但是這次的體驗真的值得。</p>
<p>好的初體驗，第一次看音樂劇就是史上有名的劇，位置在前排中間的位置;<br>先說說硬體設施，前排是看不到字幕的，不過貓不是一部需要字幕的戲劇，<br>特別是我以前看過無數次的前提下，除了 Growltiger 的部份沒有看過外，<br>其它的部份我都相當的熟悉，加上文本本身是詩集的原因，所以其實並不需要太過依賴字幕，<br>如果英聽夠好的話更是不需要。</p>
<p>第一排的好處是可以看到細節，這點非常適合貓劇，比起劇情與主要出場貓咪的表演來說，<br>更重要的是散落在背景的貓咪表情、肢體其實正在無時無刻演出，有時他們的互動會讓我誤以為是演員在聊天，<br>但是隨著演員的動作，才會發現即時聚光燈不在他們身上，他們也仍然在演出，只要在舞台上就是戲的一部份。<br>而這個距離也可以看到布景的細節<br>聲音部份是真的可以聽到人聲，不是透過音響的聲音，可以感覺到人聲的媚力，<br>這次我的位置聽 Cassandra 聲音真得超清楚(聽說麥克風是藏在他們的頭上，<br>但是他們會互相撥頭時也不會有聲音，所以收音對我來說還是個迷)</p>
<ul>
<li>會被演員當 Target Point Out ，被點到時真得很有觸電感</li>
<li>終場 Rum Tum Tugger 會超近</li>
</ul>
<p>但是也是有缺點的部份，首先是視覺的角度較低，在</p>
<ul>
<li>衛武營第一排有時會被燈箱(或是風扇、提詞機)或貓檔住</li>
<li>當貓咪圍成圈的時候也會被檔住</li>
<li>側面進場的貓咪要轉頭才知道，沒有機會互動</li>
</ul>
<p>下次看建議的位子是可以平&#x2F;俯視舞台的地方，靠走道有機會互動</p>
<p>這次補上更多細節是 DVD 沒有的</p>
<ul>
<li>三大母貓的舞蹈很多也很好看(dvd 看不到完整的)<ul>
<li>Demeter &gt;&gt; Munkustrap</li>
<li>Bombalurina  &gt;&gt; Rum Tum Tugger</li>
<li>Jellylorum &gt;&gt; Gus(Growltiger &gt;&gt; Griddlebone)</li>
</ul>
</li>
<li>JennyAnyDots 有一大段的 TAP 表演（有點像火焰之舞）在  DVD 是刪減版</li>
<li>群舞時有很多三層次的編排在 DVD 看不出來，太近也會看不清楚</li>
<li>Mungojerrie And Rumpelteazer 的排舞有點像馬戲團的表演，不太確定舞蹈風格</li>
<li>Growltiger &gt;&gt; Griddlebone 的表演像義大利歌劇</li>
<li>Tantomile &amp; Coricopat 通常會率先作出反應</li>
<li>Victoria 在 Old Deuteronomy 歌詞中 Victoria’s accession 被提到時會被 Munkustrap Cue 一下這點很可愛<ul>
<li>常在 C 位</li>
<li>solo 的部份我覺得更像體操或芭蕾</li>
<li>舞會 spotlight 的部份搭配的是 Plato&#x2F;George&#x2F;Admetus(名字不一定)</li>
</ul>
</li>
<li>Jemima 才是第一個用唱歌的方式回應 Grizabella 的小貓，一直記錯成 Victoria (Victoria 是用肢體接觸)，初演是 Sarah Brightman 飾演的角色，這次有一段用中文演唱(但是我其實希望他能唱原文就好…中文讓人出戲)</li>
<li>Mistoffelees 是芭蕾的表演，特別是連續轉圈(The Conjuring Turn)</li>
<li>我以為演員會讓我認不出來，但是化裝真的很厲害，就像是有臉譜一樣，跟 DVD 版本沒有什麼差別</li>
<li>Grizabella 被趕走的時候讓我想到取消文化與 <a target="_blank" rel="noopener" href="http://www.yehoodi.com/blog/2017/4/18/max-pitruzzella-accused-of-sexual-assault-by-5-women">Lindy Dancer Max</a> 的事件</li>
<li>2019 電影版是邪典加悲劇，我反而希望可以買到 DVD 版本的數位檔</li>
<li>2022 年在台灣有幫 Old Deuteronomy 脫口罩(好像是 Alonzo), 有一種現實的可愛無奈</li>
</ul>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><p>-<a target="_blank" rel="noopener" href="https://leticiaschic.com/cats-musical-actor-part1/">https://leticiaschic.com/cats-musical-actor-part1/</a></p>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2022/03/06/2022/CATS_at_Weiwuying/" data-id="cuid8h_oFu8V0PAbbhULwB1Oy" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2022/03/06/2022/CATS_at_Weiwuying/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/13/">← 上一頁</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><a class="page-number" href="/page/16/">16</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/">32</a><a class="extend next" rel="next" href="/page/15/">下一頁 →</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/10/30/2025/sdd_spec_kit_water_fall/">[SDD 與 Spec Kit]傳統瀑布式開發（1975-2000）</a>
          </li>
        
          <li>
            <a href="/2025/10/29/2025/sdd_spec_kit/">[學習筆記] SDD 與 Spec Kit - 前言</a>
          </li>
        
          <li>
            <a href="/2025/09/17/2025/ai-refactor-rule-apply-dp/"> [實作筆記] 命令式程式碼重構到函數式 Pipe 流水線</a>
          </li>
        
          <li>
            <a href="/2025/09/11/2025/clean-architecture-avoid-type-hell/"> [實作筆記] Clean Architecture 思考：避免過度設計</a>
          </li>
        
          <li>
            <a href="/2025/09/05/2025/ai-hf-open-model-upload/"> [實作筆記] PaddleOCR ONNX 模型發布到 Hugging Face Hub</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">彙整</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/10/">十月 2025</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/09/">九月 2025</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">八月 2025</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/07/">七月 2025</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">六月 2025</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/05/">五月 2025</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/04/">四月 2025</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">三月 2025</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">二月 2025</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">一月 2025</a><span class="archive-list-count">3</span></li><span id='list_archives2' style='display:none'><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">十二月 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">十一月 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">十月 2024</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">八月 2024</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">七月 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">六月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">五月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">四月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">二月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">十月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">九月 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">八月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">七月 2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">六月 2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">五月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">四月 2023</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">三月 2023</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">九月 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">6</span></li></span><span id=''></span><span onclick="var d=document.getElementById('list_archives2'); d.style.display===''?d.style='display:none':d.style=''">toggle...</span></ul>
    </div>
  </div>


  
    <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/3.0/tw/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/3.0/tw/88x31.png" />
</a>
  <br />
This work is licensed under a 
<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/3.0/tw/">Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Taiwan License</a>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤雲</h3>
    <div class="widget tagcloud">
      <a href="/tags/Net-Framework/" style="font-size: 14.38px;">.Net Framework</a> <a href="/tags/API/" style="font-size: 11.25px;">API</a> <a href="/tags/AWS/" style="font-size: 13.13px;">AWS</a> <a href="/tags/Agile/" style="font-size: 16.88px;">Agile</a> <a href="/tags/CI-CD/" style="font-size: 19.38px;">CI/CD</a> <a href="/tags/Cache/" style="font-size: 10px;">Cache</a> <a href="/tags/Coding-Standard/" style="font-size: 10px;">Coding Standard</a> <a href="/tags/Container/" style="font-size: 11.88px;">Container</a> <a href="/tags/Database/" style="font-size: 12.5px;">Database</a> <a href="/tags/Design-Pattern/" style="font-size: 10.63px;">Design Pattern</a> <a href="/tags/Docker/" style="font-size: 11.88px;">Docker</a> <a href="/tags/Entity-Framework/" style="font-size: 10.63px;">Entity Framework</a> <a href="/tags/Firebase/" style="font-size: 10px;">Firebase</a> <a href="/tags/Git/" style="font-size: 10.63px;">Git</a> <a href="/tags/Golang/" style="font-size: 11.25px;">Golang</a> <a href="/tags/Google/" style="font-size: 11.25px;">Google</a> <a href="/tags/GulpJs/" style="font-size: 10.63px;">GulpJs</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/IIS/" style="font-size: 10px;">IIS</a> <a href="/tags/IO/" style="font-size: 10px;">IO</a> <a href="/tags/Integrated-Testing/" style="font-size: 10px;">Integrated Testing</a> <a href="/tags/Jenkins/" style="font-size: 11.88px;">Jenkins</a> <a href="/tags/Kubernetes/" style="font-size: 10px;">Kubernetes</a> <a href="/tags/Linux/" style="font-size: 10.63px;">Linux</a> <a href="/tags/Mongodb/" style="font-size: 10px;">Mongodb</a> <a href="/tags/MsSQL/" style="font-size: 11.25px;">MsSQL</a> <a href="/tags/MsTest/" style="font-size: 10px;">MsTest</a> <a href="/tags/Mutation-Testing/" style="font-size: 10px;">Mutation Testing</a> <a href="/tags/Nodejs/" style="font-size: 15px;">Nodejs</a> <a href="/tags/OAuth/" style="font-size: 10px;">OAuth</a> <a href="/tags/OOP/" style="font-size: 11.25px;">OOP</a> <a href="/tags/Openshift/" style="font-size: 10.63px;">Openshift</a> <a href="/tags/PowerShell/" style="font-size: 11.25px;">PowerShell</a> <a href="/tags/React/" style="font-size: 11.88px;">React</a> <a href="/tags/Redis/" style="font-size: 10.63px;">Redis</a> <a href="/tags/SQL/" style="font-size: 11.88px;">SQL</a> <a href="/tags/Scrum/" style="font-size: 16.25px;">Scrum</a> <a href="/tags/Shell/" style="font-size: 10.63px;">Shell</a> <a href="/tags/Specflow/" style="font-size: 10px;">Specflow</a> <a href="/tags/StyleCop/" style="font-size: 10px;">StyleCop</a> <a href="/tags/TDD/" style="font-size: 15.63px;">TDD</a> <a href="/tags/Testing/" style="font-size: 13.75px;">Testing</a> <a href="/tags/Thread/" style="font-size: 10.63px;">Thread</a> <a href="/tags/Trello/" style="font-size: 10px;">Trello</a> <a href="/tags/TypeScript/" style="font-size: 13.13px;">TypeScript</a> <a href="/tags/Unit-Testing/" style="font-size: 18.75px;">Unit Testing</a> <a href="/tags/Unix/" style="font-size: 10.63px;">Unix</a> <a href="/tags/Vim/" style="font-size: 10px;">Vim</a> <a href="/tags/Visual-Studio/" style="font-size: 10px;">Visual Studio</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/post/" style="font-size: 10px;">post</a> <a href="/tags/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/" style="font-size: 18.13px;">學習筆記</a> <a href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" style="font-size: 20px;">實作筆記</a> <a href="/tags/%E6%99%82%E9%96%93%E7%AE%A1%E7%90%86/" style="font-size: 10.63px;">時間管理</a> <a href="/tags/%E6%B4%BB%E5%8B%95%E7%AD%86%E8%A8%98/" style="font-size: 12.5px;">活動筆記</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E7%AD%86%E8%A8%98/" style="font-size: 16.25px;">生活筆記</a> <a href="/tags/%E8%A8%98%E9%8C%84/" style="font-size: 11.25px;">記錄</a> <a href="/tags/%E8%B8%A9%E9%9B%B7%E7%AD%86%E8%A8%98/" style="font-size: 15.63px;">踩雷筆記</a> <a href="/tags/%E9%87%8D%E6%A7%8B/" style="font-size: 11.88px;">重構</a> <a href="/tags/%E9%96%B1%E8%AE%80%E7%AD%86%E8%A8%98/" style="font-size: 17.5px;">閱讀筆記</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Net-Framework/" rel="tag">.Net Framework</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/" rel="tag">API</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AWS/" rel="tag">AWS</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Agile/" rel="tag">Agile</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CI-CD/" rel="tag">CI&#x2F;CD</a><span class="tag-list-count">24</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cache/" rel="tag">Cache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Coding-Standard/" rel="tag">Coding Standard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Container/" rel="tag">Container</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Database/" rel="tag">Database</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-Pattern/" rel="tag">Design Pattern</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Entity-Framework/" rel="tag">Entity Framework</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Firebase/" rel="tag">Firebase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang/" rel="tag">Golang</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google/" rel="tag">Google</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GulpJs/" rel="tag">GulpJs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IIS/" rel="tag">IIS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO/" rel="tag">IO</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Integrated-Testing/" rel="tag">Integrated Testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/" rel="tag">Jenkins</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kubernetes/" rel="tag">Kubernetes</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mongodb/" rel="tag">Mongodb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MsSQL/" rel="tag">MsSQL</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MsTest/" rel="tag">MsTest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mutation-Testing/" rel="tag">Mutation Testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OAuth/" rel="tag">OAuth</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OOP/" rel="tag">OOP</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Openshift/" rel="tag">Openshift</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PowerShell/" rel="tag">PowerShell</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scrum/" rel="tag">Scrum</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/" rel="tag">Shell</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Specflow/" rel="tag">Specflow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/StyleCop/" rel="tag">StyleCop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TDD/" rel="tag">TDD</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Testing/" rel="tag">Testing</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thread/" rel="tag">Thread</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Trello/" rel="tag">Trello</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unit-Testing/" rel="tag">Unit Testing</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unix/" rel="tag">Unix</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vim/" rel="tag">Vim</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Visual-Studio/" rel="tag">Visual Studio</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/" rel="tag">html</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/post/" rel="tag">post</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/" rel="tag">學習筆記</a><span class="tag-list-count">16</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a><span class="tag-list-count">131</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%99%82%E9%96%93%E7%AE%A1%E7%90%86/" rel="tag">時間管理</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B4%BB%E5%8B%95%E7%AD%86%E8%A8%98/" rel="tag">活動筆記</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E7%AD%86%E8%A8%98/" rel="tag">生活筆記</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A8%98%E9%8C%84/" rel="tag">記錄</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B8%A9%E9%9B%B7%E7%AD%86%E8%A8%98/" rel="tag">踩雷筆記</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%8D%E6%A7%8B/" rel="tag">重構</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%96%B1%E8%AE%80%E7%AD%86%E8%A8%98/" rel="tag">閱讀筆記</a><span class="tag-list-count">15</span></li></ul>
    </div>
  </div>


  
    

  
    <div class="widget-wrap">
    <h3 class="widget-title">多語系</h3>
    <div class="widget">
        <div id="ytWidget"></div>
    </div>
</div>
<script src="https://translate.yandex.net/website-widget/v1/widget.js?widgetId=ytWidget&pageLang=zh&widgetTheme=dark&autoMode=false" type="text/javascript"></script>
  
    <div class="widget-wrap">
    <h3 class="widget-title">BADGES</h3>
    <div class="widget">
        <a target="_blank" rel="noopener" href="https://bcert.me/bc/html/show-badge.html?b=uufxvngl">
            <img src="/images/2018/csm/seal-csm.png" alt="Certified ScrumMaster®">
        </a>
    </div>
</div>
  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2025 Marsen L.<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

  
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>



<script src="/js/sayings.js?v=0.js"></script>
  

<script src="/js/script.js?v=0.js"></script>

<div id="likecoin">
Please enable JavaScript to view the LikeCoin. :P
</div>
<script>

  (function(){
    var ifrm = document.createElement("iframe");
    ifrm.setAttribute("src", "https://button.like.co/in/embed/marsenlin/button?referrer=undefined");      
    ifrm.setAttribute("sandbox","allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox");
    ifrm.frameborder = "0";
    ifrm.scrolling = "no";
    (document.getElementById("likecoin").replaceChild(ifrm, document.getElementById("likecoin").childNodes[0]));
  })();

</script>
<script>

  var disqus_shortname = 'marsenlin';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();

</script>

  </div>
    
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NTDGNJZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

</body>
</html>