<!DOCTYPE html>
<html>
<head>
  
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NTDGNJZ');</script>
<!-- End Google Tag Manager -->

  
<!-- Google Analytics -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RF47NNRE5G"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RF47NNRE5G');
</script>
<!-- End Google Analytics -->

  
<!-- Google AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1885096025224905"
     crossorigin="anonymous"></script>
<!-- End Google AdSense -->



  <meta charset="utf-8">
  
  <title>Marsen&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Marsen&#39;s Blog">
<meta property="og:url" content="https://blog.marsen.me/page/28/index.html">
<meta property="og:site_name" content="Marsen&#39;s Blog">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="Marsen L.">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Marsen&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
      
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300&display=swap" rel="stylesheet">
  
  
<link rel="stylesheet" href="/css/style.css">

  <meta property ="og:image" content="https://avatars1.githubusercontent.com/u/4269720?s=460&v=4" /> 
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="blog-banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Marsen&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle"></a>
          <div>
          <span style="width: 20px; height: 10px; background: linear-gradient(to bottom, #005BBB 50%, #FFD700 50%); text-align: center; color: white; font-size: 6px; font-weight: bold; line-height: 100px;">
            #StandWithUkraine
          </span>
          </div>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜尋"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.marsen.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-2016/aspdotnet_threadpool_and_redis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/21/2016/aspdotnet_threadpool_and_redis/" class="article-date">
  <time datetime="2016-11-21T08:49:17.000Z" itemprop="datePublished">2016-11-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/21/2016/aspdotnet_threadpool_and_redis/">ASP.NET Thread Pool 與 Redis Timeout Exception</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>ASP.NET Thread Pool 的機制如何影響 Redis</p>
<h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><p>線上維護的系統偶爾會發生 Redis Timeout Exception ,<br>並在 elmah 發現以下的錯誤記錄</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Timeout performing SETEX Cache:Prod:WebAPI:Key:<span class="number">20161121152607</span>, inst: <span class="number">18</span>, mgr: ExecuteSelect, err: never,</span><br><span class="line">queue: <span class="number">0</span>, qu: <span class="number">0</span>, qs: <span class="number">0</span>, qc: <span class="number">0</span>, wr: <span class="number">0</span>, wq: <span class="number">0</span>, <span class="keyword">in</span>: <span class="number">0</span>, ar: <span class="number">1</span>,</span><br><span class="line">IOCP: (Busy=<span class="number">0</span>,Free=<span class="number">1000</span>,Min=<span class="number">8</span>,Max=<span class="number">1000</span>), WORKER: (Busy=<span class="number">13</span>,Free=<span class="number">32754</span>,Min=<span class="number">8</span>,Max=<span class="number">32767</span>), clientName: TYO-MWEB</span><br></pre></td></tr></table></figure>

<h2 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h2><p>這時當 StackExchange.Redis 在進行同步作業的時候,<br>如果超過 <code>syncTimeout</code> 的設定值(預設是 1000ms),<br>Redis 會佔用.NET 的 worker Thread<br>而在 .NET 底層隱含著一個機制,<br>會導致錯誤。</p>
<h3 id="Thread-Pool-500ms-的機制"><a href="#Thread-Pool-500ms-的機制" class="headerlink" title="Thread Pool 500ms 的機制"></a>Thread Pool 500ms 的機制</h3><h4 id="一種簡化的說法「-ASP-NET-Thread-Pool-一秒能建立-2-個-Thread。」"><a href="#一種簡化的說法「-ASP-NET-Thread-Pool-一秒能建立-2-個-Thread。」" class="headerlink" title="一種簡化的說法「 ASP.NET Thread Pool 一秒能建立 2 個 Thread。」"></a>一種簡化的說法「 ASP.NET Thread Pool 一秒能建立 2 個 Thread。」</h4><p>設定值 <code>minworkerthread</code> 就像是遊樂場<em>已經開啟</em>的閘門,<br>每當有一個遊客(Task)進來時,立即提供給它使用。<br>但是當遊客(Task)變多的時候,就會開始排隊(Queue),<br>ASP.NET Thread Pool 隱含著一個機制,<br>當它的隊伍(Queue)長達 500 豪秒沒有移動的話,<br>就會開啟新的閘門(建立新的 Thread)。<br>而我的情境屬於<a href="#burst_of_traffic">Burst of traffic</a>,<br>突然大量 Task 湧入 Queue ,<br>ThreadPool 需要大量的 Thread<br>每個新的 Thread 都需要 500ms 的反應時間 ,<br>而累積的時間超過 Task 的 Timeout 設定值時 ,<br>就會拋出 Exception.</p>
<p><img src="/images/workerthread_and_iothread/110416_103521_AM.jpg" alt="ASP.NET Thread Pool"></p>
<p>ASP.NET Thread Pool 的排隊機制與<code>minworkerthread</code> 設定值相關。<br>可以透過調整 <code>machine.config</code> 來修正。<br>參考(<a target="_blank" rel="noopener" href="https://support.microsoft.com/zh-tw/kb/821268">爭用、 效能不佳、 和死結 （deadlock） 當您從 ASP.NET 應用程式呼叫 Web 服務</a>)。</p>
<p><code>minworkerthread</code> 的預設值是 1 。<br>但是會與執行環境的 CPU 個數有關,<br>假設你是四核的主機,那就要乘上 4。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">system.web</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">processModel</span> <span class="attr">autoConfig</span>=<span class="string">&quot;false&quot;</span> <span class="attr">minWorkerThreads</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">system.web</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h3><p>當 Redis 發生 Timeout 時,<br>可以透過錯誤訊息判斷其背後的原因是否與 workerthread 有關。<br>在以下的例子可以看到 IOCP 與 WORKER 兩個值。<br>這兩值表示 .Net ThreadPool 內的兩種執行緒,<br>如果 Busy 值很高, 就有可能是 ThreadPool 來不及建立造成的錯誤。</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.TimeoutException: Timeout performing MGET <span class="number">2728</span>cc84<span class="number">-58</span>ae<span class="number">-406b</span><span class="number">-8</span>ec8<span class="number">-3f</span>962419f641,</span><br><span class="line">inst: <span class="number">1</span>,mgr: Inactive, queue: <span class="number">73</span>, qu=<span class="number">6</span>, qs=<span class="number">67</span>, qc=<span class="number">0</span>, wr=<span class="number">1</span>/<span class="number">1</span>, <span class="keyword">in</span>=<span class="number">0</span>/<span class="number">0</span></span><br><span class="line">IOCP: (Busy=<span class="number">0</span>, Free=<span class="number">999</span>, Min=<span class="number">2</span>,Max=<span class="number">1000</span>), WORKER (Busy=<span class="number">7</span>,Free=<span class="number">8184</span>,Min=<span class="number">2</span>,Max=<span class="number">8191</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Error-Code-說明"><a href="#Error-Code-說明" class="headerlink" title="Error Code 說明"></a>Error Code 說明</h3><table>
<thead>
<tr>
<th>Error code</th>
<th>Details</th>
<th>範例</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>inst</td>
<td>in the last time slice: 0 commands have been issued</td>
<td>在最後時脈：已發出 0 個命令</td>
<td>最後的時脈發出的命令個數</td>
</tr>
<tr>
<td>mgr</td>
<td>the socket manager is performing “socket.select”, <br /> which means it is asking the OS to indicate a socket <br /> that has something to do; <br /> basically: the reader is not actively reading from <br /> the network because it doesn’t think there <br /> is anything to do</td>
<td></td>
<td>最後的操作命令</td>
</tr>
<tr>
<td>queue</td>
<td>there are 73 total in-progress operations</td>
<td>73 個正在排隊中的操作</td>
<td>正在排隊中的操作</td>
</tr>
<tr>
<td>qu</td>
<td>6 of those are in unsent queue: they have not yet been written to the outbound network</td>
<td>6 個未發送的 queue</td>
<td>未發送的 queue</td>
</tr>
<tr>
<td>qs</td>
<td>67 of those have been sent to the server but a response is not yet available. The response could be: Not yet sent by the server sent by the server but not yet processed by the client.</td>
<td>67 個已發送的 queue</td>
<td>已發送的 queue</td>
</tr>
<tr>
<td>qc</td>
<td>0 of those have seen replies but have not yet been marked as complete due to waiting on the completion loop</td>
<td>0 個已發送未標記完成的 queue</td>
<td>已發送未標記完成的 queue</td>
</tr>
<tr>
<td>wr</td>
<td>there is an active writer (meaning - those 6 unsent are not being ignored) bytes&#x2F;activewriters</td>
<td>有 1 個啟用的 writer,(意味著 qu 的工作並沒有被忽略) bytes&#x2F;activewriters</td>
<td>bytes&#x2F;activewriters</td>
</tr>
<tr>
<td>in</td>
<td>there are no active readers and zero bytes are available to be read on the NIC bytes&#x2F;activereaders</td>
<td>0 個 reader</td>
<td>bytes&#x2F;activereaders</td>
</tr>
</tbody></table>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://msdn.microsoft.com/en-us/library/orm-9780596527570-03-19.aspx">Threading</a></li>
<li><a target="_blank" rel="noopener" href="https://msdn.microsoft.com/en-us/library/ms998549.aspx">Improving ASP.NET Performance</a></li>
<li><a target="_blank" rel="noopener" href="https://msdn.microsoft.com/en-us/library/ms973903.aspx">Programming the Thread Pool in the .NET Framework</a></li>
<li><a target="_blank" rel="noopener" href="https://gist.github.com/JonCole/db0e90bedeb3fc4823c2">DiagnoseRedisErrors-ClientSide</a></li>
<li><a target="_blank" rel="noopener" href="https://gist.github.com/JonCole/e65411214030f0d823cb">ThreadPool</a></li>
</ul>
<hr>
<h2 id="其它的-Redis-Error-情境"><a href="#其它的-Redis-Error-情境" class="headerlink" title="其它的 Redis Error 情境"></a>其它的 Redis Error 情境</h2><p>只作摘要式的翻譯。</p>
<h3 id="Memory-pressure-記憶體壓力"><a href="#Memory-pressure-記憶體壓力" class="headerlink" title="Memory pressure (記憶體壓力)"></a>Memory pressure (記憶體壓力)</h3><p><code>Problem:</code><br>記憶體不足而開始讀取虛擬記憶體(磁碟)而導致特能低落。<br>Memory pressure on the client machine leads to all kinds of performance problems that can<br>delay processing of data that was sent by the Redis instance without any delay.<br>When memory pressure hits, the system typically has to page data from physical memory to<br>virtual memory which is on disk. This page faulting causes the system to slow down significantly.</p>
<p><code>Measurement:</code><br>Monitory memory usage on machine to make sure that it does not exceed available memory.<br>Monitor the Page Faults&#x2F;Sec perf counter. Most systems will have some page faults even during<br>normal operation, so watch for spikes in this page faults perf counter which correspond with timeouts.</p>
<p><code>Resolution:</code></p>
<p>增加記憶體或是減少記憶體使用量<br>Upgrade to a larger client VM size with more memory or dig into your memory usage patterns<br>to reduce memory consuption.</p>
<h3 id="Burst-of-traffic"><a href="#Burst-of-traffic" class="headerlink" title="Burst of traffic"></a>Burst of traffic</h3><p><code>Problem:</code></p>
<p>ThreadPool 突然大量的工作湧入 queue 導致執行緒來不及建立。<br>Bursts of traffic combined with poor ThreadPool settings can result in delays in processing<br> data already sent by the Redis Server but not yet consumed on the client side.</p>
<p><code>測量:</code></p>
<p>可以用<a target="_blank" rel="noopener" href="https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs">程式</a>監控 ThreadPool .<br>或是單純透過 TimeoutException 的訊息,觀察 IOCP 與 WORKER 的 Busy 值來判斷.</p>
<p><code>Measurement:</code></p>
<p>Monitor how your ThreadPool statistics change over time using code like <a target="_blank" rel="noopener" href="https://github.com/JonCole/SampleCode/blob/master/ThreadPoolMonitor/ThreadPoolLogger.cs">this</a>.<br>You can also look at the TimeoutException message from StackExchange.Redis.<br>Here is an example :</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">System.TimeoutException: Timeout performing EVAL, inst: <span class="number">8</span>, mgr: Inactive, queue: <span class="number">0</span>, qu: <span class="number">0</span>, qs: <span class="number">0</span>, qc: <span class="number">0</span>, wr: <span class="number">0</span>, wq: <span class="number">0</span>, <span class="keyword">in</span>: <span class="number">64221</span>, ar: <span class="number">0</span>,</span><br><span class="line">IOCP: (Busy=<span class="number">6</span>,Free=<span class="number">999</span>,Min=<span class="number">2</span>,Max=<span class="number">1000</span>), WORKER: (Busy=<span class="number">7</span>,Free=<span class="number">8184</span>,Min=<span class="number">2</span>,Max=<span class="number">8191</span>)</span><br></pre></td></tr></table></figure>

<p>In the above message, there are several issues that are interesting:<br>Notice that in the “IOCP” section and the “WORKER” section you have a “Busy” value that is<br>greater than the “Min” value. This means that your threadpool settings need adjusting.<br>You can also see “in: 64221”. This indicates that 64211 bytes have been received at the kernel<br>socket layer but haven’t yet been read by the application (e.g. StackExchange.Redis).<br>This typically means that your application isn’t reading data from the network as quickly as<br>the server is sending it to you.</p>
<p><code>Resolution:</code></p>
<p>調整 ThreadPool 設定<br>Configure your ThreadPool Settings to make sure that your threadpool will scale up quickly under burst scenarios.</p>
<hr>
<h3 id="High-CPU-usage-CPU-過載"><a href="#High-CPU-usage-CPU-過載" class="headerlink" title="High CPU usage (CPU 過載)"></a>High CPU usage (CPU 過載)</h3><p><code>Problem:</code></p>
<p>High CPU usage on the client is an indication that the system cannot keep up with the work that it has been asked to perform. High CPU is a problem because the CPU is busy and it can’t keep up with the work the application is asking it to do. The response from Redis can come very quickly, but because the CPU isn’t keeping up with the workload, the response sits in the socket’s kernel buffer waiting to be processed. If the delay is long enough, a timeout occurs in spite of the requested data having already arrived from the server.</p>
<p><code>Measurement:</code></p>
<p>Monitor the System Wide CPU usage through the azure portal or through the associated perf counter.<br>Be careful not to monitor process CPU because a single process can have low CPU usage at the same time that overall system CPU can be high.<br>Watch for spikes in CPU usage that correspond with timeouts. As a result of high CPU,<br>you may also see high “in: XXX” values in TimeoutException error messages as described above in the “Burst of traffic” section.<br>Note that in newer builds of StackExchange.Redis, the client-side CPU will be printed out in the timeout error message as long as the environment doesn’t block access to the CPU perf counter.</p>
<p><code>Note:</code></p>
<p>StackExchange.Redis version 1.1.603 or later now prints out “local-cpu” usage when a timeout occurs to help understand when client-side CPU usage may be affecting performance.</p>
<p><code>Resolution:</code></p>
<p>增加 CPU 或是找出 CPU 產生過載的原因<br>Upgrade to a larger VM size with more CPU capacity or investigate what is causing CPU spikes.</p>
<hr>
<h3 id="Client-Side-Bandwidth-Exceeded-頻寬不足"><a href="#Client-Side-Bandwidth-Exceeded-頻寬不足" class="headerlink" title="Client Side Bandwidth Exceeded (頻寬不足)"></a>Client Side Bandwidth Exceeded (頻寬不足)</h3><p><code>Problem:</code></p>
<p>Different sized client machines have limitations on how much network bandwidth they have available.<br>If the client exceeds the available bandwidth, then data will not be processed on the client side as quickly as the server is sending it. This can lead to timeouts.</p>
<p><code>Measurement:</code></p>
<p>Monitor how your Bandwidth usage change over time using code like this. Note that this code may not run successfully in some environments with restricted permissions (like Azure WebSites).</p>
<p><code>Resolution:</code></p>
<p>加大頻寬或減少使用量<br>Increase Client VM size or reduce network bandwidth consumption.</p>
<h3 id="Large-Request-Response-Size-過大的請求-回應量"><a href="#Large-Request-Response-Size-過大的請求-回應量" class="headerlink" title="Large Request&#x2F;Response Size (過大的請求&#x2F;回應量)"></a>Large Request&#x2F;Response Size (過大的請求&#x2F;回應量)</h3><p><code>Problem:</code></p>
<p>如圖所示,A 與 B 兩個 Request 都太過龐大,當同時發動請求時,<br>A 回應的時間過長, 導致 B 的 Timeout<br>A large request&#x2F;response can cause timeouts. As an example, suppose your timeout value configured is 1 second.<br>Your application requests two keys (e.g. ‘A’ and ‘B’) at the same time using the same physical network connection.<br>Most clients support “Pipelining” of requests, such that both requests ‘A’ and ‘B’ are sent on the wire to the server one after the other without waiting for the responses.<br>The server will send the responses back in the same order. If response ‘A’ is large enough it can eat up most of the timeout for subsequent requests.</p>
<p>Below, I will try to demonstrate this. In this scenario, Request ‘A’ and ‘B’ are sent quickly,<br>the server starts sending responses ‘A’ and ‘B’ quickly, but because of data transfer times,<br>‘B’ get stuck behind the other request and times out even though the server responded quickly.</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|-------- 1 Second Timeout (A)----------|</span><br><span class="line">|-Request A-|</span><br><span class="line">     |-------- 1 Second Timeout (B) ----------|</span><br><span class="line">     |-Request B-|</span><br><span class="line">            |- Read Response A --------|</span><br><span class="line">                                       |- Read Response B-| (**TIMEOUT**)</span><br></pre></td></tr></table></figure>

<p><code>Measurement:</code></p>
<p>This is a difficult one to measure. You basically have to instrument your client code to track large requests and responses.</p>
<p><code>Resolution:</code></p>
<p>將所需要的資料分割成數個小片段 再分別取回<br>Redis is optimized for a large number of small values， rather than a few large values.<br>The preferred solution is to break up your data into related smaller values. See here for details around why smaller values are recommended.<br>Increase the size of your VM (for client and Redis Cache Server)， to get higher bandwidth capabilities，<br>reducing data transfer times for larger responses.<br>Note that getting more bandwidth on just the server or just on the client may not be enough.<br>Measure your bandwidth usage and compare it to the capabilities of the size of VM you currently have.<br>Increase the number of ConnectionMultiplexer objects you use and round-robin requests over different connections (e.g. use a connection pool).<br>If you go this route，make sure that you don’t create a brand new ConnectionMultiplexer for each request as the overhead of creating the new connection will kill your performance.</p>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2016/11/21/2016/aspdotnet_threadpool_and_redis/" data-id="cm32hdh9u000m2sof0l8n7z4p" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2016/11/21/2016/aspdotnet_threadpool_and_redis/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Net-Framework/" rel="tag">.Net Framework</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IO/" rel="tag">IO</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Redis/" rel="tag">Redis</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Thread/" rel="tag">Thread</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2016/about_content_type" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/28/2016/about_content_type/" class="article-date">
  <time datetime="2016-10-28T04:54:55.000Z" itemprop="datePublished">2016-10-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/28/2016/about_content_type/">有關 HTTP Header Content-Type</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>當我們對 Server 發出 request 的時候<br>需要註明你 request 的 Content-Type<br>以下簡單介紹一下這些格式</p>
<h3 id="測試工具"><a href="#測試工具" class="headerlink" title="測試工具"></a>測試工具</h3><p><a target="_blank" rel="noopener" href="https://www.getpostman.com/">PostMan</a>這套工具<br>可以模擬不同的格式資料發動 request 到你的 Server</p>
<hr>
<h2 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content-Type"></a>Content-Type</h2><h3 id="application-x-www-form-urlencoded"><a href="#application-x-www-form-urlencoded" class="headerlink" title="application/x-www-form-urlencoded"></a><code>application/x-www-form-urlencoded</code></h3><p>常用的 Content-Type，簡單說就是 KEY-VALUE 的方式<br>如下， KEY firstname 的值是 marsen<br>lastname 是由使用者輸入</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  First name:<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;firstname&quot;</span> <span class="attr">value</span>=<span class="string">&quot;marsen&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  Last name:<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;lastname&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>同時資料會作一次 url encoded，<br>產生類似下列的資料<br>firstname&#x3D;marsen&amp;lastname&#x3D;lin&amp;key%5b1%5d&#x3D;value%5b1%5d</p>
<hr>
<h3 id="multipart-form-data"><a href="#multipart-form-data" class="headerlink" title="multipart/form-data"></a><code>multipart/form-data</code></h3><p>PostMan 中的選項 <code>binary</code> 其實就是包成這種格式<br>上傳檔案會使用這種 Content-Type，<br>這通常表示你的 html element 包含有 <code>&lt;input type=&quot;file&quot;&gt;</code></p>
<hr>
<h3 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h3><p>PostMan 中的選項 <code>raw</code>，可以用字串組合成任意 Content-Type，<br>參考<a target="_blank" rel="noopener" href="http://www.freeformatter.com/mime-types-list.html">Content-Type Table</a></p>
<ul>
<li><code>application/json</code><br>目前主流的 API 會用輕巧的 JSON 作為傳遞資訊的媒介</li>
<li><code>text/xml</code>、<code>application/xml</code><br>早期標準的 Web 服務通常會透過 xml 作為交換資訊的媒介</li>
<li><code>text/plain</code><br>有些 email 或 debug 的情況會使用 text&#x2F;plain 作為 Content-Type,但是一般的 Request 情況不建議使用</li>
<li>更多請參考<a target="_blank" rel="noopener" href="https://www.w3.org/TR/html5/forms.html#text/plain-encoding-algorithm">Spec</a></li>
</ul>
<hr>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://imququ.com/post/four-ways-to-post-data-in-http.html">https://imququ.com/post/four-ways-to-post-data-in-http.html</a></li>
<li><a target="_blank" rel="noopener" href="https://codeforgeek.com/2014/09/handle-get-post-request-express-4/">https://codeforgeek.com/2014/09/handle-get-post-request-express-4/</a></li>
<li><a target="_blank" rel="noopener" href="https://scotch.io/tutorials/use-expressjs-to-get-url-and-post-parameters">https://scotch.io/tutorials/use-expressjs-to-get-url-and-post-parameters</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/4832357/whats-the-difference-between-text-xml-vs-application-xml-for-webservice-respons?ref=mythemeco&amp;t=pack">https://stackoverflow.com/questions/4832357/whats-the-difference-between-text-xml-vs-application-xml-for-webservice-respons?ref=mythemeco&amp;t=pack</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean">https://stackoverflow.com/questions/4526273/what-does-enctype-multipart-form-data-mean</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2016/10/28/2016/about_content_type/" data-id="cm32hdh9s000j2sof7uj4ctdz" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2016/10/28/2016/about_content_type/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html/" rel="tag">html</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/post/" rel="tag">post</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2016/1st_time_with_powershell" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/21/2016/1st_time_with_powershell/" class="article-date">
  <time datetime="2016-10-21T05:27:53.000Z" itemprop="datePublished">2016-10-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/21/2016/1st_time_with_powershell/"> [記錄]PowerShell 初體驗</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><ol>
<li>將指定的 Log 記錄，匯入資料庫，產生 row data</li>
<li>將 row data 轉換成為需要的報表資料</li>
<li>產生報表</li>
</ol>
<h2 id="規劃"><a href="#規劃" class="headerlink" title="規劃"></a>規劃</h2><ol>
<li>powershell 讀取檔案</li>
<li>powershell 連接資料庫</li>
<li>powershell 執行 SQL</li>
<li>powershell 作 BulkInsert</li>
<li>powershell 寫入檔案</li>
</ol>
<p><img src="/images/2016/102216_095355_PM.jpg" alt="PowerShell"></p>
<h3 id="簡記要點"><a href="#簡記要點" class="headerlink" title="簡記要點"></a>簡記要點</h3><ul>
<li><strong><em>powershell 可以直接取用 .Net Framework 或 COM 元件</em></strong></li>
<li><strong><em>宣告變用要用<code>$</code>字號</em></strong></li>
<li><strong><em><code>#</code> 是註解</em></strong></li>
</ul>
<h3 id="讀取檔案"><a href="#讀取檔案" class="headerlink" title="讀取檔案"></a>讀取檔案</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#用New-Object 建立.Net StreamReader 物件</span></span><br><span class="line"><span class="variable">$reader</span> = <span class="built_in">New-Object</span> System.io.streamReader(<span class="built_in">get-item</span> <span class="variable">$filePath</span>)</span><br><span class="line"><span class="comment">#使用`[]`建立靜態類別讀取檔案</span></span><br><span class="line"><span class="variable">$file</span> = [<span class="type">System.IO.File</span>]::ReadAllLines(<span class="variable">$filePath</span>)</span><br><span class="line"><span class="comment">#直接使用Get-Content讀取文檔</span></span><br><span class="line"><span class="variable">$file</span> = <span class="built_in">Get-Content</span>  <span class="string">&quot;C:\filepath\file&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="連線資料庫與執行語法"><a href="#連線資料庫與執行語法" class="headerlink" title="連線資料庫與執行語法"></a>連線資料庫與執行語法</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$connection</span> = <span class="built_in">New-Object</span> System.Data.SQLClient.SQLConnection</span><br><span class="line"><span class="variable">$connection</span>.ConnectionString = <span class="string">&quot;server=&#x27;<span class="variable">$server</span>&#x27;;database=&#x27;<span class="variable">$database</span>&#x27;;uid=&#x27;<span class="variable">$user</span>&#x27;; pwd=&#x27;<span class="variable">$pwd</span>&#x27;;Integrated Security=False;&quot;</span></span><br><span class="line"><span class="variable">$connection</span>.Open()</span><br><span class="line"><span class="comment"># do something</span></span><br><span class="line"><span class="variable">$connection</span>.Close()</span><br></pre></td></tr></table></figure>

<h3 id="BulkInsert"><a href="#BulkInsert" class="headerlink" title="BulkInsert"></a>BulkInsert</h3><ul>
<li>從檔案建立 DataTable</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$table</span> = <span class="built_in">New-Object</span> System.Data.DataTable</span><br><span class="line"><span class="comment">#建立欄位</span></span><br><span class="line"><span class="variable">$col_title</span> = <span class="built_in">New-Object</span> system.Data.DataColumn <span class="string">&quot;Title&quot;</span>,([<span class="built_in">string</span>])</span><br><span class="line"><span class="variable">$table</span>.Columns.Add(<span class="variable">$col_title</span>);</span><br><span class="line"><span class="variable">$col_content</span> = <span class="built_in">New-Object</span> system.Data.DataColumn <span class="string">&quot;Content&quot;</span>,([<span class="built_in">string</span>])</span><br><span class="line"><span class="variable">$table</span>.Columns.Add(<span class="variable">$col_content</span>);</span><br><span class="line"><span class="variable">$col_author</span> = <span class="built_in">New-Object</span> system.Data.DataColumn <span class="string">&quot;Author&quot;</span>,([<span class="built_in">string</span>])</span><br><span class="line"><span class="variable">$table</span>.Columns.Add(<span class="variable">$col_author</span>);</span><br><span class="line"><span class="comment">#建立資料</span></span><br><span class="line"><span class="keyword">foreach</span>(<span class="variable">$file</span> <span class="keyword">in</span> <span class="variable">$files</span>)&#123;</span><br><span class="line">  <span class="variable">$dr</span> = <span class="variable">$table</span>.NewRow();</span><br><span class="line">  <span class="variable">$dr</span>[<span class="string">&quot;Title&quot;</span>] = <span class="variable">$file</span>[<span class="string">&quot;title&quot;</span>]</span><br><span class="line">  <span class="variable">$dr</span>[<span class="string">&quot;Content&quot;</span>] = <span class="variable">$file</span>[<span class="string">&quot;content&quot;</span>]</span><br><span class="line">  <span class="variable">$dr</span>[<span class="string">&quot;Author&quot;</span>] = <span class="variable">$file</span>[<span class="string">&quot;author&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#寫入資料表</span></span><br><span class="line"><span class="variable">$table</span>.Rows.Add(<span class="variable">$dr</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>透過 BulkCopy 將 DataTable 寫入資料庫</li>
</ul>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$connection</span>.Open()</span><br><span class="line"><span class="variable">$bulkCopy</span> = <span class="built_in">New-Object</span> (“Data.SqlClient.SqlBulkCopy”) <span class="literal">-ArgumentList</span> <span class="variable">$connection</span></span><br><span class="line"><span class="variable">$bulkCopy</span>.DestinationTableName = <span class="string">&quot;tablename&quot;</span></span><br><span class="line"><span class="variable">$bulkCopy</span>.WriteToServer(<span class="variable">$datatable</span>)</span><br><span class="line"><span class="variable">$connection</span>.Close()</span><br></pre></td></tr></table></figure>

<h3 id="進度條"><a href="#進度條" class="headerlink" title="進度條"></a>進度條</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Write-Progress</span> <span class="literal">-Activity</span> <span class="string">&quot;BulkInsert&quot;</span> <span class="literal">-Status</span> <span class="string">&quot;載入百分比: 100 %&quot;</span> <span class="literal">-PercentComplete</span> <span class="number">100</span>;</span><br></pre></td></tr></table></figure>

<h3 id="產生報表"><a href="#產生報表" class="headerlink" title="產生報表"></a>產生報表</h3><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$datatable</span> | <span class="built_in">export-csv</span> C:\Reports\<span class="number">20161026</span>.csv <span class="literal">-Encoding</span> UTF8</span><br></pre></td></tr></table></figure>

<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ol>
<li><a target="_blank" rel="noopener" href="https://msdn.microsoft.com/en-us/powershell">https://msdn.microsoft.com/en-us/powershell</a></li>
<li><a target="_blank" rel="noopener" href="https://msdn.microsoft.com/en-us/powershell/scripting/getting-started/cookbooks/using-static-classes-and-methods">https://msdn.microsoft.com/en-us/powershell/scripting/getting-started/cookbooks/using-static-classes-and-methods</a></li>
<li><a target="_blank" rel="noopener" href="https://cmatskas.com/execute-sql-query-with-powershell/">https://cmatskas.com/execute-sql-query-with-powershell/</a></li>
<li><a target="_blank" rel="noopener" href="https://blogs.technet.microsoft.com/heyscriptingguy/">https://blogs.technet.microsoft.com/heyscriptingguy/</a></li>
</ol>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2016/10/21/2016/1st_time_with_powershell/" data-id="cm32hdh9r000i2sofafse8599" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2016/10/21/2016/1st_time_with_powershell/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Database/" rel="tag">Database</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MsSQL/" rel="tag">MsSQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PowerShell/" rel="tag">PowerShell</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2016/todolist_by_typescript_2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/14/2016/todolist_by_typescript_2/" class="article-date">
  <time datetime="2016-10-14T02:34:27.000Z" itemprop="datePublished">2016-10-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/14/2016/todolist_by_typescript_2/"> [KATA] 用 TypeScript 作一個簡易的 TodoList (二) - 用JQuery實作</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="設計理念"><a href="#設計理念" class="headerlink" title="設計理念"></a>設計理念</h2><ol>
<li>顯示&#x2F;新增&#x2F;刪除 TodoList</li>
<li>TodoList 會是一堆 todoItem 的集合,所以要定義 todoItem 的形別<ul>
<li>Content : todoItem 的內容</li>
<li>Status : todoItem 的狀態,完成(done)、未完成(undo) ,設計成列舉</li>
</ul>
</li>
<li>主要的功能<ul>
<li>建立 todoItem</li>
<li>完成 todoItem</li>
<li>繪製 todoList 到前端的畫面上</li>
</ul>
</li>
</ol>
<h2 id="自我分析"><a href="#自我分析" class="headerlink" title="自我分析"></a>自我分析</h2><p>跟 UI 耦合太高,Render 應該與 TodoService 分離 ,<br>DOM 註冊事件相依在 Service 裡面要抽離也不好抽 。<br>沒有先寫測試 , 要想一想怎麼與 UI 層作隔離。</p>
<h2 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h2><h3 id="建立-BaseService"><a href="#建立-BaseService" class="headerlink" title="建立 BaseService"></a>建立 BaseService</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">BaseService</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="keyword">type</span>: <span class="built_in">string</span></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">List</span>: <span class="title class_">Array</span>&lt;T&gt;;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Create</span>(<span class="attr">data</span>: T) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">List</span>.<span class="title function_">push</span>(data);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Delete</span>(<span class="attr">data</span>: T) &#123;</span><br><span class="line">    <span class="keyword">var</span> index = <span class="variable language_">this</span>.<span class="property">List</span>.<span class="title function_">indexOf</span>(data);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">List</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Render</span>() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="建立-todoItem-interface"><a href="#建立-todoItem-interface" class="headerlink" title="建立 todoItem interface"></a>建立 todoItem interface</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> todoItem &#123;</span><br><span class="line">  <span class="title class_">Content</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title class_">Status</span>: todoStatus;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="建立-todoItem-Status-列舉"><a href="#建立-todoItem-Status-列舉" class="headerlink" title="建立 todoItem Status 列舉"></a>建立 todoItem Status 列舉</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> todoStatus &#123;</span><br><span class="line">  undo,</span><br><span class="line">  done,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="建立-TodoService"><a href="#建立-TodoService" class="headerlink" title="建立 TodoService"></a>建立 TodoService</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TodoService</span> <span class="keyword">extends</span> <span class="title class_ inherited__">BaseService</span>&lt;todoItem&gt; &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(<span class="string">&quot;todoItem&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="title class_">Render</span>(): <span class="built_in">void</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> doneHtml = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> undoHtml = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">List</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (item.<span class="property">Status</span> == todoStatus.<span class="property">done</span>) &#123;</span><br><span class="line">        doneHtml += <span class="string">`&lt;li&gt;<span class="subst">$&#123;item.Content&#125;</span>&lt;button class=&quot;recover-item btn btn-default btn-xs pull-right&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-share-alt&quot;&gt;&lt;/span&gt;&lt;/button&gt;&lt;button class=&quot;remove-item btn btn-default btn-xs pull-right&quot;&gt;&lt;span class=&quot;glyphicon glyphicon-remove&quot;&gt;&lt;/span&gt;&lt;/button&gt;&lt;/li&gt;`</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item.<span class="property">Status</span> == todoStatus.<span class="property">undo</span>) &#123;</span><br><span class="line">        undoHtml += <span class="string">`&lt;li class=&quot;ui-state-default&quot;&gt;&lt;div class=&quot;checkbox&quot;&gt;&lt;label&gt;&lt;input type=&quot;checkbox&quot; value=&quot;&quot; /&gt;<span class="subst">$&#123;item.Content&#125;</span>&lt;/label&gt;&lt;/div&gt;&lt;/li&gt;`</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">&quot;#done-items&quot;</span>).<span class="title function_">html</span>(doneHtml);</span><br><span class="line">    $(<span class="string">&quot;#sortable&quot;</span>).<span class="title function_">html</span>(undoHtml);</span><br><span class="line">    $(<span class="string">&quot;.add-todo&quot;</span>).<span class="title function_">val</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Delete</span>(<span class="attr">data</span>: todoItem) &#123;</span><br><span class="line">    data.<span class="property">Status</span> = todoStatus.<span class="property">done</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Init</span>() &#123;</span><br><span class="line">    <span class="comment">//// todoList in localStorage</span></span><br><span class="line">    <span class="keyword">var</span> list = <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;todoList&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!list) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">List</span> = <span class="keyword">new</span> <span class="title class_">Array</span>&lt;todoItem&gt;();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">List</span> = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(list);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">onbeforeunload</span> = <span class="function">(<span class="params">evt</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;todoList&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="variable language_">this</span>.<span class="property">List</span>));</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// mark task as done</span></span><br><span class="line">    $(<span class="string">&quot;.todolist&quot;</span>).<span class="title function_">on</span>(</span><br><span class="line">      <span class="string">&quot;change&quot;</span>,</span><br><span class="line">      <span class="string">&#x27;#sortable li input[type=&quot;checkbox&quot;]&#x27;</span>,</span><br><span class="line">      <span class="function">(<span class="params">evt</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> self = evt.<span class="property">target</span>;</span><br><span class="line">        <span class="keyword">var</span> text = $(self).<span class="title function_">parent</span>().<span class="title function_">text</span>();</span><br><span class="line">        <span class="keyword">if</span> ($(self).<span class="title function_">prop</span>(<span class="string">&quot;checked&quot;</span>)) &#123;</span><br><span class="line">          <span class="keyword">var</span> doneItem = <span class="variable language_">this</span>.<span class="property">List</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">i</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> text == i.<span class="property">Content</span>;</span><br><span class="line">          &#125;)[<span class="number">0</span>];</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title class_">Delete</span>(doneItem);</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title class_">Render</span>();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;.add-todo&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;keypress&quot;</span>, <span class="function">(<span class="params">evt</span>) =&gt;</span> &#123;</span><br><span class="line">      evt.<span class="property">preventDefault</span>;</span><br><span class="line">      <span class="keyword">if</span> (evt.<span class="property">which</span> == <span class="number">13</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ($(evt.<span class="property">target</span>).<span class="title function_">val</span>() != <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">          <span class="keyword">var</span> todo = $(evt.<span class="property">target</span>).<span class="title function_">val</span>();</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title class_">Create</span>(&#123;</span><br><span class="line">            <span class="title class_">Content</span>: $(evt.<span class="property">target</span>).<span class="title function_">val</span>(),</span><br><span class="line">            <span class="title class_">Status</span>: todoStatus.<span class="property">undo</span>,</span><br><span class="line">          &#125;);</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title class_">Render</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">// some validation</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;.todolist&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&quot;#done-items li button.recover-item&quot;</span>, <span class="function">(<span class="params">evt</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> text = $(evt.<span class="property">target</span>).<span class="title function_">parent</span>().<span class="title function_">parent</span>().<span class="title function_">text</span>();</span><br><span class="line">      <span class="keyword">var</span> recoverItem = <span class="variable language_">this</span>.<span class="property">List</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">i</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> text == i.<span class="property">Content</span>;</span><br><span class="line">      &#125;)[<span class="number">0</span>];</span><br><span class="line">      recoverItem.<span class="property">Status</span> = todoStatus.<span class="property">undo</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title class_">Render</span>();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;.todolist&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&quot;#done-items li button.remove-item&quot;</span>, <span class="function">(<span class="params">evt</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> text = $(evt.<span class="property">target</span>).<span class="title function_">parent</span>().<span class="title function_">parent</span>().<span class="title function_">text</span>();</span><br><span class="line">      <span class="keyword">var</span> removeItem = <span class="variable language_">this</span>.<span class="property">List</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">i</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> text == i.<span class="property">Content</span>;</span><br><span class="line">      &#125;)[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">var</span> index = <span class="variable language_">this</span>.<span class="property">List</span>.<span class="title function_">indexOf</span>(removeItem);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">List</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title class_">Render</span>();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;#checkAll&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="function">(<span class="params">evt</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">List</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">        item.<span class="property">Status</span> = todoStatus.<span class="property">done</span>;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title class_">Render</span>();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//// Render</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title class_">Render</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用建立好的-TodoService"><a href="#使用建立好的-TodoService" class="headerlink" title="使用建立好的 TodoService"></a>使用建立好的 TodoService</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> todoService = <span class="keyword">new</span> <span class="title class_">TodoService</span>();</span><br><span class="line">todoService.<span class="title class_">Init</span>();</span><br></pre></td></tr></table></figure>

<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2016/10/14/2016/todolist_by_typescript_2/" data-id="cm32hdha000182sof5xjsa3do" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2016/10/14/2016/todolist_by_typescript_2/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2016/todolist_by_typescript_1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/10/08/2016/todolist_by_typescript_1/" class="article-date">
  <time datetime="2016-10-08T02:34:27.000Z" itemprop="datePublished">2016-10-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/08/2016/todolist_by_typescript_1/"> [KATA] 用 TypeScript 作一個簡易的 TodoList (一) - 前置作業</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="目標"><a href="#目標" class="headerlink" title="目標"></a>目標</h2><ol>
<li>使用 typescript 開發</li>
<li>顯示&#x2F;新增&#x2F;刪除 TodoList</li>
</ol>
<h2 id="功能分析"><a href="#功能分析" class="headerlink" title="功能分析"></a>功能分析</h2><ol>
<li>只是練習,故不開發 server side 的程式</li>
<li>暫時存在 cookie 上</li>
<li>用 bootstrap 作簡單的樣式</li>
</ol>
<h2 id="實作記錄"><a href="#實作記錄" class="headerlink" title="實作記錄"></a>實作記錄</h2><h3 id="UI-使用-Bootstrap-沒有必要重新打造輪子-能用的就拿來用"><a href="#UI-使用-Bootstrap-沒有必要重新打造輪子-能用的就拿來用" class="headerlink" title="UI : 使用 Bootstrap 沒有必要重新打造輪子,能用的就拿來用"></a>UI : 使用 Bootstrap <em>沒有必要重新打造輪子,能用的就拿來用</em></h3><ul>
<li>找到一個 TodoList 的<a target="_blank" rel="noopener" href="http://bootsnipp.com/index.php/snippets/featured/todo-example">樣版</a>,內含 HTML 、 CSS 與 JS ,功能完整.</li>
<li>取用<a target="_blank" rel="noopener" href="http://bootsnipp.com/index.php/snippets/featured/todo-example">樣版</a>的 HTML.</li>
<li>引用 bootstrap 3.3.5 CDN 上的 css .</li>
<li>建立一個 todo.css 直接引用<a target="_blank" rel="noopener" href="http://bootsnipp.com/index.php/snippets/featured/todo-example">樣版</a>的 css 並加入頁面參考.</li>
</ul>
<h3 id="開發環境"><a href="#開發環境" class="headerlink" title="開發環境"></a>開發環境</h3><ol>
<li>安裝 typescript<br><code>npm install typescript --save</code></li>
<li>安裝 gulp<br><code>npm install gulp</code><br><code>npm install --global gulp</code></li>
<li>安裝 gulp-typescript<br><code>npm install gulp-typescript</code></li>
<li>建立 gulpfile.js</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">&quot;gulp&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> tsc = <span class="built_in">require</span>(<span class="string">&quot;gulp-typescript&quot;</span>);</span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&quot;default&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> gulp</span><br><span class="line">    .<span class="title function_">src</span>(<span class="string">&quot;public/javascripts/**/*.ts&quot;</span>)</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">tsc</span>())</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&quot;public/javascripts/&quot;</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Typescript"><a href="#Typescript" class="headerlink" title="Typescript"></a>Typescript</h3><ol>
<li><p>關於 typescript 的定義檔, 以前有 tsd 與 typings 兩種管理工具,現在可以更簡便的合併到 npm 作管理 .</p>
</li>
<li><p>透過 <a target="_blank" rel="noopener" href="http://microsoft.github.io/TypeSearch/">TypeSearch</a> 可以找到 <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/@types/bootstrap">bootstrap</a> 的 typescript 定義檔.</p>
</li>
<li><p>執行 <code>npm install --save @types/bootstrap</code> 安裝 bootstrap (目前的版本是 Bootstrap 3.3.5) , 因為相依於 jquery 所以也會一併安裝</p>
</li>
<li><p>安裝 jquery-ui 的定義檔<br><code>npm install --save @types/jqueryui</code></p>
</li>
<li><p>新增檔案 <code>todo.ts</code> ,將 <a target="_blank" rel="noopener" href="http://bootsnipp.com/index.php/snippets/featured/todo-example">樣版</a> 的 javascript 複製貼上 .<br><em>*註:因為 typescript 是 javascript 的 superset , 完全可以相容原生 javascript, 如果有任何錯誤, TypeScript 將會提示你</em></p>
</li>
<li><p>todo.ts 引用 jquery 、jquery-ui 與 bootstrap 的 typescript 定義檔.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/// <span class="tag">&lt;<span class="name">reference</span> <span class="attr">path</span>=<span class="string">&quot;../../../node_modules/@types/jquery/index.d.ts&quot;</span> /&gt;</span> ///</span><br><span class="line"><span class="tag">&lt;<span class="name">reference</span> <span class="attr">path</span>=<span class="string">&quot;../../../node_modules/@types/bootstrap/index.d.ts&quot;</span> /&gt;</span> ///</span><br><span class="line"><span class="tag">&lt;<span class="name">reference</span> <span class="attr">path</span>=<span class="string">&quot;../../../node_modules/@types/jqueryui/index.d.ts&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>頁面載入對應的 js 檔,記得放置順序 jquery 要在最前面,並將放在<code>&lt;\body&gt;</code>之後</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span></span></span><br><span class="line"><span class="tag">  <span class="attr">src</span>=<span class="string">&quot;http://code.jquery.com/jquery-2.2.4.min.js&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">integrity</span>=<span class="string">&quot;sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span></span></span><br><span class="line"><span class="tag">  <span class="attr">src</span>=<span class="string">&quot;http://code.jquery.com/ui/1.12.1/jquery-ui.min.js&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">integrity</span>=<span class="string">&quot;sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>執行 <code>gulp</code> ,會產生 todo.js</p>
</li>
<li><p>頁面載入 js 檔,記得要放在相依的 js( jquery 、 bootstrap 、 jqueryui)之後.</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/javascripts/kata/todo.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>截至目前為止,僅僅是在作複製樣版,同時一併處理一些基本 gulp 與 typescript 相關的配置<br>接下來才要開始寫 typescript</p>
<p>(待續)</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ol>
<li><a target="_blank" rel="noopener" href="http://blog.miniasp.com/post/2016/08/22/TypeScript-Future-Declaration-Files.aspx">關於 TypeScript 2.0 之後的模組定義檔 ( Declaration Files ) ( *.d.ts )</a></li>
<li><a target="_blank" rel="noopener" href="http://bootsnipp.com/">bootsnipp</a></li>
<li><a target="_blank" rel="noopener" href="http://com-brianflove.appspot.com/2016/03/29/typescript-express-node-js/">TYPESCRIPT + EXPRESS + NODE.JS</a></li>
</ol>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2016/10/08/2016/todolist_by_typescript_1/" data-id="cm32hdha000162soff7b60js1" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2016/10/08/2016/todolist_by_typescript_1/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2016/http2_by_cloudflare" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/03/2016/http2_by_cloudflare/" class="article-date">
  <time datetime="2016-09-03T17:12:15.000Z" itemprop="datePublished">2016-09-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/09/03/2016/http2_by_cloudflare/"> [實作筆記] 怎麼建立一個網站？(三) - 簡單讓網站升級使用HTTP/2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="應該知道的事"><a href="#應該知道的事" class="headerlink" title="應該知道的事"></a>應該知道的事</h2><ul>
<li>HTTP&#x2F;1.1 是目前被應用得最廣泛的通訊協定，也可以說是最成功的一個<ul>
<li>HTTP&#x2F;1.1 基於 TCP，需要三方交握。</li>
<li>HTTP&#x2F;1.1 本身存在得需多問題，安全性、效率等…。</li>
</ul>
</li>
<li>HTTP&#x2F;2 可以有效改善 HTTP&#x2F;1.1 的缺點，而且可以向下相容<ul>
<li>主流的瀏覽器都開始支援了。</li>
<li>只要設定好 Web Server，Client 端看使用的<a target="_blank" rel="noopener" href="http://caniuse.com/#feat=http2">瀏覽器支不支援</a>。</li>
</ul>
</li>
<li>一流公司制定標準，二流作品牌，三流賣技術，四流作產品<ul>
<li>HTTP&#x2F;2 是源自 Google 的 SPDY。</li>
<li>Google 下一代 QUIC 推動中。</li>
</ul>
</li>
<li>HTTP&#x2F;2 並不強制加密(HTTPS)<ul>
<li>在主流瀏覽器為了向下相容，保留了 80 port 的 HTTP&#x2F;1.1 通訊協定，用 443 port 實作 HTTP&#x2F;2。</li>
<li>所以還是要走 HTTPS，所以需要安全性憑証。</li>
<li>安全性憑証要錢(現在也有免費的)。</li>
<li><a target="_blank" rel="noopener" href="https://www.cloudflare.com/">cloudflare</a>提供免費的安全性憑証。</li>
</ul>
</li>
</ul>
<h2 id="前置作業"><a href="#前置作業" class="headerlink" title="前置作業"></a>前置作業</h2><ol>
<li>你要有<a target="_blank" rel="noopener" href="https://www.cloudflare.com/">cloudflare</a>帳號。</li>
<li>看過我之網站的設定，簡單說就是一個 github page 與 透過 OpenShift 這個 PaaS 服務建立的網站。<ul>
<li><a href="https://blog.marsen.me/2016/08/21/setting_DNS_with_google/">怎麼建立一個網站？(一)</a></li>
<li><a href="https://blog.marsen.me/2016/08/28/how_to_use_github_page/">怎麼建立一個網站？(二)</a></li>
</ul>
</li>
</ol>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ol>
<li><a target="_blank" rel="noopener" href="https://www.cloudflare.com/">cloudflare</a> 設定 DNS，在指定的 domain 下，設定為「DNS and HTTP Proxy(CDN)」。<br><img src="/images/2016/090516_021242_AM.jpg" alt="設定為「DNS and HTTP Proxy(CDN)」"></li>
<li>設定 Page-Rules，這個是為了開啟 SSL 1. 設定<code>SSL</code>為<code>Flexible</code>,輸入<code>*.username.com/*</code>。<br>這個時候你就可以瀏覽<code>https://blog.username.com/</code>,但同時也可以瀏覽<code>http://blog.username.com/</code> 。<br>我希望 HTTP 能自動跳轉 HTTPS，這部份如果是 Node 建立的網站，我可以用程式作轉導，<br>但是如果是 github page 建立網站，就要再仰賴 <a target="_blank" rel="noopener" href="https://www.cloudflare.com/">cloudflare</a> 了。</li>
<li>設定 Page-Rules，這個是為了開啟 SSL 1. 設定<code>ALWAYS USE HTTPS</code>,輸入<code>http://*.username.com/*</code>。<br><img src="/images/2016/090516_023252_AM.jpg" alt="設定為「DNS and HTTP Proxy(CDN)」"></li>
</ol>
<p>設定完大致如下，順利的話幾分鐘就生效了。<br><img src="/images/2016/090516_023554_AM.jpg" alt="生效"></p>
<p>這時候瀏覽 <code>http://blog.username.com/</code> 就會轉導到 <code>https://blog.username.com/</code> 了 。</p>
<h2 id="檢驗"><a href="#檢驗" class="headerlink" title="檢驗"></a>檢驗</h2><p>使用 support HTTP&#x2F;2 的瀏覽器，瀏覽網頁，觀察其 protocol 。<br><img src="/images/2016/090516_024550_AM.jpg" alt="HTTP/2"></p>
<h2 id="系列文章"><a href="#系列文章" class="headerlink" title="系列文章"></a>系列文章</h2><ul>
<li><a href="https://blog.marsen.me/2016/08/21/2016/setting_DNS_with_google/">怎麼建立一個網站？(一)</a></li>
<li><a href="https://blog.marsen.me/2016/08/28/2016/how_to_use_github_page/">怎麼建立一個網站？(二)</a></li>
<li><a href="https://blog.marsen.me/2016/09/04/2016/http2_by_cloudflare/">怎麼建立一個網站？(三)</a></li>
<li><a href="https://blog.marsen.me/2020/10/22/2020/google_domain_forward_mail/">怎麼建立一個網站？(四)</a></li>
</ul>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://simular.co/knowledge/site-build/68-about-http2-and-http11.html">了解 HTTP&#x2F;2 的特色與 HTTP&#x2F;1.1 的差異</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.alphacamp.co/2016/07/12/http2/">你的網站升級到 HTTP&#x2F;2 了嗎？</a></li>
<li><a target="_blank" rel="noopener" href="http://www.ithome.com.tw/voice/94371">為什麼我們需要 HTTP&#x2F;2？</a></li>
<li><a target="_blank" rel="noopener" href="http://www.ithome.com.tw/voice/94520">HTTP&#x2F;2 登場，邁向新的紀元</a></li>
<li><a target="_blank" rel="noopener" href="http://www.ithome.com.tw/news/95353">Google：將推動 QUIC 成為網路標準</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2016/09/03/2016/http2_by_cloudflare/" data-id="cm32hdh9y00122sof4wghctpu" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2016/09/03/2016/http2_by_cloudflare/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2016/file_rowdata_import_mssql" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/29/2016/file_rowdata_import_mssql/" class="article-date">
  <time datetime="2016-08-29T09:24:55.000Z" itemprop="datePublished">2016-08-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/29/2016/file_rowdata_import_mssql/"> [工作筆記] 匯入文字資料到 MsSQL</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前置作業"><a href="#前置作業" class="headerlink" title="前置作業"></a>前置作業</h2><ol>
<li>一個有權限寫入的 MsSQL Server 與 SSMS 管理工具</li>
<li>準備好你的檔案資料(Row Data)</li>
<li>這份記錄僅供參考(DB 版本使用 Microsoft SQL Server 2014)</li>
</ol>
<h2 id="步驟記錄"><a href="#步驟記錄" class="headerlink" title="步驟記錄"></a>步驟記錄</h2><ol>
<li>開啟 SSMS，連線測試 SQL Server</li>
<li>對測試資料庫右鍵&gt;工作&gt;匯入資料，開啟「SQL Server 匯入匯出精靈」</li>
<li>「開始畫面」&gt; 下一步</li>
<li>「資料來源」選擇一般檔案來源，「檔案名稱」選取 Row Data 的檔案路徑</li>
<li>請依實際狀況選擇下列欄位<ul>
<li>「略過的標頭資料列數」: 預設為 0，可透過設定此欄位略過 Row Data 內含註解，標頭等資料</li>
<li>「第一個資料列的資料行名稱」:若 Row Data 第一行為標頭，請勾選此欄位</li>
<li>左側選單選擇「資料行」&gt;「資料列分隔符號」選擇「{CR}{LF}」、「資料行分隔符號」選擇「Tab 鍵{t}」</li>
</ul>
</li>
<li>左側選單選擇「預覽」確認匯入的資料無誤後，點擊下一步</li>
<li>「目的地」請選擇「SqlServer」，設定 ConnectionString<ul>
<li>Data Source&#x3D;1**.*<strong>.</strong><em>.</em><strong>;Initial Catalog&#x3D;TestDB;Persist Security Info&#x3D;True;User ID&#x3D;tester;Password&#x3D;</strong>******;</li>
</ul>
</li>
<li>「選取來源資料表和檢視畫面」確認無誤後，點擊下一步。</li>
<li>「檢閱資料類型對應畫面」請忽略資料類型的警告，點擊下一步。</li>
<li>「執行封裝畫面」勾選「立即執行」，點擊下一步。</li>
<li>「完成精靈畫面」點選完成。</li>
<li>執行時間長短，依 Row Data 大小而有所差異。</li>
</ol>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2016/08/29/2016/file_rowdata_import_mssql/" data-id="cm32hdh9w000s2soff6ki64xz" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2016/08/29/2016/file_rowdata_import_mssql/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Database/" rel="tag">Database</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL/" rel="tag">SQL</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2016/how_to_use_github_page" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/27/2016/how_to_use_github_page/" class="article-date">
  <time datetime="2016-08-27T20:56:27.000Z" itemprop="datePublished">2016-08-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/27/2016/how_to_use_github_page/"> [實作筆記] 怎麼建立一個網站？(二) - 簡單用github page 建立靜態網站</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前置作業"><a href="#前置作業" class="headerlink" title="前置作業"></a>前置作業</h2><ul>
<li>你要有一個 GitHub 帳號</li>
</ul>
<h2 id="建立-github-page"><a href="#建立-github-page" class="headerlink" title="建立 github page"></a>建立 github page</h2><p>如果不排斥看原文，可以直接<a target="_blank" rel="noopener" href="https://pages.github.com/">參考</a></p>
<ol>
<li><p>建立一個 Repository , 並且命名為 <code>username.github.io</code> , 這裡的 username 請使用你的 GitHub 帳號的 username.</p>
</li>
<li><p>clone <code>username.github.io</code> 到你的本機上.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/username/username.github.io</span><br></pre></td></tr></table></figure>
</li>
<li><p>建立一個靜態網頁 <code>index.html</code> , 隨便打點什麼。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//IETF//DTD HTML 2.0//EN&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello world<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is my github page<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>commit 之後,push 到 github 上 &gt; git add –all &gt; git commit -m “Initial commit” &gt; git push -u origin master</p>
</li>
<li><p>瀏覽 <a target="_blank" rel="noopener" href="http://username.github.io/">http://username.github.io</a> 即完成</p>
</li>
</ol>
<h2 id="使用自訂的-Domain"><a href="#使用自訂的-Domain" class="headerlink" title="使用自訂的 Domain"></a>使用自訂的 Domain</h2><ol>
<li>首先準備好一個 domain ex: username.xyz</li>
<li>需要在根目錄底下，放入一個 CName file<br>檔案的內容只需要你的 domain 即可<br>ex:<br>blog.username.xyz<br>username.xyz<br>username.xyz</li>
<li>在 Name Servers (例如<a target="_blank" rel="noopener" href="https://www.cloudflare.com/">cloudflare</a>)上設定 <code>CNAME</code> 到 github page,<br>將 <code>blog.username.xyz</code> 綁定到 <code>username.github.io</code><br>ex:</li>
</ol>
<table>
<thead>
<tr>
<th>TYPE</th>
<th>NAME</th>
<th>VALUE</th>
<th>TTL</th>
</tr>
</thead>
<tbody><tr>
<td>CName</td>
<td>*</td>
<td>username.xyz</td>
<td>auto</td>
</tr>
<tr>
<td>CName</td>
<td>blog</td>
<td>username.github.io</td>
<td>auto</td>
</tr>
</tbody></table>
<p>更多請參考「<a href="http://blog.marsen.me/2016/08/21/setting_DNS_with_google/">購買網域到設定 DNS</a>」.</p>
<h2 id="透過-Hexo-部署"><a href="#透過-Hexo-部署" class="headerlink" title="透過 Hexo 部署"></a>透過 Hexo 部署</h2><p>Hexo 基本概念可以參考<a target="_blank" rel="noopener" href="https://hexo.io/zh-tw/docs/index.html">官方中文文件</a> .</p>
<ol>
<li><p>重點在於 <code>_config.yml</code> 的設定<br>deploy:<br>type: git<br>repository: <a target="_blank" rel="noopener" href="https://github.com/username/username.github.io">https://github.com/username/username.github.io</a><br>branch: master</p>
</li>
<li><p>執行 <code>hexo d</code> 進行部署，這個動作會將 hexo 建立出來的靜態網站(html+css+javascript+圖片等…)部署到 github page 上。</p>
</li>
</ol>
<h2 id="系列文章"><a href="#系列文章" class="headerlink" title="系列文章"></a>系列文章</h2><ul>
<li><a href="https://blog.marsen.me/2016/08/21/2016/setting_DNS_with_google/">怎麼建立一個網站？(一)</a></li>
<li><a href="https://blog.marsen.me/2016/08/28/2016/how_to_use_github_page/">怎麼建立一個網站？(二)</a></li>
<li><a href="https://blog.marsen.me/2016/09/04/2016/http2_by_cloudflare/">怎麼建立一個網站？(三)</a></li>
<li><a href="https://blog.marsen.me/2020/10/22/2020/google_domain_forward_mail/">怎麼建立一個網站？(四)</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2016/08/27/2016/how_to_use_github_page/" data-id="cm32hdh9y00102sof7mv79kp3" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2016/08/27/2016/how_to_use_github_page/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2016/add_google_analytics_to_hexo_blog_1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/25/2016/add_google_analytics_to_hexo_blog_1/" class="article-date">
  <time datetime="2016-08-25T06:12:07.000Z" itemprop="datePublished">2016-08-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/25/2016/add_google_analytics_to_hexo_blog_1/">如何讓 Google Analytics 追踪你的 Hexo Blog</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前置作業"><a href="#前置作業" class="headerlink" title="前置作業"></a>前置作業</h2><ol>
<li>你要有 google 帳號，並申請好你的 google_analytics ID</li>
<li>這個記錄僅針對 Hexo 預設的 Theme 有作用，未來有改 Theme 的話，可能會需要手動加入，再寫文章補上</li>
</ol>
<h2 id="開啟-config-yml"><a href="#開啟-config-yml" class="headerlink" title="開啟_config.yml"></a>開啟_config.yml</h2><ol>
<li>確定一下你是使用預設的 theme <code>landscape</code> ## <a target="_blank" rel="noopener" href="https://hexo.io/themes/">Themes</a><br>theme: landscape</li>
<li>開啟 <code>root/themes/landscape/_config.yml</code></li>
<li>找到以下的設定區段 # Miscellaneous<br>google_analytics:</li>
<li>填入步驟 1. 中所取得 google_analytics ID</li>
<li>部署網站，完成!</li>
</ol>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2016/08/25/2016/add_google_analytics_to_hexo_blog_1/" data-id="cm32hdh9t000l2sof3i9m907v" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2016/08/25/2016/add_google_analytics_to_hexo_blog_1/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Google/" rel="tag">Google</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2016/setting_DNS_with_google" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/08/21/2016/setting_DNS_with_google/" class="article-date">
  <time datetime="2016-08-21T14:12:53.000Z" itemprop="datePublished">2016-08-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/08/21/2016/setting_DNS_with_google/"> [實作筆記] 怎麼建立一個網站？(一) - 購買網域到設定DNS</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前置作業"><a href="#前置作業" class="headerlink" title="前置作業"></a>前置作業</h2><ol>
<li>準備好你的 google 帳號。</li>
<li>可以連到美國的 VPN。<a target="_blank" rel="noopener" href="https://atom.io/packages/atom-beautify">google domain beta</a> 台灣尚未開放</li>
<li>準備一張信用卡，狠狠的刷下去(挑對 domain 其實很便宜啦)</li>
<li>你的網站，什麼語言都可以，靜態的網頁也可以。<br>*這裡我事先準備好了兩個網站,<br>分別是用<a target="_blank" rel="noopener" href="https://pages.github.com/">github page</a> 與 <a target="_blank" rel="noopener" href="https://nodejs.org/">nodejs</a> 的 <a target="_blank" rel="noopener" href="http://expressjs.com/">express</a>,實作有機會再作記錄。</li>
</ol>
<h2 id="設定-domain"><a href="#設定-domain" class="headerlink" title="設定 domain"></a>設定 domain</h2><ol>
<li><p>Github page 所建立的網站,會提供一組 domain 給你<br>ex:<code>myDomain.github.io</code></p>
</li>
<li><p>OpenShift 建立的網站,一樣會提供一組 domain 給你<br>ex:<code>myDomain.rhcloud.com</code></p>
</li>
<li><p>google domain 本身有提供 Name servers , 但是由於 type<code>A</code> 的 Domain,<br> 必須指定公用 ip(家中有裝 HiNet ADSL 可以申請一組);但實際上我的兩個網站,並不需要我準備實體 IP,<br> 只需要使用 type <code>CName</code> 將我的 subdomain 指向原本服務的 domain 即可。<br> ex:</p>
<ul>
<li>blog.myDomain.me → myDomain.github.io</li>
<li><a target="_blank" rel="noopener" href="http://www.mydomain.me/">www.myDomain.me</a> → myDomain.rhcloud.com</li>
</ul>
</li>
<li><p>github page 要注意的事情，</p>
</li>
</ol>
<p>你需要在你的 github page 的 repo root 加入一個名叫<code>CName</code>的檔案,<br>檔案的內容很簡單, 只需要你的 domain 即可<br>ex:<br>blog.myDomain.me<br> myDomain.me</p>
<h2 id="Bare-CName"><a href="#Bare-CName" class="headerlink" title="Bare CName"></a>Bare CName</h2><p>大多數的時候, <code>CName</code> 的設定就夠了;不過對於我來說,<br>我會希望可以直接使用我的頂級 domain,畢竟這樣網址可以更短一些,<br><code>myDomain.me</code> 比 <code>www.myDomain.me</code> 更有感覺。</p>
<p>這裡受限於 google 的 Name servers , 頂級 domain 必為 Type<code>A</code>須綁定 ip<br>這裡我們可以使用一個免費的服務<a target="_blank" rel="noopener" href="https://www.cloudflare.com/">cloudflare</a>,來達成目的</p>
<ol>
<li><p>註冊<a target="_blank" rel="noopener" href="https://www.cloudflare.com/">cloudflare</a></p>
</li>
<li><p>登入後<a target="_blank" rel="noopener" href="https://www.cloudflare.com/a/add-site">add site</a>,輸入你註冊的 domain<br>ex:<code>myDomain</code></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.cloudflare.com/">cloudflare</a> 會提供你至少兩組 Name servers<br>ex:<br><code>carter.ns.cloudflare.com</code><br><code>tina.ns.cloudflare.com</code></p>
</li>
<li><p>請先登入<a target="_blank" rel="noopener" href="https://atom.io/packages/atom-beautify">google domain beta</a>設定 Name servers 到<a target="_blank" rel="noopener" href="https://www.cloudflare.com/">cloudflare</a></p>
</li>
<li><p>請依以下步驟設定</p>
<ul>
<li>* → myDomain.me</li>
<li>blog.myDomain.me → myDomain.github.io</li>
<li><a target="_blank" rel="noopener" href="http://www.mydomain.me/">www.myDomain.me</a> → myDomain.rhcloud.com</li>
</ul>
</li>
<li><p>等待約數分鐘就 ok 啦</p>
</li>
</ol>
<h2 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h2><p>前前後後查資料弄了一個禮拜，但是實際上設定大概 1~2 小時就搞定了。<br>對 domain 跟 ip 的相對關係與實務結合後更有體會了。</p>
<p>歡迎指教討論。</p>
<h2 id="系列文章"><a href="#系列文章" class="headerlink" title="系列文章"></a>系列文章</h2><ul>
<li><a href="https://blog.marsen.me/2016/08/21/2016/setting_DNS_with_google/">怎麼建立一個網站？(一)</a></li>
<li><a href="https://blog.marsen.me/2016/08/28/2016/how_to_use_github_page/">怎麼建立一個網站？(二)</a></li>
<li><a href="https://blog.marsen.me/2016/09/04/2016/http2_by_cloudflare/">怎麼建立一個網站？(三)</a></li>
<li><a href="https://blog.marsen.me/2020/10/22/2020/google_domain_forward_mail/">怎麼建立一個網站？(四)</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2016/08/21/2016/setting_DNS_with_google/" data-id="cm32hdh9z00132sof7tek4tz5" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2016/08/21/2016/setting_DNS_with_google/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/27/">← 上一頁</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><a class="page-number" href="/page/27/">27</a><span class="page-number current">28</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/29/">下一頁 →</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/11/04/2024/star_career_feedback/"> [實作筆記] 個人經歷 STAR 試寫</a>
          </li>
        
          <li>
            <a href="/2024/10/08/2024/typescript_tsconfig_cheat_sheet/"> [學習筆記] TypeScript tsconfig 設定備忘錄</a>
          </li>
        
          <li>
            <a href="/2024/10/05/2024/typescript_omit_pick_distributive_union_issue/"> [學習筆記] Omit 與 Pick 的 Distributive 版本：解決 TypeScript Utility Types 的陷阱</a>
          </li>
        
          <li>
            <a href="/2024/10/04/2024/typescript_type_narrowing_example/"> [學習筆記] TypeScript 的 Narrowing Types 與 Boolean 的例外</a>
          </li>
        
          <li>
            <a href="/2024/10/04/2024/typescript_discriminated_unions_guide/"> [學習筆記] 使用 Discriminated Unions 解決多狀態問題</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">彙整</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">十一月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">十月 2024</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">八月 2024</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">七月 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">六月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">五月 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">四月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">二月 2024</a><span class="archive-list-count">2</span></li><span id='list_archives2' style='display:none'><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">十月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">九月 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">八月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">七月 2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">六月 2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">五月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">四月 2023</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">三月 2023</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">九月 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">6</span></li></span><span id=''></span><span onclick="var d=document.getElementById('list_archives2'); d.style.display===''?d.style='display:none':d.style=''">toggle...</span></ul>
    </div>
  </div>


  
    <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/3.0/tw/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/3.0/tw/88x31.png" />
</a>
  <br />
This work is licensed under a 
<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/3.0/tw/">Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Taiwan License</a>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤雲</h3>
    <div class="widget tagcloud">
      <a href="/tags/Net-Framework/" style="font-size: 14.67px;">.Net Framework</a> <a href="/tags/API/" style="font-size: 11.33px;">API</a> <a href="/tags/AWS/" style="font-size: 13.33px;">AWS</a> <a href="/tags/Agile/" style="font-size: 17.33px;">Agile</a> <a href="/tags/CI-CD/" style="font-size: 19.33px;">CI/CD</a> <a href="/tags/Cache/" style="font-size: 10px;">Cache</a> <a href="/tags/Coding-Standard/" style="font-size: 10px;">Coding Standard</a> <a href="/tags/Container/" style="font-size: 12px;">Container</a> <a href="/tags/Database/" style="font-size: 12.67px;">Database</a> <a href="/tags/Design-Pattern/" style="font-size: 10.67px;">Design Pattern</a> <a href="/tags/Docker/" style="font-size: 12px;">Docker</a> <a href="/tags/Entity-Framework/" style="font-size: 10.67px;">Entity Framework</a> <a href="/tags/Firebase/" style="font-size: 10px;">Firebase</a> <a href="/tags/Git/" style="font-size: 10.67px;">Git</a> <a href="/tags/Golang/" style="font-size: 11.33px;">Golang</a> <a href="/tags/Google/" style="font-size: 11.33px;">Google</a> <a href="/tags/GulpJs/" style="font-size: 10.67px;">GulpJs</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/Hexo/" style="font-size: 15.33px;">Hexo</a> <a href="/tags/IIS/" style="font-size: 10px;">IIS</a> <a href="/tags/IO/" style="font-size: 10px;">IO</a> <a href="/tags/Integrated-Testing/" style="font-size: 10px;">Integrated Testing</a> <a href="/tags/Jenkins/" style="font-size: 12px;">Jenkins</a> <a href="/tags/Kubernetes/" style="font-size: 10px;">Kubernetes</a> <a href="/tags/Linux/" style="font-size: 10.67px;">Linux</a> <a href="/tags/Mongodb/" style="font-size: 10px;">Mongodb</a> <a href="/tags/MsSQL/" style="font-size: 11.33px;">MsSQL</a> <a href="/tags/MsTest/" style="font-size: 10px;">MsTest</a> <a href="/tags/Mutation-Testing/" style="font-size: 10px;">Mutation Testing</a> <a href="/tags/Nodejs/" style="font-size: 15.33px;">Nodejs</a> <a href="/tags/OAuth/" style="font-size: 10px;">OAuth</a> <a href="/tags/OOP/" style="font-size: 11.33px;">OOP</a> <a href="/tags/Openshift/" style="font-size: 10.67px;">Openshift</a> <a href="/tags/PowerShell/" style="font-size: 11.33px;">PowerShell</a> <a href="/tags/React/" style="font-size: 12px;">React</a> <a href="/tags/Redis/" style="font-size: 10.67px;">Redis</a> <a href="/tags/SQL/" style="font-size: 12px;">SQL</a> <a href="/tags/Scrum/" style="font-size: 16.67px;">Scrum</a> <a href="/tags/Shell/" style="font-size: 10.67px;">Shell</a> <a href="/tags/Specflow/" style="font-size: 10px;">Specflow</a> <a href="/tags/StyleCop/" style="font-size: 10px;">StyleCop</a> <a href="/tags/TDD/" style="font-size: 16px;">TDD</a> <a href="/tags/Testing/" style="font-size: 14px;">Testing</a> <a href="/tags/Thread/" style="font-size: 10.67px;">Thread</a> <a href="/tags/Trello/" style="font-size: 10px;">Trello</a> <a href="/tags/TypeScript/" style="font-size: 13.33px;">TypeScript</a> <a href="/tags/Unit-Testing/" style="font-size: 18.67px;">Unit Testing</a> <a href="/tags/Unix/" style="font-size: 10.67px;">Unix</a> <a href="/tags/Vim/" style="font-size: 10px;">Vim</a> <a href="/tags/Visual-Studio/" style="font-size: 10px;">Visual Studio</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/post/" style="font-size: 10px;">post</a> <a href="/tags/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/" style="font-size: 13.33px;">學習筆記</a> <a href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" style="font-size: 20px;">實作筆記</a> <a href="/tags/%E6%99%82%E9%96%93%E7%AE%A1%E7%90%86/" style="font-size: 10.67px;">時間管理</a> <a href="/tags/%E6%B4%BB%E5%8B%95%E7%AD%86%E8%A8%98/" style="font-size: 12.67px;">活動筆記</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E7%AD%86%E8%A8%98/" style="font-size: 16px;">生活筆記</a> <a href="/tags/%E8%A8%98%E9%8C%84/" style="font-size: 11.33px;">記錄</a> <a href="/tags/%E8%B8%A9%E9%9B%B7%E7%AD%86%E8%A8%98/" style="font-size: 14.67px;">踩雷筆記</a> <a href="/tags/%E9%87%8D%E6%A7%8B/" style="font-size: 12px;">重構</a> <a href="/tags/%E9%96%B1%E8%AE%80%E7%AD%86%E8%A8%98/" style="font-size: 18px;">閱讀筆記</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Net-Framework/" rel="tag">.Net Framework</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/" rel="tag">API</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AWS/" rel="tag">AWS</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Agile/" rel="tag">Agile</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CI-CD/" rel="tag">CI&#x2F;CD</a><span class="tag-list-count">24</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cache/" rel="tag">Cache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Coding-Standard/" rel="tag">Coding Standard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Container/" rel="tag">Container</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Database/" rel="tag">Database</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-Pattern/" rel="tag">Design Pattern</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Entity-Framework/" rel="tag">Entity Framework</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Firebase/" rel="tag">Firebase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang/" rel="tag">Golang</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google/" rel="tag">Google</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GulpJs/" rel="tag">GulpJs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IIS/" rel="tag">IIS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO/" rel="tag">IO</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Integrated-Testing/" rel="tag">Integrated Testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/" rel="tag">Jenkins</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kubernetes/" rel="tag">Kubernetes</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mongodb/" rel="tag">Mongodb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MsSQL/" rel="tag">MsSQL</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MsTest/" rel="tag">MsTest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mutation-Testing/" rel="tag">Mutation Testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OAuth/" rel="tag">OAuth</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OOP/" rel="tag">OOP</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Openshift/" rel="tag">Openshift</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PowerShell/" rel="tag">PowerShell</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scrum/" rel="tag">Scrum</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/" rel="tag">Shell</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Specflow/" rel="tag">Specflow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/StyleCop/" rel="tag">StyleCop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TDD/" rel="tag">TDD</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Testing/" rel="tag">Testing</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thread/" rel="tag">Thread</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Trello/" rel="tag">Trello</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unit-Testing/" rel="tag">Unit Testing</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unix/" rel="tag">Unix</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vim/" rel="tag">Vim</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Visual-Studio/" rel="tag">Visual Studio</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/" rel="tag">html</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/post/" rel="tag">post</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/" rel="tag">學習筆記</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a><span class="tag-list-count">113</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%99%82%E9%96%93%E7%AE%A1%E7%90%86/" rel="tag">時間管理</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B4%BB%E5%8B%95%E7%AD%86%E8%A8%98/" rel="tag">活動筆記</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E7%AD%86%E8%A8%98/" rel="tag">生活筆記</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A8%98%E9%8C%84/" rel="tag">記錄</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B8%A9%E9%9B%B7%E7%AD%86%E8%A8%98/" rel="tag">踩雷筆記</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%8D%E6%A7%8B/" rel="tag">重構</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%96%B1%E8%AE%80%E7%AD%86%E8%A8%98/" rel="tag">閱讀筆記</a><span class="tag-list-count">15</span></li></ul>
    </div>
  </div>


  
    

  
    <div class="widget-wrap">
    <h3 class="widget-title">多語系</h3>
    <div class="widget">
        <div id="ytWidget"></div>
    </div>
</div>
<script src="https://translate.yandex.net/website-widget/v1/widget.js?widgetId=ytWidget&pageLang=zh&widgetTheme=dark&autoMode=false" type="text/javascript"></script>
  
    <div class="widget-wrap">
    <h3 class="widget-title">BADGES</h3>
    <div class="widget">
        <a target="_blank" rel="noopener" href="https://bcert.me/bc/html/show-badge.html?b=uufxvngl">
            <img src="/images/2018/csm/seal-csm.png" alt="Certified ScrumMaster®">
        </a>
    </div>
</div>
  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2024 Marsen L.<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

  
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>



<script src="/js/sayings.js?v=0.js"></script>
  

<script src="/js/script.js?v=0.js"></script>

<div id="likecoin">
Please enable JavaScript to view the LikeCoin. :P
</div>
<script>

  (function(){
    var ifrm = document.createElement("iframe");
    ifrm.setAttribute("src", "https://button.like.co/in/embed/marsenlin/button?referrer=undefined");      
    ifrm.setAttribute("sandbox","allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox");
    ifrm.frameborder = "0";
    ifrm.scrolling = "no";
    (document.getElementById("likecoin").replaceChild(ifrm, document.getElementById("likecoin").childNodes[0]));
  })();

</script>
<script>

  var disqus_shortname = 'marsenlin';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();

</script>

  </div>
    
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NTDGNJZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

</body>
</html>