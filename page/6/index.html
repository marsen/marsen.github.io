<!DOCTYPE html>
<html>
<head>
  
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NTDGNJZ');</script>
<!-- End Google Tag Manager -->

  
<!-- Google Analytics -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RF47NNRE5G"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RF47NNRE5G');
</script>
<!-- End Google Analytics -->

  
<!-- Google AdSense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1885096025224905"
     crossorigin="anonymous"></script>
<!-- End Google AdSense -->



  <meta charset="utf-8">
  
  <title>Marsen&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Marsen&#39;s Blog">
<meta property="og:url" content="https://blog.marsen.me/page/6/index.html">
<meta property="og:site_name" content="Marsen&#39;s Blog">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="Marsen L.">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Marsen&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
      
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300&display=swap" rel="stylesheet">
  
  
<link rel="stylesheet" href="/css/style.css">

  <meta property ="og:image" content="https://avatars1.githubusercontent.com/u/4269720?s=460&v=4" /> 
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="blog-banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Marsen&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle"></a>
          <div>
          <span style="width: 20px; height: 10px; background: linear-gradient(to bottom, #005BBB 50%, #FFD700 50%); text-align: center; color: white; font-size: 6px; font-weight: bold; line-height: 100px;">
            #StandWithUkraine
          </span>
          </div>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜尋"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://blog.marsen.me"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-2023/injury_table" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/09/11/2023/injury_table/" class="article-date">
  <time datetime="2023-09-11T08:05:12.000Z" itemprop="datePublished">2023-09-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/09/11/2023/injury_table/"> [工作筆記] 軟體工程的檢傷分類</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>回想一下你手頭上的工作，你如何決定你的工作順序?<br>常見的有緊急&#x2F;重要四象限法。<br>另外在一些方法論上，利如 Scrum 交由特定角色排序，<br>而急診室的檢傷分類如下。</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">第一級（復甦急救，立即處理－病況危急生命或肢體，需立即處理。如：心跳、呼吸停止、肢體及嘴唇發青、發紫，體溫高於41度或低於32度，無意識或意識混亂、持續抽搐且無意識。</span><br><span class="line"></span><br><span class="line">　　第二級（危急，可能等候時間10分鐘）－潛在性危及生命、肢體及器官功能，需快速控制與處理。如：急性意識狀態改變、持續胸悶、胸痛且冒冷汗、低血糖(&lt;40mg/dl)、外傷造成之大量出血，頭頸軀幹骨盆部位血流不止、高處墜落、車禍(乘客被拋出車外)、頭部撞擊後曾失去意識等。</span><br><span class="line"></span><br><span class="line">　　第三級（緊急，可能等候時間30分鐘）－病況可能持續惡化，需急診處置；病人可能伴隨明顯不適症狀，影響日常生活。如：無法控制的腹瀉或嘔吐、外傷後肢體腫脹變形疑似骨折/脫臼、高血壓(收縮壓&gt;200mmHg或舒張壓&gt;110mmHg)且沒有任何症狀等。</span><br><span class="line"></span><br><span class="line">　　第四級（次緊急，可能等候時間60分鐘）－病況可能為慢性病及急性發作，或某些疾病之合併症相關，需在1至2小時做處置避免惡化。如：局部蜂窩性組織炎、急性咳嗽但沒有發燒、發燒但無其他不適、反覆性疼痛或暈眩等。</span><br><span class="line"></span><br><span class="line">　　第五級（非緊急，可能等候時間120分鐘）－病況非緊急，需做鑑別性診斷或轉介門診。如：慢性噁心、嘔吐或打嗝、輕微擦傷，瘀青，軟組織受傷、螫傷或咬傷，但無發燒或疼痛不適、輕微腹瀉，無脫水現象等。</span><br></pre></td></tr></table></figure>

<p>我們可以參考。以等級與具體案例作為分析。</p>
<p>個人的經驗是以 3+1 個維度分析，<br>主要為發生風險、發生頻率、影響範圍和可否重現。</p>
<h2 id="判斷流程"><a href="#判斷流程" class="headerlink" title="判斷流程"></a>判斷流程</h2><ol>
<li>是否為線上問題：線上問題較可能產生價值的耗損</li>
<li>發生頻率：高頻的問題如果不處理會帶來大量干擾、下一階段可能會麻痺，甚至讓真正的問題從眼前跑走</li>
<li>影響範圍：誰會感到痛苦？老闆？客戶？PM ? RD ? 營運？怎麼作可以停止或減輕他們的痛苦。</li>
<li>風險評估：不作會怎麼樣？作了會怎麼樣？</li>
</ol>
<h2 id="定義"><a href="#定義" class="headerlink" title="定義"></a>定義</h2><p>x 的維度是風險的高低，風險高者需安排修正，風險低小者可以再觀察<br>y 的維度是影響範圍的大小，範圍大者需優先停損縮小範圍，範圍小者就安排修正<br>z 的維度是發生的頻率，高頻者需優先停損止傷，低頻者需要觀察，如果發生一次就會形成持續性或永久性的傷害即為高頻<br>加上可否重現分析如下：</p>
<h3 id="可重現"><a href="#可重現" class="headerlink" title="可重現"></a>可重現</h3><p>高風險／高範圍的情況下，頻率已經不重要，重要的不能讓發生 0 次的事情發生 １次，<br>一但發生只能砍掉重練，具體例子如<a target="_blank" rel="noopener" href="https://www.businesstoday.com.tw/article/category/183015/post/202104210030/">廣達被勒索病毒攻擊</a></p>
<p>維度一：高風險／高範圍／高頻率：終止營業、暫停營運的等級<br>維度二：高風險／高範圍／低頻率：終止營業、暫停營運的等級</p>
<p>應急辦法，止血: 先限縮風險、範圍、頻率至少其中之一。</p>
<p>低風險／高範圍的情況，即使發生了仍有轉還的空間，高頻時處理的重點在縮小範圍與暫時的降噪<br>一但修正，理應停止降噪的設定，低頻時安排修正計劃即可</p>
<p>維度三：低風險／高範圍／高頻率：部份功能停止運作。應暫時的降噪（暫時停止通止，避免有其它警告被淹沒），安排修正計劃<br>維度四：低風險／高範圍／低頻率：部份功能停止運作。儘速安排修正計劃。</p>
<p>在高風險的情況，如果有小範圍的異常，都應立即處理，重點在於能不能根除問題，或是緩解發生頻次</p>
<p>維度五：高風險／低範圍／高頻率：根除問題，或是緩解發生頻次<br>維度六：高風險／低範圍／低頻率：根除問題，或是緩解發生頻次</p>
<p>在低風險／低範圍的情況下，要小心避免讓人習慣這類型的錯誤(麻痺)，或是產生過多雜訊影響判斷。<br>偶一為之但是知道原因的話可以不處理</p>
<p>維度七：低風險／低範圍／高頻率：降噪或是設定提示水位<br>維度八：低風險／低範圍／低頻率：不處理</p>
<h3 id="不可重現"><a href="#不可重現" class="headerlink" title="不可重現"></a>不可重現</h3><p>不知道自已不知道是最可怕的，如果發生時是高風險／高範圍大多也沒救了，<br>就死前能不能有所收獲</p>
<p>維度一：高風險／高範圍／高頻率：終止營業、暫停營運的等級<br>維度二：高風險／高範圍／低頻率：終止營業、暫停營運的等級</p>
<p>低風險／高範圍的情況，即使發生了仍有轉還的空間，高頻時處理的重點在縮小範圍與暫時的降噪<br>一但修正，理應停止降噪的設定，低頻時安排修正計劃即可</p>
<p>維度三：低風險／高範圍／高頻率：暫時的降噪（暫時停止通止，避免有其它告警被淹沒），查明原因，安排修正計劃<br>維度四：低風險／高範圍／低頻率：查明原因，安排修正計劃</p>
<p>在高風險的情況，如果有小範圍的異常，都應立即處理，重點會在能不能根除問題，或是緩解發生頻次</p>
<p>維度五：高風險／低範圍／高頻率：查明原因，根除問題，或是緩解發生頻次<br>維度六：高風險／低範圍／低頻率：查明原因，根除問題，或是緩解發生頻次</p>
<p>在低風險／低範圍的情況下，要小心避免讓人習慣這類型的錯誤(麻痺)，或是產生過多雜訊影響判斷。<br>偶一為之但是不知道原因的話要特別小心標記，這很可能是別處發生問題的潛兆</p>
<p>維度七：低風險／低範圍／高頻率：查明原因，降噪或是設定提示水位<br>維度八：低風險／低範圍／低頻率：查明原因</p>
<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>幾個重點，預防勝於治療，<br>真的發生時儘可能讓風險降低、範圍縮小、頻率減少，<br>十萬火急時可以先用暫解去處理，減少傷害。<br>但是回到正常流程就是要找出根本原因，並用正確的方式治療。</p>
<p>我作了個表以供參考</p>
<table>
<thead>
<tr>
<th>情境</th>
<th>風險</th>
<th>範圍</th>
<th>頻率</th>
<th>行動</th>
</tr>
</thead>
<tbody><tr>
<td><strong>可重現情況（Reproducible）</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>高</td>
<td>高</td>
<td>高</td>
<td>立即處理，確保不再發生。</td>
</tr>
<tr>
<td>2</td>
<td>高</td>
<td>高</td>
<td>低</td>
<td>立即處理，確保不再發生。</td>
</tr>
<tr>
<td>3</td>
<td>低</td>
<td>高</td>
<td>高</td>
<td>暫時降噪並制定修正計劃。</td>
</tr>
<tr>
<td>4</td>
<td>低</td>
<td>高</td>
<td>低</td>
<td>制定修正計劃。</td>
</tr>
<tr>
<td>5</td>
<td>高</td>
<td>低</td>
<td>高</td>
<td>根除問題或減少頻率。</td>
</tr>
<tr>
<td>6</td>
<td>高</td>
<td>低</td>
<td>低</td>
<td>根除問題或減少頻率。</td>
</tr>
<tr>
<td>7</td>
<td>低</td>
<td>低</td>
<td>高</td>
<td>降噪或設定提示水位。</td>
</tr>
<tr>
<td>8</td>
<td>低</td>
<td>低</td>
<td>低</td>
<td>不處理。</td>
</tr>
<tr>
<td><strong>不可重現情況（Non-Reproducible）</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>高</td>
<td>高</td>
<td>高</td>
<td>查明原因，可能無法挽救。</td>
</tr>
<tr>
<td>10</td>
<td>高</td>
<td>高</td>
<td>低</td>
<td>查明原因，可能無法挽救。</td>
</tr>
<tr>
<td>11</td>
<td>低</td>
<td>高</td>
<td>高</td>
<td>暫時降噪，查明原因，制定修正計劃。</td>
</tr>
<tr>
<td>12</td>
<td>低</td>
<td>高</td>
<td>低</td>
<td>查明原因，制定修正計劃。</td>
</tr>
<tr>
<td>13</td>
<td>高</td>
<td>低</td>
<td>高</td>
<td>查明原因，根除問題或減少頻率。</td>
</tr>
<tr>
<td>14</td>
<td>高</td>
<td>低</td>
<td>低</td>
<td>查明原因，根除問題或減少頻率。</td>
</tr>
<tr>
<td>15</td>
<td>低</td>
<td>低</td>
<td>高</td>
<td>查明原因，降噪或設定提示水位。</td>
</tr>
<tr>
<td>16</td>
<td>低</td>
<td>低</td>
<td>低</td>
<td>查明原因，特別小心標記可能是其他問題的潛在預兆。</td>
</tr>
</tbody></table>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2023/09/11/2023/injury_table/" data-id="cm7d6ghdu00dx2snu53q0cewe" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2023/09/11/2023/injury_table/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2023/ac_QA_08" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/08/22/2023/ac_QA_08/" class="article-date">
  <time datetime="2023-08-22T04:42:33.016Z" itemprop="datePublished">2023-08-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/08/22/2023/ac_QA_08/"> [生活筆記] 一些程式轉職相關的問答</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>一直有在作程式相關的助教、導師相關的工作，有些學生的問題很棒，也是我的盲點。<br>沒有心思好好整理，至少記錄下來，給未來的自已一絲反芻機會。  </p>
<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><h3 id="Express-js在業界的實用性如何-優點和缺點是什麼-有需要再學習第二種語言-框架嗎-，建議的選擇是"><a href="#Express-js在業界的實用性如何-優點和缺點是什麼-有需要再學習第二種語言-框架嗎-，建議的選擇是" class="headerlink" title="Express.js在業界的實用性如何? 優點和缺點是什麼? 有需要再學習第二種語言&#x2F;框架嗎?，建議的選擇是?"></a>Express.js在業界的實用性如何? 優點和缺點是什麼? 有需要再學習第二種語言&#x2F;框架嗎?，建議的選擇是?</h3><p>算常見的 Nodejs 的 Web 框架，優點就是夠主流，資源好找。<br>缺點就太簡單。  </p>
<p>語言&#x2F;框架可以多學，自已判斷。不知道就先跟著公司或社群走。  </p>
<p>參考文章<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/best-nodejs-frameworks-for-app-development/">10 Best Nodejs Frameworks for App Development in 2023</a></p>
<p>Google 關鍵字：　<strong>Nodejs Web Framework 2023</strong></p>
<p>思路:不論什麼樣的程式語言，我的本質是 Web 開發，不同的語言與框架有不同的場景，總不缺乏新的挑戰者，<br>可以觀望、研究、測試、入坑，沒有一定的正確的答案，能夠快速作出判斷與取捨是重要的，但這需要經驗。</p>
<h3 id="2-如果想要在自有主機上部署Express-js，比較適合搭配的web伺服器軟體是"><a href="#2-如果想要在自有主機上部署Express-js，比較適合搭配的web伺服器軟體是" class="headerlink" title="2. 如果想要在自有主機上部署Express.js，比較適合搭配的web伺服器軟體是?"></a>2. 如果想要在自有主機上部署Express.js，比較適合搭配的web伺服器軟體是?</h3><p>這裡的”web伺服器軟體”是指什麼? Nginx 或 Apache 嗎?<br>選擇適合的場景就好。目前業界主流是 Nginx，思路參考第一題  </p>
<h3 id="3-樣板引擎在業界的使用度高嗎-有使用的話會是在什麼情況呢-有比較主流的選擇嗎-還是大部分被前端框架取代了"><a href="#3-樣板引擎在業界的使用度高嗎-有使用的話會是在什麼情況呢-有比較主流的選擇嗎-還是大部分被前端框架取代了" class="headerlink" title="3. 樣板引擎在業界的使用度高嗎? 有使用的話會是在什麼情況呢? 有比較主流的選擇嗎? 還是大部分被前端框架取代了?"></a>3. 樣板引擎在業界的使用度高嗎? 有使用的話會是在什麼情況呢? 有比較主流的選擇嗎? 還是大部分被前端框架取代了?</h3><p>註：學生這裡指的是 express + handlebars 的開發方式<br>大部份都前後分離端了，維護舊案可以能會碰到。<br>樣板引擎主要會發生在 Web Form 這類的舊專案，主流可能是 Php 或 Asp.Net 的某些專案。<br>或是在 2010 很主流的 MVC 開發方式，這段時間各家語言也有自已的解決方案。 　</p>
<p>思路:理解為什麼會有前後端分離的發生，某些情況的小專案，樣板引擎的開發方式會比前後端分離有效率。  </p>
<h3 id="4-AC一個練習教案的規模，大概有幾十個到百個檔案要維護。實際業界專案的檔案數量應該更多，檔案間的關係複雜，維護人員要如何弄得清楚呢-有沒有什麼比較好的管理工具"><a href="#4-AC一個練習教案的規模，大概有幾十個到百個檔案要維護。實際業界專案的檔案數量應該更多，檔案間的關係複雜，維護人員要如何弄得清楚呢-有沒有什麼比較好的管理工具" class="headerlink" title="4. AC一個練習教案的規模，大概有幾十個到百個檔案要維護。實際業界專案的檔案數量應該更多，檔案間的關係複雜，維護人員要如何弄得清楚呢? 有沒有什麼比較好的管理工具?"></a>4. AC一個練習教案的規模，大概有幾十個到百個檔案要維護。實際業界專案的檔案數量應該更多，檔案間的關係複雜，維護人員要如何弄得清楚呢? 有沒有什麼比較好的管理工具?</h3><p>檔案是指程式碼的部份嗎? 　<br>學會架構分層，基本就三層式架構、MVC、MVVM、MVP、MV* 等，<br>使用 OOP 語言的話可能也要依 Pattern 分層，現在比較流行 DDD、六角架構等…<br>再大一點會是微服務的情況。  </p>
<p>思路：想一下檔案間的關係複雜，那你會怎麼作？基本上就是分門別類，<br>好的分類可以讓錯誤發生時可以快速定位、實作功能時可以職責分離。<br>舉個生活化的例子，就是像是整理你的房間。  </p>
<h3 id="5-在前後端的協作中，如何決定一項功能應由前端製作或後端製作-舉例來說，要加上分頁的功能，本質上只是資料的整理重排，這樣的功能應該由前端或後端做呢"><a href="#5-在前後端的協作中，如何決定一項功能應由前端製作或後端製作-舉例來說，要加上分頁的功能，本質上只是資料的整理重排，這樣的功能應該由前端或後端做呢" class="headerlink" title="5. 在前後端的協作中，如何決定一項功能應由前端製作或後端製作? 舉例來說，要加上分頁的功能，本質上只是資料的整理重排，這樣的功能應該由前端或後端做呢?"></a>5. 在前後端的協作中，如何決定一項功能應由前端製作或後端製作? 舉例來說，要加上分頁的功能，本質上只是資料的整理重排，這樣的功能應該由前端或後端做呢?</h3><p>Case by Case, 以我來說跟畫面有關的歸前端、其它歸後端。　　<br>分頁通常會由後端處理、但是有些情況前端也要處理。<br>Ex: 避免太頻繁的 request 到 Server，一次性回傳大量資料，由前端自行製作分頁。  </p>
<p>思路：還是以需求為依歸、預設一個簡單的原則。團隊合作的話，最理想是團隊共識，次之由 Leader 決定，不要發生由某端強勢主導的情況。<br>舉例說明，欄位檢查，前後端都要作，前端的目的是引導使用者正確操作，後端是真正的防護。  </p>
<h3 id="6-求職網站中許多職缺要求會其他程式語言如-C-or-PHP-會建議再去學其他語言嗎-有推薦的學習平台或課程"><a href="#6-求職網站中許多職缺要求會其他程式語言如-C-or-PHP-會建議再去學其他語言嗎-有推薦的學習平台或課程" class="headerlink" title="6. 求職網站中許多職缺要求會其他程式語言如: C# or PHP,會建議再去學其他語言嗎? 有推薦的學習平台或課程?"></a>6. 求職網站中許多職缺要求會其他程式語言如: C# or PHP,會建議再去學其他語言嗎? 有推薦的學習平台或課程?</h3><p>我會想學 TypeScript、Python。<br>程式在 web 開發上有類似的作法，更多領域其實也需要程式人才，<br>例如：手機 App 開發、IoT 開發、AI 工程師等…<br>建議找一個自已可以生存的領域，專研打磨裡面的技術會建議<br>社群活動可以用來搜集關鍵字，<br>Udemy 的課程很便宜，YT 也有很多大神的頻道可以學習。  </p>
<p>思路：唯一的問題是學不完，怎麼整合應用變現，這個時候就不只是求職了，公司只是某一些技術棧整合的結果，<br>當你學的更多時，或許可以有別的出路？  </p>
<h3 id="7-建議如何練習LeetCode-才不會好像只是背答案-而不是懂背後的邏輯。有聽說-NeetCode-平台不錯用-不知道助教是否推薦"><a href="#7-建議如何練習LeetCode-才不會好像只是背答案-而不是懂背後的邏輯。有聽說-NeetCode-平台不錯用-不知道助教是否推薦" class="headerlink" title="7. 建議如何練習LeetCode? 才不會好像只是背答案,而不是懂背後的邏輯。有聽說 NeetCode 平台不錯用?不知道助教是否推薦"></a>7. 建議如何練習LeetCode? 才不會好像只是背答案,而不是懂背後的邏輯。有聽說 NeetCode 平台不錯用?不知道助教是否推薦</h3><p>就是多刷多累績經驗，看題目、看答案。<br>兩個重點，把題目看懂、把答案看懂，試著把自已的思路轉化成程式<br>平台很多：<a target="_blank" rel="noopener" href="https://neetcode.io/">NeetCode</a>、<a target="_blank" rel="noopener" href="https://leetcode.com/">Leetcode</a>、<a target="_blank" rel="noopener" href="https://www.hackerrank.com/">Hackerrank</a>  </p>
<p>思路：助教用 TDD 刷 LeetCode，實務上蠻常遇到面試造火箭、入職擰螺絲的狀態，<br>但是仍然不知道要學什麼或作什麼樣的 Side Project 時，刷題是一個好的選擇。  </p>
<h3 id="8-Junior工程師除了準備作品集-LeetCode-與程式語言的觀念外-通常面試還會考什麼嗎"><a href="#8-Junior工程師除了準備作品集-LeetCode-與程式語言的觀念外-通常面試還會考什麼嗎" class="headerlink" title="8. Junior工程師除了準備作品集,LeetCode 與程式語言的觀念外,通常面試還會考什麼嗎?"></a>8. Junior工程師除了準備作品集,LeetCode 與程式語言的觀念外,通常面試還會考什麼嗎?</h3><p>我主要會問架構與流程題，如果能把自已開發的架構與流程說明清楚，就可以同時觀察到技術能力與溝通能力。  </p>
<p>思路:常常去面試就會知道現在業界常問什麼了。  </p>
<h3 id="10-職場上在開發專案時，後端工程師的實作範圍會是全部一手包辦還是還會細分工作？或者工作架構會是怎麼分配的？"><a href="#10-職場上在開發專案時，後端工程師的實作範圍會是全部一手包辦還是還會細分工作？或者工作架構會是怎麼分配的？" class="headerlink" title="10. 職場上在開發專案時，後端工程師的實作範圍會是全部一手包辦還是還會細分工作？或者工作架構會是怎麼分配的？"></a>10. 職場上在開發專案時，後端工程師的實作範圍會是全部一手包辦還是還會細分工作？或者工作架構會是怎麼分配的？</h3><p>看公司，建議去有分工的公司，一手包辦很可能會很雷，學到的可能也是一堆大泥球的作法  </p>
<h3 id="12-除了現有AC課程之外，助教建議Junior後端工程師還需要提升哪方面的技術"><a href="#12-除了現有AC課程之外，助教建議Junior後端工程師還需要提升哪方面的技術" class="headerlink" title="12. 除了現有AC課程之外，助教建議Junior後端工程師還需要提升哪方面的技術"></a>12. 除了現有AC課程之外，助教建議Junior後端工程師還需要提升哪方面的技術</h3><p>掌握好版控與協作流程／自動化與容器化技術／實用精實的開發實踐  </p>
<ul>
<li>Git、Docker、AWS&#x2F;Azure&#x2F;GCP、K8S</li>
<li>TDD (BDD、ATDD)&#x2F; Refactoring &#x2F;Design Pattern</li>
</ul>
<h3 id="13-目前軟體業有受到景氣影響而減少職缺數嗎或停止招聘"><a href="#13-目前軟體業有受到景氣影響而減少職缺數嗎或停止招聘" class="headerlink" title="13. 目前軟體業有受到景氣影響而減少職缺數嗎或停止招聘"></a>13. 目前軟體業有受到景氣影響而減少職缺數嗎或停止招聘</h3><p>國外有一波大裁員，有影響到，但台灣本身還好<br>至少我還好  </p>
<h3 id="14-請問助教平常寫程式會如何結合AI加速開發，有建議相關課程嗎"><a href="#14-請問助教平常寫程式會如何結合AI加速開發，有建議相關課程嗎" class="headerlink" title="14. 請問助教平常寫程式會如何結合AI加速開發，有建議相關課程嗎"></a>14. 請問助教平常寫程式會如何結合AI加速開發，有建議相關課程嗎</h3><p>Github Copilot+TDD  </p>
<h3 id="15-網站若有多國語言版本，技術上要怎麼實作呢"><a href="#15-網站若有多國語言版本，技術上要怎麼實作呢" class="headerlink" title="15. 網站若有多國語言版本，技術上要怎麼實作呢?"></a>15. 網站若有多國語言版本，技術上要怎麼實作呢?</h3><p>關鍵字<code>i18n</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;tw&quot;</span>:&#123;</span><br><span class="line">        <span class="string">&quot;login&quot;</span>:<span class="string">&quot;登入&quot;</span>            </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;en&quot;</span>:&#123;</span><br><span class="line">        <span class="string">&quot;login&quot;</span>:<span class="string">&quot;Login&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="16-手機版和電腦版的網站要怎麼分割呢"><a href="#16-手機版和電腦版的網站要怎麼分割呢" class="headerlink" title="16. 手機版和電腦版的網站要怎麼分割呢?"></a>16. 手機版和電腦版的網站要怎麼分割呢?</h3><p>我知道的兩種作法</p>
<ul>
<li>RWD</li>
<li>作兩個站，比如<ul>
<li><a target="_blank" rel="noopener" href="https://xxx/m/index">https://xxx/m/index</a></li>
<li><a target="_blank" rel="noopener" href="https://xxx/index">https://xxx/index</a></li>
</ul>
</li>
</ul>
<h2 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h2><p>部份題目涉及專案內容，所以排除掉。<br>但是有關從無到有開發一個專案，或是與人合作開發專案，是整個職涯中會很常發生的事。<br>現在不作，以後也會遇到，可以儘量去嚐試。  </p>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2023/08/22/2023/ac_QA_08/" data-id="cm7d6ghdg00c92snu7aq9fj0i" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2023/08/22/2023/ac_QA_08/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E7%AD%86%E8%A8%98/" rel="tag">生活筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2023/websocket" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/08/07/2023/websocket/" class="article-date">
  <time datetime="2023-08-07T07:33:16.000Z" itemprop="datePublished">2023-08-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/08/07/2023/websocket/"> [實作筆記] Websocket 初體驗</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>tl;dr, websocket 至少是一個 10 年以上的技術了，但是筆者一直沒有機會實作它。<br>大部份的時候是應用場景不符合，或是簡單 Long Polling 已經足夠，甚至就算用 Polling 這個方法也無法把 Server 打掛。<br>另一個情況是團隊已經很成熟，有專門負責的部門在統一處理這塊邏輯，<br>而通常這塊邏輯會與主要的核心功能作切分，所以我也沒有機會接觸到。<br>這次難得有個小型的專案，有機會實作，故稍作記錄一下。</p>
<h2 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h2><p>使用者會停留在某些頁面等待系統的資料狀態更新，大約每 10 秒要作一次 Polling,<br>而平均資料狀態更新需要 3~10 分鐘不等。在這個情況下要改用 websocket,<br>（註：我不認為這是一個很好的應用場景，但是牽扯更多未揭露的調整故不展開討論,<br>EX:Heartbeat、Keep-Alive 等等…機制也未討論到）</p>
<h2 id="WebSocket-Server-實作"><a href="#WebSocket-Server-實作" class="headerlink" title="WebSocket Server 實作"></a>WebSocket Server 實作</h2><p>使用的技術：Typescript + Express + ServerSocket</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import library</span></span><br><span class="line"><span class="keyword">import</span> express, &#123; <span class="title class_">Request</span>, <span class="title class_">Response</span> &#125; <span class="keyword">from</span> <span class="string">&quot;express&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Server</span> <span class="keyword">as</span> <span class="title class_">ServerSocket</span> &#125; <span class="keyword">from</span> <span class="string">&quot;ws&quot;</span>; <span class="comment">// 引用 Server</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> !== <span class="string">&quot;production&quot;</span>) &#123;</span><br><span class="line">  <span class="built_in">require</span>(<span class="string">&quot;dotenv&quot;</span>).<span class="title function_">config</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// form env 指定一個 port</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">PORT</span>: <span class="built_in">number</span> = <span class="title class_">Number</span>(process.<span class="property">env</span>.<span class="property">WS_PORT</span>);</span><br><span class="line"><span class="comment">// 設定斷開時間</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">CT</span>: <span class="built_in">number</span> = <span class="number">1000</span> * <span class="title class_">Number</span>(process.<span class="property">env</span>.<span class="property">CONNECTION_TIMEOUT</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"><span class="keyword">const</span> server = app.<span class="title function_">listen</span>(<span class="variable constant_">PORT</span>, <span class="function">() =&gt;</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">    <span class="string">`[Server] Listening on http://localhost:<span class="subst">$&#123;PORT&#125;</span> , timeout is <span class="subst">$&#123;CT&#125;</span> ms`</span></span><br><span class="line">  )</span><br><span class="line">);</span><br><span class="line"><span class="keyword">const</span> wsServer = <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(&#123; server &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Connection opened</span></span><br><span class="line">wsServer.<span class="title function_">on</span>(<span class="string">&quot;connection&quot;</span>, <span class="function">(<span class="params">ws: WebSocket, req: Request</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// Connection 建立時發生的邏輯</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Listen for messages from client</span></span><br><span class="line">  ws.<span class="title function_">on</span>(<span class="string">&quot;message&quot;</span>, <span class="function">(<span class="params">data: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// 發送 Message 時發生的邏輯</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Invalid JSON format: &quot;</span>, data);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Get clients who has connected</span></span><br><span class="line">    <span class="keyword">const</span> clients = wsServer.<span class="property">clients</span>;</span><br><span class="line">    <span class="comment">// Use loop for sending messages to each client</span></span><br><span class="line">    clients.<span class="title function_">forEach</span>(<span class="function">(<span class="params">client</span>) =&gt;</span> &#123;</span><br><span class="line">      client.<span class="title function_">send</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(docStatus));</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// 設定 ping 時間間隔，用來讓連線太久的 Client 斷開</span></span><br><span class="line">  <span class="keyword">const</span> interval = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (ws.<span class="property">alive</span>) &#123;</span><br><span class="line">      ws.<span class="title function_">terminate</span>();</span><br><span class="line">      <span class="built_in">clearInterval</span>(interval);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ws.<span class="property">alive</span> = <span class="literal">false</span>;</span><br><span class="line">    ws.<span class="title function_">ping</span>(<span class="string">&quot;&quot;</span>, <span class="literal">false</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;[Timeout]&quot;</span>, ws.<span class="property">key</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;, <span class="variable constant_">CT</span>); <span class="comment">// 30 秒</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Connection closed</span></span><br><span class="line">  ws.<span class="title function_">on</span>(<span class="string">&quot;close&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Connection 關閉時發生的邏輯</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;[Close connected]&quot;</span>, ws.<span class="property">key</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新增一個路由處理器</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/&quot;</span>, <span class="function">(<span class="params">req: Request, res: Response</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// health and version check</span></span><br><span class="line">  res.<span class="title function_">send</span>(<span class="string">`WebSocket Running Version <span class="subst">$&#123;process.env.WS_VERSION&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="前端實作，收送雙向"><a href="#前端實作，收送雙向" class="headerlink" title="前端實作，收送雙向"></a>前端實作，收送雙向</h2><p>使用的技術：JavaScript<br>以下內容大多參考於<a target="_blank" rel="noopener" href="https://medium.com/enjoy-life-enjoy-coding/javascript-websocket-%E8%AE%93%E5%89%8D%E5%BE%8C%E7%AB%AF%E6%B2%92%E6%9C%89%E8%B7%9D%E9%9B%A2-34536c333e1b">神 Q 超人</a>的文章，<br>作為參考用，實務上會搭配使用的前端框架作修改。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ws;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 監聽 click 事件</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#connect&quot;</span>)?.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;[click connect]&quot;</span>);</span><br><span class="line">  <span class="title function_">connect</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#disconnect&quot;</span>)?.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;[click disconnect]&quot;</span>);</span><br><span class="line">  <span class="title function_">disconnect</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#sendBtn&quot;</span>)?.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> msg = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#sendMsg&quot;</span>);</span><br><span class="line">  <span class="title function_">sendMessage</span>(msg?.<span class="property">value</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">connect</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// Create WebSocket connection</span></span><br><span class="line">  ws = <span class="keyword">new</span> <span class="title class_">WebSocket</span>(<span class="string">&quot;wss://localhost:8088&quot;</span>);</span><br><span class="line">  <span class="comment">// 在開啟連線時執行</span></span><br><span class="line">  ws.<span class="property">onopen</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Listen for messages from Server</span></span><br><span class="line">    ws.<span class="property">onmessage</span> = <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 收到訊息的 Logic</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[Message from server]:\n %c<span class="subst">$&#123;event.data&#125;</span>`</span>, <span class="string">&quot;color: yellow&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">disconnect</span>(<span class="params"></span>) &#123;</span><br><span class="line">  ws.<span class="title function_">close</span>();</span><br><span class="line">  <span class="comment">// 在關閉連線時執行</span></span><br><span class="line">  ws.<span class="property">onclose</span> = <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;[close connection]&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 監聽 click 事件</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#sendBtn&quot;</span>)?.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> msg = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#sendMsg&quot;</span>);</span><br><span class="line">  <span class="title function_">sendMessage</span>(msg?.<span class="property">value</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Listen for messages from Server</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sendMessage</span>(<span class="params">msg</span>) &#123;</span><br><span class="line">  <span class="comment">// Send messages to Server</span></span><br><span class="line">  ws.<span class="title function_">send</span>(msg);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;[send message]&quot;</span>, msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="後端實作，只送不收"><a href="#後端實作，只送不收" class="headerlink" title="後端實作，只送不收"></a>後端實作，只送不收</h2><p>使用技術: php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;./vendor/autoload.php&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$client</span> = <span class="keyword">new</span> <span class="title class_">WebSocket\Client</span>(<span class="string">&quot;wss://localhost:8088&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$message</span> = <span class="title function_ invoke__">json_encode</span>(<span class="keyword">array</span>(</span><br><span class="line">    <span class="string">&quot;your_property&quot;</span> =&gt; <span class="string">&quot;Your Data&quot;</span>,</span><br><span class="line">    <span class="string">&quot;complex_property&quot;</span> =&gt; <span class="keyword">array</span>(</span><br><span class="line">        <span class="string">&quot;no&quot;</span> =&gt; <span class="number">1</span>,</span><br><span class="line">        <span class="string">&quot;status&quot;</span> =&gt; <span class="string">&quot;Hello word&quot;</span></span><br><span class="line">    )</span><br><span class="line">));</span><br><span class="line"></span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">text</span>(<span class="variable">$message</span>);</span><br><span class="line"><span class="variable">$client</span>-&gt;<span class="title function_ invoke__">close</span>();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="後記"><a href="#後記" class="headerlink" title="後記"></a>後記</h2><p>實務上在股票看盤即時更新、多人聊天室、多人網頁遊戲上或許十分有用，<br>但實際上在這此的案例上就有些大材小用了，先當作學習了。<br>在查找資料的過程有<a target="_blank" rel="noopener" href="https://www.quora.com/What-is-the-best-language-to-program-a-websocket-server-in">一段話</a>很受用,<br>我稍作總結如下：<br>當討論到 WebSocket 時，不應用 Http 的標準去審視它，<br>更應該關注這些 Connection 會持續連接多久? Connection 之間交互的行為是什麼?　　<br>是運算密集的行為還是讀寫密集的行為？…等等，才是你決策的關鍵。</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/27021102">WebSocket 与 TCP&#x2F;IP</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/enjoy-life-enjoy-coding/javascript-websocket-%E8%AE%93%E5%89%8D%E5%BE%8C%E7%AB%AF%E6%B2%92%E6%9C%89%E8%B7%9D%E9%9B%A2-34536c333e1b">JavaScript | WebSocket 讓前後端沒有距離</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/411440557">关于 websocket 到底要不要做心跳</a></li>
<li><a target="_blank" rel="noopener" href="https://www.piesocket.com/blog/php-websocket">How To Connect To WebSockets With PHP</a></li>
<li><a target="_blank" rel="noopener" href="https://thoughtbot.com/blog/json-event-based-convention-websockets">A JSON event-based convention for WebSockets</a></li>
<li><a target="_blank" rel="noopener" href="https://socket.io/">Socket.io</a></li>
<li><a target="_blank" rel="noopener" href="https://pusher.com/">Pusher.com</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2023/08/07/2023/websocket/" data-id="cm7d6ghe000er2snu5usndnbo" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2023/08/07/2023/websocket/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2023/not_working_sh_in_gitlab_ci" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/07/31/2023/not_working_sh_in_gitlab_ci/" class="article-date">
  <time datetime="2023-07-31T09:16:56.000Z" itemprop="datePublished">2023-07-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/31/2023/not_working_sh_in_gitlab_ci/"> [踩雷筆記] Gitlab CI 執行 Command 結果與本地環境不一致</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>我們建立 CI 的一個目標是讓繁鎖的工作流程自動化，<br>而自動化的前題是標準化，而自動化的未來是可以規模化。<br>每一次的自動化，就像是在為工作流程添加柴火，讓未來的的每一步可以走的更穩更快。</p>
<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><p>一直以來我認為只要在本機環境上可以執行的指令(command),就一定可以在 CI 中執行，<br>沒想到這次不一樣。</p>
<p>下面這個語法是我 CI 流程的一部份，主要的目的是要重啟 <code>pm2</code> 的服務</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pm2 restart app.js</span><br></pre></td></tr></table></figure>

<p>這段在 Gitlab-runner CI 的寫法如下，主要的目的就在 Gitlab-runner 中將指令送到指定的機器<code>$VM</code>上</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- ssh -i ~/.ssh/id_rsa gitlab-runner@$VM &#x27;pm2 restart app.j&#x27;</span><br></pre></td></tr></table></figure>

<p>不過我會收到錯誤訊息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash: pm2: command not found</span><br></pre></td></tr></table></figure>

<p>當我直接在<code>$VM</code>執行時，確又不會有錯誤</p>
<h2 id="根本原因"><a href="#根本原因" class="headerlink" title="根本原因"></a>根本原因</h2><p>原來在 Unix-like 系統中，shell 分為 Interactive Shell（互動式）和 Non-Interactive Shell（非互動式）。<br>兩者環境變數和 PATH 不同，導致在 CI 或遠程機器上執行命令可能與本地不一致</p>
<p>查詢了一下兩者的 PATH 如下</p>
<p>Interactive Shell</p>
<blockquote>
<p>&#x2F;home&#x2F;gitlab-runner&#x2F;.nvm&#x2F;versions&#x2F;node&#x2F;v20.4.0&#x2F;bin:&#x2F;usr&#x2F;local&#x2F;sbin:&#x2F;usr&#x2F;local&#x2F;bin:&#x2F;usr&#x2F;sbin:&#x2F;usr&#x2F;bin:&#x2F;sbin:&#x2F;bin:&#x2F;usr&#x2F;games:&#x2F;usr&#x2F;local&#x2F;games:&#x2F;snap&#x2F;bin</p>
</blockquote>
<p>Non-Interactive Shell</p>
<blockquote>
<p>&#x2F;usr&#x2F;local&#x2F;sbin:&#x2F;usr&#x2F;local&#x2F;bin:&#x2F;usr&#x2F;sbin:&#x2F;usr&#x2F;bin:&#x2F;sbin:&#x2F;bin:&#x2F;usr&#x2F;games:&#x2F;usr&#x2F;local&#x2F;games:&#x2F;snap&#x2F;bin</p>
</blockquote>
<p>明顯可見的差異在於<code>NVM</code>的路徑設定,這個 PATH 是在安裝 <code>NVM</code> 時被加上去的</p>
<h2 id="解法"><a href="#解法" class="headerlink" title="解法"></a>解法</h2><p>我們可以選擇重新 export NVM_DIR 這個作法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- ssh -i ~/.ssh/id_rsa gitlab-runner@$VM &#x27;export NVM_DIR=&quot;$HOME/.nvm&quot; &amp;&amp; [ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; \. &quot;$NVM_DIR/nvm.sh&quot; &amp;&amp;</span><br><span class="line">      pm2 restart app.js</span><br></pre></td></tr></table></figure>

<p>另一種作法會多上一層 shell，並再次執行互動式的 bash 我覺得較不易理解<br>不好維護，故不採用。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- ssh -i ~/.ssh/id_rsa gitlab-runner@$VM &#x27;bash -i -l -c &quot;pm2 restart app.js&quot;&#x27;</span><br></pre></td></tr></table></figure>

<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.gnu.org/software/bash/manual/html_node/What-is-an-Interactive-Shell_003f.html">What is an Interactive Shell?</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2023/07/31/2023/not_working_sh_in_gitlab_ci/" data-id="cm7d6ghdx00ee2snu3fyo6yln" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2023/07/31/2023/not_working_sh_in_gitlab_ci/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%B8%A9%E9%9B%B7%E7%AD%86%E8%A8%98/" rel="tag">踩雷筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2023/q2_work_review" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/07/20/2023/q2_work_review/" class="article-date">
  <time datetime="2023-07-20T07:56:23.000Z" itemprop="datePublished">2023-07-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/20/2023/q2_work_review/"> [生活筆記] 2023 半年工作回顧</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>這份是 2023 年, 3 至 6 月間，我在工作上獲得的成果，<br>以理性務實的態度推動各項工作，以下是在這段時間內所取得的重要成果：</p>
<h3 id="敏捷觀念的引進與實踐"><a href="#敏捷觀念的引進與實踐" class="headerlink" title="敏捷觀念的引進與實踐"></a>敏捷觀念的引進與實踐</h3><p>我引進了<code>迭代開發</code>和<code>要事優先</code>的敏捷觀念，<br>同時建立了 PBI（產品待辦項目）與工作看板，以確保團隊的<code>工作透明度</code>。<br>我們每日召開立會，及時更新資訊，並建立了<code>文件系統</code>，以便於知識的分享與傳承。</p>
<h3 id="前後端分離的優化"><a href="#前後端分離的優化" class="headerlink" title="前後端分離的優化"></a>前後端分離的優化</h3><p>我推動了<code>前後端分離</code>的工作方式，使專業得以適當分工，減少了彼此等待的時間。<br>這樣的優化使得服務可以被重複使用，避免了重複開發，節省了寶貴的時間與資源。</p>
<h3 id="自動化的部署機制引入-CI-CD"><a href="#自動化的部署機制引入-CI-CD" class="headerlink" title="自動化的部署機制引入(CI&#x2F;CD)"></a>自動化的部署機制引入(CI&#x2F;CD)</h3><p>我們成功建立了<code>自動化的部署機制</code>，每次部署都節省了至少 10~30 分鐘的時間，<br>同時大幅<code>減少了人工操作可能帶來的錯誤風險</code>。<br>這項優化為團隊帶來了高效率與更穩定的工作環境。<br>這是持續性的正面效益，假設每周部署 10 人次以上，以換算時薪為 600 計算，<br>每年每位 RD 約可以省下等值於 8 萬的工作時間。並大幅下降風險。</p>
<h3 id="準時交付-N-系統，完成參展目標"><a href="#準時交付-N-系統，完成參展目標" class="headerlink" title="準時交付 N 系統，完成參展目標"></a>準時交付 N 系統，完成參展目標</h3><p>我們順利地在新加坡、法國、台北和高雄四地參展，並提供了展場現場的支援，<br>這已超出我們本職專業的範疇。<br>但我們成功地達成目標，贏得了更多的曝光與商機。</p>
<h3 id="帶回自主開發的-I-上鏈系統，省下外包費用"><a href="#帶回自主開發的-I-上鏈系統，省下外包費用" class="headerlink" title="帶回自主開發的 I 上鏈系統，省下外包費用"></a>帶回自主開發的 I 上鏈系統，省下外包費用</h3><p>為了節省成本，我們將原本要外包的 I 上鏈系統帶回自主開發，從而節省了公司大筆的費用與時間。<br>這項舉措不僅讓我們獲得了更多的控制權，還提升了整體效率。<br>此項目，粗估至少擁有 300 萬以上的產值。</p>
<h3 id="其他突破與調整"><a href="#其他突破與調整" class="headerlink" title="其他突破與調整"></a>其他突破與調整</h3><p>除了以上成果，我還做了以下貢獻：</p>
<ul>
<li>解決了公司 domain 數量達到上限的問題，通過與系統商的溝通，成功解除了限制。</li>
<li>幫助查找了未關閉的 AWS 資源，避免了資源的浪費。</li>
<li>調整了資安需求，提高了系統的安全性。</li>
<li>協助調解了系統與需求之間的衝突，確保了順利推進工作。</li>
<li>未來的發展計劃</li>
<li>為了持續推動工作的進步，我擬定了以下計劃：</li>
</ul>
<h3 id="下一步"><a href="#下一步" class="headerlink" title="下一步"></a>下一步</h3><ul>
<li>將預計外包的 P 系統帶回自主開發，進一步節省公司費用。粗估其價值為 110~800 萬之間。</li>
<li>積極招募人才，引進新血，提升團隊實力。</li>
<li>推進單雲轉多雲的轉型，增加靈活性與彈性。</li>
<li>針對資安問題進行調整，包括關閉公開 IP 和加密資料等措施。</li>
<li>處理舊系統 L 的大泥球，逐步優化系統結構，提高整體效率。</li>
</ul>
<h3 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h3><p>整體而言，在短短三個月內，接手的專案已為公司撙節了 <code>150 萬</code> 左右的支出，<br>而在自動化工具，用一個粗略評估的方式，假設每周每個 RD 會部署 5 次，<br>一年 52 周，一次部署可以省下 10 分鐘的情況下，目前公司 5 位 RD:<br>5*5*52*10&#x3D; 13000 分鐘，大約可以省下 <code>1.25 個人月</code>，用來作更有意義的事。<br>而其它工作在長久看來也會持續帶來收益，整體而言，這三個月的產值已超過 <code>500 萬</code>。<br>希望在未來的日子裡，能夠持續取得進步，為公司的發展做出更大的貢獻。</p>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2023/07/20/2023/q2_work_review/" data-id="cm7d6ghdx00eh2snu35746lef" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2023/07/20/2023/q2_work_review/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E7%AD%86%E8%A8%98/" rel="tag">生活筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2023/github_action_output_console_logs" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/07/14/2023/github_action_output_console_logs/" class="article-date">
  <time datetime="2023-07-14T10:12:02.000Z" itemprop="datePublished">2023-07-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/14/2023/github_action_output_console_logs/"> [實作筆記] GitHub Actions：停用 save-state 和 set-output 命令的措施</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>GitHub Actions 是一個強大的自動化工作流程工具，可讓您在 GitHub 存儲庫中執行各種自動化任務。<br>它允許您根據事件觸發工作流程，例如提交代碼或創建拉取請求。<br>您可以使用預設的操作或自定義操作來建立工作流程，並將其用於自動化測試、部署、持續集成等開發流程。<br>GitHub Actions 提供了一個靈活、可擴展和可自訂的方式來增強您的開發工作流程。</p>
<p>而我實務上的情境是用來寫 Blog，並進行自動部署，而我注意到了一個警告訊息。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Warning: The `set-output` command is deprecated and will be disabled soon. Please upgrade to using Environment Files. For more information see: https://github.blog/changelog/2022-10-11-github-actions-deprecating-save-state-and-set-output-commands/</span><br></pre></td></tr></table></figure>

<h2 id="問題"><a href="#問題" class="headerlink" title="問題"></a>問題</h2><p>在 Github 的官方 Blog 指出，自 CI Runner 版本 2.298.2 起，<br>如果用戶在使用 save-state 或 set-output 將開始發出警告。<br>並計劃在 2023 年 5 月 31 日完全禁用它們。<br>從 2023 年 6 月 1 日開始，使用 <code>save-state</code> 或 <code>set-output</code> 命令的工作流程將因錯誤而失敗。</p>
<h3 id="補充"><a href="#補充" class="headerlink" title="補充"></a>補充</h3><p>實際上根據 Github 觀測數據顯示，這些命令的使用率相當高。<br>考慮到受影響的客戶數量，而推遲了移除的時間。</p>
<h2 id="我的情況"><a href="#我的情況" class="headerlink" title="我的情況"></a>我的情況</h2><p>為什麼我會用到這值呢？看看我的 CD 部署檔</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## Skip ...</span></span><br><span class="line"><span class="attr">step:</span></span><br><span class="line">  <span class="comment"># Deploy hexo blog website.</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span></span><br><span class="line">    <span class="attr">id:</span> <span class="string">deploy</span></span><br><span class="line">    <span class="attr">uses:</span> <span class="string">marsen/hexo-action@v1.0.8</span></span><br><span class="line">    <span class="attr">with:</span></span><br><span class="line">      <span class="attr">deploy_key:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DEPLOY_KEY</span> <span class="string">&#125;&#125;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Get</span> <span class="string">the</span> <span class="string">output</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">      echo &quot;$&#123;&#123; steps.deploy.outputs.notify &#125;&#125;&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="comment">## Skip ...</span></span><br></pre></td></tr></table></figure>

<p>在我這裡有兩步驟，Deploy 　與 Get the output<br>Deploy 直接用了我的另一專案進行部署，內部的工作簡單的說明如下：</p>
<ol>
<li>用 Dockerfile 建立執行環境</li>
<li>拉取 Hexo Blog</li>
<li>執行相關指令 ex: <code>hexo g</code></li>
<li>部署完成印出成功訊息</li>
</ol>
<p>問題就出在這個第四步，在 Github Runner 啟動的 image 執行過程的輸出，<br>並不會顯示在 Action Steps 的 Output 資料之中。<br>所以在這個專案多作一步 <code>Get the output</code> 來印出這個訊息。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Get</span> <span class="string">the</span> <span class="string">output</span></span><br><span class="line">  <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line">    <span class="string">echo</span> <span class="string">&quot;$<span class="template-variable">&#123;&#123; steps.deploy.outputs.notify &#125;&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>可以知道我們的訊息是放在 <code>steps.deploy.outputs.notify</code> 之中，<br>而原始接出資料的方式如下，這個作法即將被逃汰了(為了避免無意間的資訊外洩)</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo ::set-output name=notify::&quot;Deploy complate.&quot;</span><br></pre></td></tr></table></figure>

<h2 id="解決方式"><a href="#解決方式" class="headerlink" title="解決方式"></a>解決方式</h2><p>如果官方 Blog 所說，你只要將 key-value 用以下的形式設定到環境變數 <code>$GITHUB_OUTPUT</code> 即可，</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;&#123;key&#125;=&#123;value&#125;&quot; &gt;&gt; $GITHUB_OUTPUT</span><br></pre></td></tr></table></figure>

<p>舉例來說:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result=&quot;Deploy complate.&quot;</span><br><span class="line">echo &quot;notify=$result&quot; &gt;&gt; $GITHUB_OUTPUT</span><br></pre></td></tr></table></figure>

<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://github.blog/changelog/2022-10-11-github-actions-deprecating-save-state-and-set-output-commands/">GitHub Actions: Deprecating save-state and set-output commands</a></li>
<li><a href="https://blog.marsen.me/2022/09/26/2022/Hexo_CICD/">[實作筆記] Hexo CI&#x2F;CD 設置</a></li>
<li><a href="https://blog.marsen.me/2022/09/26/2022/Hexo_CICD/">[實作筆記] Hexo CI 自動執行 ncu -u 更新相依套件</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2023/07/14/2023/github_action_output_console_logs/" data-id="cm7d6ghdo00d62snu6tarhc9w" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2023/07/14/2023/github_action_output_console_logs/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2023/gcp_vm_upload_file_to_gcs_answer_is_vpc_settings" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/07/12/2023/gcp_vm_upload_file_to_gcs_answer_is_vpc_settings/" class="article-date">
  <time datetime="2023-07-12T09:57:23.000Z" itemprop="datePublished">2023-07-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/12/2023/gcp_vm_upload_file_to_gcs_answer_is_vpc_settings/"> [踩雷筆記] 移除 VM 外部 IP 後 GCS 檢查異常的問題</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>我們使用 GCP Compute Engine 建立 VM，並且配置了一個對外的 IP(External IP)，<br>同時設定了一個排程，定期將 VM 上產生的資料轉存到 GCS(Google Cloud Storage)，<br>我們主要使用的工具是 <code>gcloud</code> 並且在 VM 上設定了某個 Service Account，<br>並且一切運作順利。</p>
<p>某日因為資安考量我們移除了 VM 的 External IP，而搬檔到 GSC 的排程就異常了。<br>我們簡單使用以下指令作檢查</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud storage ls</span><br></pre></td></tr></table></figure>

<p>這個指令會列出我們 GCS 上的資源，<br>當 VM 有 External IP 時一切運作正常，而移除時會無回應。</p>
<h2 id="解決方法"><a href="#解決方法" class="headerlink" title="解決方法"></a>解決方法</h2><p>這裡只需要修改 GCP 的 VPC 設定，<br>選擇 subnet (ex:asia-east1，看你的 VM 在哪個 Zone)<br>啟用 Private Google access 為 On 然後存檔</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/54984713/how-to-read-from-a-storage-bucket-from-a-gce-vm-with-no-external-ip">How to read from a Storage bucket from a GCE VM with no External IP?</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2023/07/12/2023/gcp_vm_upload_file_to_gcs_answer_is_vpc_settings/" data-id="cm7d6ghdn00d12snu840teb7u" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2023/07/12/2023/gcp_vm_upload_file_to_gcs_answer_is_vpc_settings/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%B8%A9%E9%9B%B7%E7%AD%86%E8%A8%98/" rel="tag">踩雷筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2023/gcp_iap_and_iam" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/07/10/2023/gcp_iap_and_iam/" class="article-date">
  <time datetime="2023-07-10T08:23:19.000Z" itemprop="datePublished">2023-07-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/10/2023/gcp_iap_and_iam/"> [實作筆記] GCP 使用 IAP 連線 VM</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="簡介-IAP（Identity-Aware-Proxy"><a href="#簡介-IAP（Identity-Aware-Proxy" class="headerlink" title="簡介 IAP（Identity-Aware Proxy"></a>簡介 IAP（Identity-Aware Proxy</h2><p>GCP 的 IAP（Identity-Aware Proxy）是一個身份驗證和授權服務，<br>用於保護和管理對 Google Cloud 資源的訪問。<br>它提供了對虛擬機器（VM）實例的安全連接和控制，並可用於 SSH、RDP 等流量的安全轉發(Forwarding)。</p>
<p>通過 IAP，我們可以實現零信任訪問模型，僅允許經過身份驗證和授權的用戶訪問資源，<br>並且可以根據用戶的身份和上下文進行細粒度的訪問控制。<br>這提高了資源的安全性並減少了潛在的安全風險。</p>
<h3 id="零信任訪問模型"><a href="#零信任訪問模型" class="headerlink" title="零信任訪問模型"></a>零信任訪問模型</h3><p>零信任訪問模型（Zero Trust Access Model）是一種安全設計方法，該方法不假設內部網絡是可信的，<br>並對每個訪問請求進行驗證和授權，無論該請求來自內部還是外部網絡。<br>在零信任模型中，所有訪問都需要通過驗證和授權，並且需要進一步的身份驗證和授權步驟，<br>以確定用戶是否具有訪問資源的權限，更多可以查看參考資料。</p>
<h3 id="比較-VPN-與-RDP"><a href="#比較-VPN-與-RDP" class="headerlink" title="比較 VPN 與 RDP"></a>比較 VPN 與 RDP</h3><p>其他常見的連線方式包括傳統的虛擬專用網絡（VPN）和遠程桌面協議（RDP），<br>它們通常用於在企業內部建立安全連接，但對於雲環境和遠程用戶來說，這些方法可能不夠靈活和安全。</p>
<p>IAP 提供了一個更強大和安全的連接方式。<br>它在零信任訪問模型下工作，通過驗證和授權機制確保只有經過驗證的用戶可以訪問資源。<br>以下是 IAP 的優勢：</p>
<ul>
<li>精確的身份驗證和授權：IAP 可以根據用戶的身份和上下文進行細粒度的訪問控制，僅允許授權的用戶訪問資源。</li>
<li>無需公開 IP 地址：IAP 通過提供 IAP 隧道和代理服務，不需要公開資源的實際 IP 地址，增強了安全性。</li>
<li>雲原生和易於使用：IAP 是 GCP 的原生服務，與其他 GCP 服務整合，易於設置和管理。</li>
</ul>
<h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>客戶在 GCP 上部署了多台 VM，每個 VM 都有公開的外部 IP 地址，並允許開發者使用 SSH 進行連線。<br>這樣的設置存在著安全風險，也需要為這些公開的 IP 付出額外的成本。</p>
<p>為了提高安全性並解決這個問題，我們使用 GCP 的 IAP（Identity-Aware Proxy）。<br>透過 IAP，我可以實現更安全的連線方式，不需要使用 Public IP 。<br>IAP 提供了精確的身份驗證和授權，只有經過驗證的使用者才能訪問 VM。<br>這種設置符合零信任訪問模型，提高了資源的安全性，同時減少了潛在的安全風險。</p>
<h3 id="實務操作"><a href="#實務操作" class="headerlink" title="實務操作"></a>實務操作</h3><p>我有一台測試用的 VM <code>beta</code> 已經拔除了 public IP,</p>
<ol>
<li><p>首先啟用(enable) Cloud Identity-Aware Proxy API,「Security」-&gt;「Identity-Aware Proxy」</p>
</li>
<li><p>在 IAM &gt; Permissions 找到需要登入 VM 主機的帳戶加上「IAP-secured Tunnel User」這個角色</p>
</li>
<li><p>防火牆規則，IP Range: <code>35.235.240.0/20</code>, 開通指定的 Protocols and ports，比如我們要 SSH 連線，就開通 <code>tcp:22</code>，Targets 設為 <code>Specified targets tags</code> Target tags 為 <code>ingress-from-iap</code>,</p>
</li>
<li><p>需要登入 VM 加上 tag <code>ingress-from-iap</code></p>
</li>
<li><p>可以用以下語法測試連線</p>
<blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute ssh beta --project=my-project --zone=asia-east1-c --troubleshoot --tunnel-through-iap</span><br></pre></td></tr></table></figure></blockquote>
</li>
<li><p>排除所有問題後嚐試連線</p>
<blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcloud compute ssh beta --project=my-project --zone=asia-east1-c --tunnel-through-iap</span><br></pre></td></tr></table></figure></blockquote>
</li>
</ol>
<h3 id="補充說明"><a href="#補充說明" class="headerlink" title="補充說明"></a>補充說明</h3><ul>
<li>開發環境在連線時已經透過 <code>gcloud auth login</code> 取得權限了。</li>
<li>連線的目標主機仍然需要設定 SSH 金鑰</li>
<li><code>35.235.240.0/20</code> 是 GCP 中 IAP 使用的特定 IP 範圍，不可修改</li>
</ul>
<h4 id="20230711-補充"><a href="#20230711-補充" class="headerlink" title="20230711 補充"></a>20230711 補充</h4><p>透過 IAP 連線會出現　“Increasing the IAP TCP upload bandwidth”　的警告<br>可以參考<a target="_blank" rel="noopener" href="https://cloud.google.com/iap/docs/using-tcp-forwarding#increasing_the_tcp_upload_bandwidth">官方文件</a></p>
<p>下載 Numpy</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(gcloud info --format=<span class="string">&quot;value(basic.python_location)&quot;</span>) -m pip install numpy</span></span><br></pre></td></tr></table></figure>

<p>設定環境變數</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export CLOUDSDK_PYTHON_SITEPACKAGES=1</span><br></pre></td></tr></table></figure>

<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://cloud.google.com/iap/docs/concepts-overview">IAP Concepts Overview</a> ‘</li>
<li><a target="_blank" rel="noopener" href="https://cloud.google.com/iap/docs/using-tcp-forwarding#preparing_your_project_for_tcp_forwarding">Preparing your project for IAP TCP forwarding</a></li>
<li><a target="_blank" rel="noopener" href="https://www.webcomm.com.tw/blog/zero-trust-security-model/">新世代資安概念：零信任安全模型介紹(Zero Trust)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.cloudflare.com/zh-tw/learning/security/glossary/what-is-zero-trust/">Zero Trust 安全性 | 什麼是 Zero Trust 網路？</a></li>
<li><a target="_blank" rel="noopener" href="https://joehuang-pop.github.io/2020/10/25/GCP-%E4%BD%A0%E9%82%84%E5%9C%A8%E7%94%A8VPN%E9%80%A3%E7%B7%9A%E5%97%8E%EF%BC%9F-%E5%BF%AB%E9%BB%9E%E8%A9%A6%E8%A9%A6Cloud-IAP%EF%BC%8C%E8%B3%87%E5%AE%89%E6%89%8B%E6%B3%95%E5%A4%A7%E9%96%8B%E5%85%AC-Giving-it-a-Try-to-let-Cloud-IAP-protect-your-system-%E4%B8%8A/">[GCP] 你還在用 VPN 連線嗎？ 快點試試 Cloud IAP，資安手法大開公 | Giving it a Try to let Cloud IAP protect your system (上)</a></li>
<li><a target="_blank" rel="noopener" href="https://joehuang-pop.github.io/2020/10/25/GCP-%E7%B6%B2%E9%A0%81%E9%80%8F%E9%81%8ECloud-IAP%E4%BF%9D%E8%AD%B7-Giving-it-a-Try-to-let-Cloud-IAP-protect-your-system-%E4%B8%8B/">[GCP] 網頁透過 Cloud IAP 保護 | Giving it a Try to let Cloud IAP protect your system (下)</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2023/07/10/2023/gcp_iap_and_iam/" data-id="cm7d6ghdm00cw2snu4w4a5erg" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2023/07/10/2023/gcp_iap_and_iam/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2023/song_story_I_miss_him_too" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/07/05/2023/song_story_I_miss_him_too/" class="article-date">
  <time datetime="2023-07-05T05:02:14.000Z" itemprop="datePublished">2023-07-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/07/05/2023/song_story_I_miss_him_too/"> [生活筆記] 歌的故事-我也很想他</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="寫在前面"><a href="#寫在前面" class="headerlink" title="寫在前面"></a>寫在前面</h2><p>有時候聽到一些歌，會覺得很有畫面感，甚至有一個故事。<br>會想要了解，但是隨著時間流逝，這些資訊會越來越難取得。<br>如果有找到的話，就放在這裡備份吧。</p>
<h2 id="我也很想他-–-孫燕姿"><a href="#我也很想他-–-孫燕姿" class="headerlink" title="我也很想他 – 孫燕姿"></a>我也很想他 – 孫燕姿</h2><h3 id="資料來源"><a href="#資料來源" class="headerlink" title="資料來源"></a>資料來源</h3><p>e娛樂 updated: November 26, 2004 17:54</p>
<p>e歌樂全盒<br>彭學斌我也很想他</p>
<p>報導：王慧霞</p>
<h3 id="故事"><a href="#故事" class="headerlink" title="故事"></a>故事</h3><p>彭學斌因為陳穎見<br>寫下我也很想他  </p>
<p>“一波三折”，可說是《我也很想他》的最佳寫照。  </p>
<p>這首由大馬知名音樂人彭學斌填詞譜曲的《我也很想他》，在歷經兩度被退歌的命運后，<br>在轉轉折折之間，竟然落在亞洲小天后孫燕姿的手中，並且收錄在“東山復出”的專輯《<br>Stefanie》之中。  </p>
<p>與此同時，《我》亦成了目前最受矚注的日本電影《在世界的中心呼喊愛情》台灣中文主<br>題曲，無疑為這首訴說一段淡淡情愁的情歌中，倍添了幾分秋天的落寞。  </p>
<p>“歌曲背后的故事，我想是因為思念而開始了這首歌的創作。記得有一天，陳穎見的妹妹<br>專程來找我喝茶聊天，聊著聊著就聊起了遠在國外唸書的穎見。回到家之后，她突然傳了<br>個簡訊給我，告訴我說：我真的很想他（穎見）；于是，我回簡訊給她，告訴她，我也很<br>想他。突然間，我泛起了一絲絲的靈感，就把當下的心情寫成歌詞，于是就有了這首歌的<br>誕生。”學斌如是說。  </p>
<p>接著，經由版權公司的大力推薦，學斌便把這首歌交給當時一位正在收歌的台灣女新人演<br>唱，結果因曲風不適合而被彈回票，之后交由另一位偶像男歌手聽時，結果還是不獲青睞<br>。不過，有麝自然香，在幾經波折之下，這首歌卻落在了燕姿手中，叫他既意外又欣喜。  </p>
<p>學斌透露，這首歌原本是決定收錄在燕姿“暫休”前的上一張的新歌加精選專輯當中，但<br>她和制作人的要求都頗高，一直覺得還唱不出這首歌所要的感覺，所以歌詞一修再修，挪<br>至1年后才見天日。  </p>
<p>學斌欣慰地表示：“我不怕等待，只要對的人出現，那就是對的時機。”  </p>
<p>對于修詞一事，學斌表示若符合歌手本身的特質，他倒是不介意。他表示，這首歌雖然被<br>修改了逾40%，由他對友人的思念意境，改為現在大家所看到的版本，但慶幸沒有乖离他<br>的本意，而燕姿深情的演繹，亦讓他倍覺感動。  </p>
<p>學斌續指出，經過April的修改之后，把歌曲意境轉為是在訴說著兩女一男的感情故事。<br>透過燕姿的眼光，看著一對好友的經過相愛、傷害的情景，畫面楚楚動人，再加上悠悠的<br>旋律，輕易就勾起人們對于思念的因子。  </p>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2023/07/05/2023/song_story_I_miss_him_too/" data-id="cm7d6ghdy00ej2snu91pi4mej" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2023/07/05/2023/song_story_I_miss_him_too/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2023/mongo_atlas_peering_gcp_vpc" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2023/06/27/2023/mongo_atlas_peering_gcp_vpc/" class="article-date">
  <time datetime="2023-06-27T10:19:33.000Z" itemprop="datePublished">2023-06-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2023/06/27/2023/mongo_atlas_peering_gcp_vpc/"> [實作筆記] MongoDB 解決方案評估-- Mongo Atlas</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="前情提要"><a href="#前情提要" class="headerlink" title="前情提要"></a>前情提要</h2><p>最近在 VM 部署了 MongoDB, 不知道為什麼同事在 QA 與正式環境採取了兩個不同的作法，<br>因此產生了一些版本不一致的問題。<br>為此需要更換 MongoDB 版本，進而有一些討論，　　<br>決策的考量主要有兩個面向，一、維運的成本。二、實際應付的帳務成本。<br>可行的方案比較如下，</p>
<ul>
<li>VM 部署 MongoDB<ul>
<li>GCP</li>
<li>Azure</li>
<li>Other Cloud …</li>
</ul>
</li>
<li>Mongo Atlas(Start from GCP Marketing)<ul>
<li>GCP VM with MongoDB(Pay as You Go)</li>
<li>Azure VM with MongoDB</li>
</ul>
</li>
<li>Azure CosmosDB</li>
</ul>
<h2 id="實作隨筆：Mongo-Atlas-Start-from-GCP-Marketing"><a href="#實作隨筆：Mongo-Atlas-Start-from-GCP-Marketing" class="headerlink" title="實作隨筆：Mongo Atlas(Start from GCP Marketing)"></a>實作隨筆：Mongo Atlas(Start from GCP Marketing)</h2><h3 id="測試規劃"><a href="#測試規劃" class="headerlink" title="測試規劃"></a>測試規劃</h3><p><img src="/../../images/2023/mongo_atlas_test_infra.png" alt="mongo atlas 連線的測試架構"></p>
<p>如圖，為了不影響原有的環境，我打算建一組新的 VPC Network 進行實驗，<br>並在這個網路中建立一台實體的 VM 機器，待 Mongo Atlas 設定完成後，<br>進行連線的測試。</p>
<p>測試的方法，由於 MongoDB Atlas 採用一種安全性較高的連線政策，<br>必需使用以下連線集群的三種方式才可以連到資料庫:<br>第一種，IP Access List，使用 GUI 建立 Cluster 的當下會自動加入一組你所在網路對外的 IP，<br>如果不是固定 IP 可能會有問題<br>第二種，Peering ，要付錢的版本 M10 以上才可用，也是我們這次實作的重點目標<br>最後一種，Create a Private Endpoint，也是<br>M10 以上才可用，但是不是我們這次的主要實作項目，所以不過多的展開。</p>
<h3 id="從-GCP-Marketing-建立-Mongo-Atlas"><a href="#從-GCP-Marketing-建立-Mongo-Atlas" class="headerlink" title="從 GCP Marketing 建立 Mongo Atlas"></a>從 GCP Marketing 建立 Mongo Atlas</h3><p>在 GCP 的 Marketing 搜尋並訂閱 Mongo Atlas 後點擊 <code>MANAGE ON PROVIDER</code><br>在 Mongo Atlas 建立 Cluster，也可以建立 Project 與 User 作更細緻的管控。<br>這時候可以到 Network Access 查看 IP Access List 的清單，應該會有你網路上設定的對外 IP,<br>這個流程是自動化的，但是我個人認為不是固定 IP 的話可能會有問題，如果有人可以給我一些提點會十分感激。</p>
<p><img src="/../../images/2023/mongo_atlas_ip_access_list.png" alt="IP Access List"></p>
<h3 id="建立-VM"><a href="#建立-VM" class="headerlink" title="建立 VM"></a>建立 VM</h3><p><a target="_blank" rel="noopener" href="https://cloud.google.com/compute/docs/instances/create-start-instance">GCP 建立 VM</a> 是十分簡單的，就不多作說明。<br>同時記得安裝我們的<a target="_blank" rel="noopener" href="https://www.mongodb.com/docs/mongodb-shell/install/">測試工具 - mongosh</a></p>
<h3 id="Mongo-DB-相關"><a href="#Mongo-DB-相關" class="headerlink" title="Mongo DB 相關"></a>Mongo DB 相關</h3><h4 id="切換-db"><a href="#切換-db" class="headerlink" title="切換 db"></a>切換 db</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use mydb</span><br></pre></td></tr></table></figure>

<h4 id="查詢目前-DB-狀態"><a href="#查詢目前-DB-狀態" class="headerlink" title="查詢目前 DB 狀態"></a>查詢目前 DB 狀態</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.status()</span><br></pre></td></tr></table></figure>

<h4 id="Create-User"><a href="#Create-User" class="headerlink" title="Create User"></a>Create User</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.createUser(&#123; <span class="keyword">user</span>: &quot;username&quot;, pwd: &quot;password&quot;, roles: [&#123; role: &quot;roleName&quot;, db: &quot;databaseName&quot; &#125;] &#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Drop-User"><a href="#Drop-User" class="headerlink" title="Drop User"></a>Drop User</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.dropUser(&quot;username&quot;);</span><br></pre></td></tr></table></figure>

<h4 id="查詢-User"><a href="#查詢-User" class="headerlink" title="查詢 User"></a>查詢 User</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.getUsers()</span><br></pre></td></tr></table></figure>

<h4 id="User-加入角色"><a href="#User-加入角色" class="headerlink" title="User 加入角色"></a>User 加入角色</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.grantRolesToUser(&quot;username&quot;, [&#123; role: &quot;readWriteAnyDatabase&quot;, db: &quot;mydb&quot; &#125;])</span><br></pre></td></tr></table></figure>

<h4 id="User-移除角色"><a href="#User-移除角色" class="headerlink" title="User 移除角色"></a>User 移除角色</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.revokeRolesFromUser(&quot;usernmae&quot;, [&#123; role: &quot;readWrite&quot;, db: &quot;admin&quot; &#125;])</span><br></pre></td></tr></table></figure>

<h3 id="前置作業-GCP-VPC-與-Firewall-Rules-設定"><a href="#前置作業-GCP-VPC-與-Firewall-Rules-設定" class="headerlink" title="前置作業: GCP VPC 與 Firewall Rules 設定"></a>前置作業: GCP VPC 與 Firewall Rules 設定</h3><p>為了避免影響原有的系統，<br>建立 GCP 一組新的 VPC Network : <code>vpc-lab</code>，一般來說 GCP 的專案會有自動建立一組 <code>default</code> VPC Network，<br>而 <code>default</code> VPC Network 會預設建立以下的防火牆規則</p>
<ul>
<li>default-allow-icmp – 允許來自任何來源對所有網路 IP 進行存取。ICMP 協議主要用於對目標進行 ping 測試。</li>
<li>default-allow-internal – 允許在任何埠口上的實例之間建立連接。</li>
<li>default-allow-rdp – 允許從任何來源連接到 Windows 伺服器的 RDP 會話。</li>
<li>default-allow-ssh – 允許從任何來源連接到 UNIX 伺服器的 SSH 會話。</li>
</ul>
<p>與此對應，我也建立相同的規則給<code>vpc-lab</code>，如下:</p>
<ul>
<li>vpc-lab-allow-icmp</li>
<li>vpc-lab-allow-internal</li>
<li>vpc-lab-allow-rdp</li>
<li>vpc-lab-allow-ssh</li>
</ul>
<p>可以用以下的語法測試一下網路是否能連，如果可以連線再進行 mongodb connection 的測試</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping &#123;ip address&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet &#123;ip address&#125; &#123;port&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -zv &#123;ip address&#125;</span><br></pre></td></tr></table></figure>

<h3 id="測試連線用的語法"><a href="#測試連線用的語法" class="headerlink" title="測試連線用的語法"></a>測試連線用的語法</h3><p>如果網路測試沒有問題，再進行 mongodb 的連線，由於目前沒有設定 Peering 連線，<br>所以在開發機上可以(網路環境需要在 IP Access List 內)，而使用 GCP VM 會無法連線，<br>開發機連線 GCP MongoDB 語法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongosh mongodb://&#123;user:pwd&#125;@&#123;mongodb_ip&#125;:27017/my_db</span><br></pre></td></tr></table></figure>

<p>開發機連線 MongoDB Atlas 語法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongosh mongodb+srv://&#123;user:pwd&#125;@&#123;atlas_cluster_name&#125;.mongodb.net/my_db</span><br></pre></td></tr></table></figure>

<h3 id="Peering-實作"><a href="#Peering-實作" class="headerlink" title="Peering 實作"></a>Peering 實作</h3><p>首先需要在 Mongo Atlas 進行設定，<br>Network Access &gt; Peering &gt; Add Peering Connection<br>在 Cloud Provider 中選擇 GCP，</p>
<p><img src="/../../images/2023/mongo_atlas_settings.png" alt="Mongo Atlas Setting"></p>
<p>設定 Project ID、VPC Name 與 Atlas CIDR，<br>比較特殊的是 Atlas CIDR 在 GUI 的說明是</p>
<blockquote>
<p>An Atlas GCP CIDR block must be a &#x2F;18 or larger.<br>You cannot modify the CIDR block if you have an existing cluster.</p>
</blockquote>
<p><strong>但我遇到的狀況是，無法修改預設值為 <code>192.168.0.0/16</code></strong><br>建立後會產生一組 Peering 的資料，請記住 Atlas GCP Project ID 與 Atlas VPC Name</p>
<p><img src="/../../images/2023/mongo_atlas_peering.png" alt="Mongo Atlas Peering"></p>
<p>接下來到 GCP &gt; VPC Network &gt; GCP Network Peering 選擇 Create peering connection<br>在 Peered VPC network 中選擇 Other Project，並填入上面的 Atlas GCP Project ID 與 Atlas VPC Name</p>
<p>大概等待一下子就會生效了(網路上寫 10 分鐘，實測不到 3 分鐘)</p>
<h2 id="參考"><a href="#參考" class="headerlink" title="參考"></a>參考</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.mongodb.com/docs/atlas/security-vpc-peering/">Set Up a Network Peering Connection</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.cloud-ace.tw/database/gcp-mongodb-atlas/">在 GCP 中使用 MongoDB Atlas 服務</a></li>
<li><a target="_blank" rel="noopener" href="https://geekflare.com/gcp-firewall-configuration/">How to Configure Firewall Rules in Google Cloud Platform(GCP)</a></li>
</ul>
<p>(fin)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://blog.marsen.me/2023/06/27/2023/mongo_atlas_peering_gcp_vpc/" data-id="cm7d6ghdw00e72snu7eco92fi" class="article-share-link">Share</a>
      
        <a href="https://blog.marsen.me/2023/06/27/2023/mongo_atlas_peering_gcp_vpc/#disqus_thread" class="article-comment-link">留言</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/5/">← 上一頁</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/30/">30</a><a class="extend next" rel="next" href="/page/7/">下一頁 →</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/02/20/2025/ai-deepseek/"> [實作筆記] 試玩 DeepSeek 與避免思想審查</a>
          </li>
        
          <li>
            <a href="/2025/02/17/2025/ai-breezyvoice/"> [實作筆記] 試用 Breezy Voice</a>
          </li>
        
          <li>
            <a href="/2025/02/14/2025/ai-ollama/"> [實作筆記] 在 MacBook 上安裝與使用 Ollama</a>
          </li>
        
          <li>
            <a href="/2025/01/21/2025/fast_lunach_mysql/"> [實作筆記] 使用 Docker 一鍵生成 Sample 資料庫</a>
          </li>
        
          <li>
            <a href="/2025/01/02/2025/fastapi_middleware/"> [實作筆記] FastAPI 的　middleware</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">彙整</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">二月 2025</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">一月 2025</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">十二月 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">十一月 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">十月 2024</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">八月 2024</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/07/">七月 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">六月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">五月 2024</a><span class="archive-list-count">1</span></li><span id='list_archives2' style='display:none'><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">四月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">二月 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">十月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">九月 2023</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">八月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">七月 2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">六月 2023</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">五月 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">四月 2023</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">三月 2023</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">一月 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">十二月 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">九月 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">八月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">七月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">六月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">十二月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">十月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">九月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">二月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">十月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">九月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">八月 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">五月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">十二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">十一月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">6</span></li></span><span id=''></span><span onclick="var d=document.getElementById('list_archives2'); d.style.display===''?d.style='display:none':d.style=''">toggle...</span></ul>
    </div>
  </div>


  
    <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/3.0/tw/">
  <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/3.0/tw/88x31.png" />
</a>
  <br />
This work is licensed under a 
<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-nd/3.0/tw/">Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Taiwan License</a>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤雲</h3>
    <div class="widget tagcloud">
      <a href="/tags/Net-Framework/" style="font-size: 14.67px;">.Net Framework</a> <a href="/tags/API/" style="font-size: 11.33px;">API</a> <a href="/tags/AWS/" style="font-size: 13.33px;">AWS</a> <a href="/tags/Agile/" style="font-size: 17.33px;">Agile</a> <a href="/tags/CI-CD/" style="font-size: 19.33px;">CI/CD</a> <a href="/tags/Cache/" style="font-size: 10px;">Cache</a> <a href="/tags/Coding-Standard/" style="font-size: 10px;">Coding Standard</a> <a href="/tags/Container/" style="font-size: 12px;">Container</a> <a href="/tags/Database/" style="font-size: 12.67px;">Database</a> <a href="/tags/Design-Pattern/" style="font-size: 10.67px;">Design Pattern</a> <a href="/tags/Docker/" style="font-size: 12px;">Docker</a> <a href="/tags/Entity-Framework/" style="font-size: 10.67px;">Entity Framework</a> <a href="/tags/Firebase/" style="font-size: 10px;">Firebase</a> <a href="/tags/Git/" style="font-size: 10.67px;">Git</a> <a href="/tags/Golang/" style="font-size: 11.33px;">Golang</a> <a href="/tags/Google/" style="font-size: 11.33px;">Google</a> <a href="/tags/GulpJs/" style="font-size: 10.67px;">GulpJs</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/Hexo/" style="font-size: 15.33px;">Hexo</a> <a href="/tags/IIS/" style="font-size: 10px;">IIS</a> <a href="/tags/IO/" style="font-size: 10px;">IO</a> <a href="/tags/Integrated-Testing/" style="font-size: 10px;">Integrated Testing</a> <a href="/tags/Jenkins/" style="font-size: 12px;">Jenkins</a> <a href="/tags/Kubernetes/" style="font-size: 10px;">Kubernetes</a> <a href="/tags/Linux/" style="font-size: 10.67px;">Linux</a> <a href="/tags/Mongodb/" style="font-size: 10px;">Mongodb</a> <a href="/tags/MsSQL/" style="font-size: 11.33px;">MsSQL</a> <a href="/tags/MsTest/" style="font-size: 10px;">MsTest</a> <a href="/tags/Mutation-Testing/" style="font-size: 10px;">Mutation Testing</a> <a href="/tags/Nodejs/" style="font-size: 15.33px;">Nodejs</a> <a href="/tags/OAuth/" style="font-size: 10px;">OAuth</a> <a href="/tags/OOP/" style="font-size: 11.33px;">OOP</a> <a href="/tags/Openshift/" style="font-size: 10.67px;">Openshift</a> <a href="/tags/PowerShell/" style="font-size: 11.33px;">PowerShell</a> <a href="/tags/React/" style="font-size: 12px;">React</a> <a href="/tags/Redis/" style="font-size: 10.67px;">Redis</a> <a href="/tags/SQL/" style="font-size: 12px;">SQL</a> <a href="/tags/Scrum/" style="font-size: 16.67px;">Scrum</a> <a href="/tags/Shell/" style="font-size: 10.67px;">Shell</a> <a href="/tags/Specflow/" style="font-size: 10px;">Specflow</a> <a href="/tags/StyleCop/" style="font-size: 10px;">StyleCop</a> <a href="/tags/TDD/" style="font-size: 16px;">TDD</a> <a href="/tags/Testing/" style="font-size: 14px;">Testing</a> <a href="/tags/Thread/" style="font-size: 10.67px;">Thread</a> <a href="/tags/Trello/" style="font-size: 10px;">Trello</a> <a href="/tags/TypeScript/" style="font-size: 13.33px;">TypeScript</a> <a href="/tags/Unit-Testing/" style="font-size: 18.67px;">Unit Testing</a> <a href="/tags/Unix/" style="font-size: 10.67px;">Unix</a> <a href="/tags/Vim/" style="font-size: 10px;">Vim</a> <a href="/tags/Visual-Studio/" style="font-size: 10px;">Visual Studio</a> <a href="/tags/html/" style="font-size: 10px;">html</a> <a href="/tags/post/" style="font-size: 10px;">post</a> <a href="/tags/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/" style="font-size: 14px;">學習筆記</a> <a href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" style="font-size: 20px;">實作筆記</a> <a href="/tags/%E6%99%82%E9%96%93%E7%AE%A1%E7%90%86/" style="font-size: 10.67px;">時間管理</a> <a href="/tags/%E6%B4%BB%E5%8B%95%E7%AD%86%E8%A8%98/" style="font-size: 12.67px;">活動筆記</a> <a href="/tags/%E7%94%9F%E6%B4%BB%E7%AD%86%E8%A8%98/" style="font-size: 16px;">生活筆記</a> <a href="/tags/%E8%A8%98%E9%8C%84/" style="font-size: 11.33px;">記錄</a> <a href="/tags/%E8%B8%A9%E9%9B%B7%E7%AD%86%E8%A8%98/" style="font-size: 14.67px;">踩雷筆記</a> <a href="/tags/%E9%87%8D%E6%A7%8B/" style="font-size: 12px;">重構</a> <a href="/tags/%E9%96%B1%E8%AE%80%E7%AD%86%E8%A8%98/" style="font-size: 18px;">閱讀筆記</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Net-Framework/" rel="tag">.Net Framework</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/" rel="tag">API</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AWS/" rel="tag">AWS</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Agile/" rel="tag">Agile</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CI-CD/" rel="tag">CI&#x2F;CD</a><span class="tag-list-count">24</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cache/" rel="tag">Cache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Coding-Standard/" rel="tag">Coding Standard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Container/" rel="tag">Container</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Database/" rel="tag">Database</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-Pattern/" rel="tag">Design Pattern</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Entity-Framework/" rel="tag">Entity Framework</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Firebase/" rel="tag">Firebase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Golang/" rel="tag">Golang</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Google/" rel="tag">Google</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GulpJs/" rel="tag">GulpJs</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IIS/" rel="tag">IIS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO/" rel="tag">IO</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Integrated-Testing/" rel="tag">Integrated Testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/" rel="tag">Jenkins</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kubernetes/" rel="tag">Kubernetes</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mongodb/" rel="tag">Mongodb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MsSQL/" rel="tag">MsSQL</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MsTest/" rel="tag">MsTest</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mutation-Testing/" rel="tag">Mutation Testing</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nodejs/" rel="tag">Nodejs</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OAuth/" rel="tag">OAuth</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OOP/" rel="tag">OOP</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Openshift/" rel="tag">Openshift</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PowerShell/" rel="tag">PowerShell</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/" rel="tag">SQL</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scrum/" rel="tag">Scrum</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shell/" rel="tag">Shell</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Specflow/" rel="tag">Specflow</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/StyleCop/" rel="tag">StyleCop</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TDD/" rel="tag">TDD</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Testing/" rel="tag">Testing</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Thread/" rel="tag">Thread</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Trello/" rel="tag">Trello</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unit-Testing/" rel="tag">Unit Testing</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unix/" rel="tag">Unix</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vim/" rel="tag">Vim</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Visual-Studio/" rel="tag">Visual Studio</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html/" rel="tag">html</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/post/" rel="tag">post</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/" rel="tag">學習筆記</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AF%A6%E4%BD%9C%E7%AD%86%E8%A8%98/" rel="tag">實作筆記</a><span class="tag-list-count">120</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%99%82%E9%96%93%E7%AE%A1%E7%90%86/" rel="tag">時間管理</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B4%BB%E5%8B%95%E7%AD%86%E8%A8%98/" rel="tag">活動筆記</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E6%B4%BB%E7%AD%86%E8%A8%98/" rel="tag">生活筆記</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A8%98%E9%8C%84/" rel="tag">記錄</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B8%A9%E9%9B%B7%E7%AD%86%E8%A8%98/" rel="tag">踩雷筆記</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%8D%E6%A7%8B/" rel="tag">重構</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%96%B1%E8%AE%80%E7%AD%86%E8%A8%98/" rel="tag">閱讀筆記</a><span class="tag-list-count">15</span></li></ul>
    </div>
  </div>


  
    

  
    <div class="widget-wrap">
    <h3 class="widget-title">多語系</h3>
    <div class="widget">
        <div id="ytWidget"></div>
    </div>
</div>
<script src="https://translate.yandex.net/website-widget/v1/widget.js?widgetId=ytWidget&pageLang=zh&widgetTheme=dark&autoMode=false" type="text/javascript"></script>
  
    <div class="widget-wrap">
    <h3 class="widget-title">BADGES</h3>
    <div class="widget">
        <a target="_blank" rel="noopener" href="https://bcert.me/bc/html/show-badge.html?b=uufxvngl">
            <img src="/images/2018/csm/seal-csm.png" alt="Certified ScrumMaster®">
        </a>
    </div>
</div>
  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2025 Marsen L.<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

  
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>



<script src="/js/sayings.js?v=0.js"></script>
  

<script src="/js/script.js?v=0.js"></script>

<div id="likecoin">
  <script type="text/javascript">
    document.write(
      "<iframe scrolling='no' frameborder='0' sandbox='allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation' style='height: 212px; width: 100%;' src='https://button.like.co/in/embed/marsenlin/button?referrer=" +
      encodeURIComponent(location.href.split("?")[0].split("#")[0]) + "'></iframe>");
  </script>
</div>
<script>

  var disqus_shortname = 'marsenlin';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();

</script>

  </div>
    
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NTDGNJZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

</body>
</html>